<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>ğŸ“„ Item24 ~ 28 | wally-wally TIL</title>
    <meta name="generator" content="VuePress 1.9.7">
    
    <meta name="description" content="wally-wally&#39;s TIL">
    <meta name="theme-color" content="#3eaf7c">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    
    <link rel="preload" href="/wally-wally-til/assets/css/0.styles.5b0b7f0f.css" as="style"><link rel="preload" href="/wally-wally-til/assets/js/app.f5246800.js" as="script"><link rel="preload" href="/wally-wally-til/assets/js/2.fd76ebd9.js" as="script"><link rel="preload" href="/wally-wally-til/assets/js/16.85e8420c.js" as="script"><link rel="prefetch" href="/wally-wally-til/assets/js/10.d9a95bfe.js"><link rel="prefetch" href="/wally-wally-til/assets/js/11.a2a6e0bb.js"><link rel="prefetch" href="/wally-wally-til/assets/js/12.07ea1bdf.js"><link rel="prefetch" href="/wally-wally-til/assets/js/13.1bfbaa6f.js"><link rel="prefetch" href="/wally-wally-til/assets/js/14.90ad19d6.js"><link rel="prefetch" href="/wally-wally-til/assets/js/15.f50c2694.js"><link rel="prefetch" href="/wally-wally-til/assets/js/17.872b0e5a.js"><link rel="prefetch" href="/wally-wally-til/assets/js/18.f1794982.js"><link rel="prefetch" href="/wally-wally-til/assets/js/19.786141e4.js"><link rel="prefetch" href="/wally-wally-til/assets/js/20.88ff03b1.js"><link rel="prefetch" href="/wally-wally-til/assets/js/21.fd903a51.js"><link rel="prefetch" href="/wally-wally-til/assets/js/22.d215abd1.js"><link rel="prefetch" href="/wally-wally-til/assets/js/23.44ffc4f2.js"><link rel="prefetch" href="/wally-wally-til/assets/js/24.01293f45.js"><link rel="prefetch" href="/wally-wally-til/assets/js/25.3ef63158.js"><link rel="prefetch" href="/wally-wally-til/assets/js/26.a467aa9c.js"><link rel="prefetch" href="/wally-wally-til/assets/js/27.9e7ecb66.js"><link rel="prefetch" href="/wally-wally-til/assets/js/28.2ab87b73.js"><link rel="prefetch" href="/wally-wally-til/assets/js/29.4481ba0f.js"><link rel="prefetch" href="/wally-wally-til/assets/js/3.c603572a.js"><link rel="prefetch" href="/wally-wally-til/assets/js/30.19fd5f37.js"><link rel="prefetch" href="/wally-wally-til/assets/js/31.d5bfcc5a.js"><link rel="prefetch" href="/wally-wally-til/assets/js/32.5ee24aeb.js"><link rel="prefetch" href="/wally-wally-til/assets/js/33.11913056.js"><link rel="prefetch" href="/wally-wally-til/assets/js/34.31af5972.js"><link rel="prefetch" href="/wally-wally-til/assets/js/35.9ae3b57d.js"><link rel="prefetch" href="/wally-wally-til/assets/js/36.39511f04.js"><link rel="prefetch" href="/wally-wally-til/assets/js/37.298faa13.js"><link rel="prefetch" href="/wally-wally-til/assets/js/38.04a5a190.js"><link rel="prefetch" href="/wally-wally-til/assets/js/39.02659111.js"><link rel="prefetch" href="/wally-wally-til/assets/js/4.ed8f2e2d.js"><link rel="prefetch" href="/wally-wally-til/assets/js/40.e5fe29a8.js"><link rel="prefetch" href="/wally-wally-til/assets/js/41.2e0f3c4d.js"><link rel="prefetch" href="/wally-wally-til/assets/js/42.604fb7ae.js"><link rel="prefetch" href="/wally-wally-til/assets/js/43.7be3d9b4.js"><link rel="prefetch" href="/wally-wally-til/assets/js/44.6a25a594.js"><link rel="prefetch" href="/wally-wally-til/assets/js/45.3d5db9fb.js"><link rel="prefetch" href="/wally-wally-til/assets/js/46.f541a5fe.js"><link rel="prefetch" href="/wally-wally-til/assets/js/47.493907b1.js"><link rel="prefetch" href="/wally-wally-til/assets/js/48.8846fba8.js"><link rel="prefetch" href="/wally-wally-til/assets/js/49.180ec634.js"><link rel="prefetch" href="/wally-wally-til/assets/js/5.16508133.js"><link rel="prefetch" href="/wally-wally-til/assets/js/50.43c8c2f2.js"><link rel="prefetch" href="/wally-wally-til/assets/js/51.cf749cf9.js"><link rel="prefetch" href="/wally-wally-til/assets/js/52.99331d67.js"><link rel="prefetch" href="/wally-wally-til/assets/js/53.efc989ab.js"><link rel="prefetch" href="/wally-wally-til/assets/js/54.6d56ccbb.js"><link rel="prefetch" href="/wally-wally-til/assets/js/55.0c06e067.js"><link rel="prefetch" href="/wally-wally-til/assets/js/56.b45e191a.js"><link rel="prefetch" href="/wally-wally-til/assets/js/57.961440e9.js"><link rel="prefetch" href="/wally-wally-til/assets/js/58.a3d99037.js"><link rel="prefetch" href="/wally-wally-til/assets/js/59.55d3c672.js"><link rel="prefetch" href="/wally-wally-til/assets/js/6.c7b54f12.js"><link rel="prefetch" href="/wally-wally-til/assets/js/60.1eb9e815.js"><link rel="prefetch" href="/wally-wally-til/assets/js/61.60cf2957.js"><link rel="prefetch" href="/wally-wally-til/assets/js/62.060bd05f.js"><link rel="prefetch" href="/wally-wally-til/assets/js/63.f005f9ad.js"><link rel="prefetch" href="/wally-wally-til/assets/js/64.a7d460aa.js"><link rel="prefetch" href="/wally-wally-til/assets/js/65.083b5915.js"><link rel="prefetch" href="/wally-wally-til/assets/js/66.3f31ca88.js"><link rel="prefetch" href="/wally-wally-til/assets/js/67.affe2987.js"><link rel="prefetch" href="/wally-wally-til/assets/js/68.58b01f3c.js"><link rel="prefetch" href="/wally-wally-til/assets/js/69.c7491bbb.js"><link rel="prefetch" href="/wally-wally-til/assets/js/7.233f38d3.js"><link rel="prefetch" href="/wally-wally-til/assets/js/70.9c9e05e7.js"><link rel="prefetch" href="/wally-wally-til/assets/js/71.67c4633a.js"><link rel="prefetch" href="/wally-wally-til/assets/js/72.66a1fbf9.js"><link rel="prefetch" href="/wally-wally-til/assets/js/73.cc121e7e.js"><link rel="prefetch" href="/wally-wally-til/assets/js/74.b71f297f.js"><link rel="prefetch" href="/wally-wally-til/assets/js/75.24c397b2.js"><link rel="prefetch" href="/wally-wally-til/assets/js/8.f792d4e1.js"><link rel="prefetch" href="/wally-wally-til/assets/js/9.897445a3.js">
    <link rel="stylesheet" href="/wally-wally-til/assets/css/0.styles.5b0b7f0f.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/wally-wally-til/" class="home-link router-link-active"><img src="/wally-wally-til/logo.png" alt="wally-wally TIL" class="logo"> <span class="site-name can-hide">wally-wally TIL</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/wally-wally-til/til/" class="nav-link router-link-active">
  TIL
</a></div><div class="nav-item"><a href="/wally-wally-til/config/" class="nav-link">
  Config
</a></div><div class="nav-item"><a href="https://wally-wally.kr" target="_blank" rel="noopener noreferrer" class="nav-link external">
  wally-wally
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/wally-wally-til/til/" class="nav-link router-link-active">
  TIL
</a></div><div class="nav-item"><a href="/wally-wally-til/config/" class="nav-link">
  Config
</a></div><div class="nav-item"><a href="https://wally-wally.kr" target="_blank" rel="noopener noreferrer" class="nav-link external">
  wally-wally
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Introduction</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>JS Deep Dive</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>Effective TypeScript</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/wally-wally-til/til/effective-typescript/" aria-current="page" class="sidebar-link">Overview</a></li><li><a href="/wally-wally-til/til/effective-typescript/item01-05.html" class="sidebar-link">Item01-05</a></li><li><a href="/wally-wally-til/til/effective-typescript/item06-10.html" class="sidebar-link">Item06-10</a></li><li><a href="/wally-wally-til/til/effective-typescript/item11-15.html" class="sidebar-link">Item11-15</a></li><li><a href="/wally-wally-til/til/effective-typescript/item16-18.html" class="sidebar-link">Item16-18</a></li><li><a href="/wally-wally-til/til/effective-typescript/item19-23.html" class="sidebar-link">Item19-23</a></li><li><a href="/wally-wally-til/til/effective-typescript/item24-28.html" aria-current="page" class="active sidebar-link">Item24-28</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/wally-wally-til/til/effective-typescript/item24-28.html#item24-á„‹á…µá†¯á„€á…ªá†«á„‰á…¥á†¼-á„‹á…µá†»á„‚á…³á†«-á„‡á…§á†¯á„á…µá†¼-á„‰á…¡á„‹á…­á†¼á„’á…¡á„€á…µ" class="sidebar-link">Item24. ì¼ê´€ì„± ìˆëŠ” ë³„ì¹­ ì‚¬ìš©í•˜ê¸°</a></li><li class="sidebar-sub-header"><a href="/wally-wally-til/til/effective-typescript/item24-28.html#item25-á„‡á…µá„ƒá…©á†¼á„€á…µ-á„á…©á„ƒá…³á„‹á…¦á„‚á…³á†«-á„á…©á†¯á„‡á…¢á†¨-á„ƒá…¢á„‰á…µá†«-async-á„’á…¡á†·á„‰á…®-á„‰á…¡á„‹á…­á†¼á„’á…¡á„€á…µ" class="sidebar-link">Item25. ë¹„ë™ê¸° ì½”ë“œì—ëŠ” ì½œë°± ëŒ€ì‹  async í•¨ìˆ˜ ì‚¬ìš©í•˜ê¸°</a></li><li class="sidebar-sub-header"><a href="/wally-wally-til/til/effective-typescript/item24-28.html#item26-á„á…¡á„‹á…µá†¸-á„á…®á„…á…©á†«á„‹á…¦-á„†á…®á†«á„†á…¢á†¨á„‹á…µ-á„‹á…¥á„„á…¥á‡‚á„€á…¦-á„‰á…¡á„‹á…­á†¼á„ƒá…¬á„‚á…³á†«á„Œá…µ-á„‹á…µá„’á…¢á„’á…¡á„€á…µ" class="sidebar-link">Item26. íƒ€ì… ì¶”ë¡ ì— ë¬¸ë§¥ì´ ì–´ë–»ê²Œ ì‚¬ìš©ë˜ëŠ”ì§€ ì´í•´í•˜ê¸°</a></li><li class="sidebar-sub-header"><a href="/wally-wally-til/til/effective-typescript/item24-28.html#item27-á„’á…¡á†·á„‰á…®á„’á…§á†¼-á„€á…µá„‡á…¥á†¸á„€á…ª-á„…á…¡á„‹á…µá„‡á…³á„…á…¥á„…á…µá„…á…©-á„á…¡á„‹á…µá†¸-á„’á…³á„…á…³á†·-á„‹á…²á„Œá…µá„’á…¡á„€á…µ" class="sidebar-link">Item27. í•¨ìˆ˜í˜• ê¸°ë²•ê³¼ ë¼ì´ë¸ŒëŸ¬ë¦¬ë¡œ íƒ€ì… íë¦„ ìœ ì§€í•˜ê¸°</a></li><li class="sidebar-sub-header"><a href="/wally-wally-til/til/effective-typescript/item24-28.html#item28-á„‹á…²á„’á…­á„’á…¡á†«-á„‰á…¡á†¼á„á…¢á„†á…¡á†«-á„‘á…­á„’á…§á†«á„’á…¡á„‚á…³á†«-á„á…¡á„‹á…µá†¸á„‹á…³á†¯-á„Œá…µá„’á…£á†¼á„’á…¡á„€á…µ" class="sidebar-link">Item28. ìœ íš¨í•œ ìƒíƒœë§Œ í‘œí˜„í•˜ëŠ” íƒ€ì…ì„ ì§€í–¥í•˜ê¸°</a></li></ul></li><li><a href="/wally-wally-til/til/effective-typescript/item29-33.html" class="sidebar-link">Item29-33</a></li><li><a href="/wally-wally-til/til/effective-typescript/item34-38.html" class="sidebar-link">Item34-38</a></li><li><a href="/wally-wally-til/til/effective-typescript/item39-43.html" class="sidebar-link">Item39-43</a></li><li><a href="/wally-wally-til/til/effective-typescript/item44-48.html" class="sidebar-link">Item44-48</a></li><li><a href="/wally-wally-til/til/effective-typescript/item49-51.html" class="sidebar-link">Item49-51</a></li></ul></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Refactoring</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Functional Coding</span> <span class="arrow right"></span></p> <!----></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="item24-28"><a href="#item24-28" class="header-anchor">#</a> ğŸ“„ Item24 ~ 28</h1> <br> <h2 id="item24-á„‹á…µá†¯á„€á…ªá†«á„‰á…¥á†¼-á„‹á…µá†»á„‚á…³á†«-á„‡á…§á†¯á„á…µá†¼-á„‰á…¡á„‹á…­á†¼á„’á…¡á„€á…µ"><a href="#item24-á„‹á…µá†¯á„€á…ªá†«á„‰á…¥á†¼-á„‹á…µá†»á„‚á…³á†«-á„‡á…§á†¯á„á…µá†¼-á„‰á…¡á„‹á…­á†¼á„’á…¡á„€á…µ" class="header-anchor">#</a> Item24. ì¼ê´€ì„± ìˆëŠ” ë³„ì¹­ ì‚¬ìš©í•˜ê¸°</h2> <ul><li>ë³„ì¹­ì€ íƒ€ì…ìŠ¤í¬ë¦½íŠ¸ê°€ íƒ€ì…ì„ ì¢íˆëŠ” ê²ƒì„ ë°©í•´í•œë‹¤.
<ul><li>ë³„ì¹­ì„ ë‚¨ë°œí•´ì„œ ì‚¬ìš©í•˜ë©´ ì œì–´ íë¦„ì„ ë¶„ì„í•˜ê¸° ì–´ë µë‹¤.</li> <li>ë”°ë¼ì„œ ë³€ìˆ˜ì— ë³„ì¹­ì„ ì‚¬ìš©í•  ë•ŒëŠ” ì¼ê´€ë˜ê²Œ ì‚¬ìš©í•´ì•¼ í•œë‹¤.</li></ul></li></ul> <div class="language-typescript extra-class"><pre class="language-typescript"><code><span class="token keyword">const</span> borough <span class="token operator">=</span> <span class="token punctuation">{</span>
  name<span class="token operator">:</span> <span class="token string">'Brooklyn'</span><span class="token punctuation">,</span>
  location<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">40.688</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">73.979</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> loc <span class="token operator">=</span> borough<span class="token punctuation">.</span>location<span class="token punctuation">;</span>

loc<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>borough<span class="token punctuation">.</span>location<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// [0, -73.979]</span>
</code></pre></div><div class="language-typescript extra-class"><pre class="language-typescript"><code><span class="token keyword">interface</span> <span class="token class-name">Coordinate</span> <span class="token punctuation">{</span>
  x<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span>
  y<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">interface</span> <span class="token class-name">BoundingBox</span> <span class="token punctuation">{</span>
  x<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token builtin">number</span><span class="token punctuation">,</span> <span class="token builtin">number</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
  y<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token builtin">number</span><span class="token punctuation">,</span> <span class="token builtin">number</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">interface</span> <span class="token class-name">Polygon</span> <span class="token punctuation">{</span>
  exterior<span class="token operator">:</span> Coordinate<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
  holes<span class="token operator">:</span> Coordinates<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
  bbox<span class="token operator">?</span><span class="token operator">:</span> BoundingBox<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

</code></pre></div><div class="language-typescript extra-class"><pre class="language-typescript"><code><span class="token comment">// before</span>
<span class="token keyword">function</span> <span class="token function">isPointInPolygon</span><span class="token punctuation">(</span>polygon<span class="token operator">:</span> Polygon<span class="token punctuation">,</span> pt<span class="token operator">:</span> Coordinate<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>polygon<span class="token punctuation">.</span>bbox<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>pt<span class="token punctuation">.</span>x <span class="token operator">&lt;</span> polygon<span class="token punctuation">.</span>bbox<span class="token punctuation">.</span>x<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">||</span> pt<span class="token punctuation">.</span>x <span class="token operator">&gt;</span> polygon<span class="token punctuation">.</span>bbox<span class="token punctuation">.</span>x<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">||</span> pt<span class="token punctuation">.</span>y <span class="token operator">&lt;</span> polygon<span class="token punctuation">.</span>bbox<span class="token punctuation">.</span>y<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">||</span> pt<span class="token punctuation">.</span>y <span class="token operator">&gt;</span> polygon<span class="token punctuation">.</span>bbox<span class="token punctuation">.</span>y<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token comment">// after - íƒ€ì… ì˜¤ë¥˜ ë°œìƒ(strictNullChecks í™œì„±í™” ìƒíƒœ)</span>
<span class="token keyword">function</span> <span class="token function">isPointInPolygon</span><span class="token punctuation">(</span>polygon<span class="token operator">:</span> Polygon<span class="token punctuation">,</span> pt<span class="token operator">:</span> Coordinate<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> box <span class="token operator">=</span> polygon<span class="token punctuation">.</span>bbox<span class="token punctuation">;</span> <span class="token comment">// íƒ€ì…ì´ BoundingBox | undefined</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>polygon<span class="token punctuation">.</span>bbox<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>pt<span class="token punctuation">.</span>x <span class="token operator">&lt;</span> box<span class="token punctuation">.</span>x<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">||</span> pt<span class="token punctuation">.</span>x <span class="token operator">&gt;</span> box<span class="token punctuation">.</span>x<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">||</span> pt<span class="token punctuation">.</span>y <span class="token operator">&lt;</span> box<span class="token punctuation">.</span>y<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">||</span> pt<span class="token punctuation">.</span>y <span class="token operator">&gt;</span> box<span class="token punctuation">.</span>y<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><div class="language-typescript extra-class"><pre class="language-typescript"><code><span class="token comment">// ìœ„ì™€ ê°™ì€ ìƒí™©ì´ ë°œìƒí•œ ì´ìœ ëŠ” ì†ì„± ì²´í¬ëŠ” polygon.bboxì˜ íƒ€ì…ì„ ì •ì œí–ˆì§€ë§Œ boxëŠ” ê·¸ë ‡ì§€ ì•Šì•˜ê¸° ë•Œë¬¸ì´ë‹¤.</span>
<span class="token comment">// ì´ëŸ¬í•œ ì˜¤ë¥˜ëŠ” &quot;ë³„ì¹­ì„ ì¼ê´€ì„± ìˆê²Œ ì‚¬ìš©í•œë‹¤&quot;ëŠ” ê¸°ë³¸ ì›ì¹™ì„ ì§€í‚¤ë©´ ë°©ì§€í•  ìˆ˜ ìˆë‹¤.</span>

<span class="token keyword">function</span> <span class="token function">isPointInPolygon</span><span class="token punctuation">(</span>polygon<span class="token operator">:</span> Polygon<span class="token punctuation">,</span> pt<span class="token operator">:</span> Coordinate<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> box <span class="token operator">=</span> polygon<span class="token punctuation">.</span>bbox<span class="token punctuation">;</span> <span class="token comment">// íƒ€ì…ì´ BoundingBox | undefined</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>box<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>pt<span class="token punctuation">.</span>x <span class="token operator">&lt;</span> box<span class="token punctuation">.</span>x<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">||</span> pt<span class="token punctuation">.</span>x <span class="token operator">&gt;</span> box<span class="token punctuation">.</span>x<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">||</span> pt<span class="token punctuation">.</span>y <span class="token operator">&lt;</span> box<span class="token punctuation">.</span>y<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">||</span> pt<span class="token punctuation">.</span>y <span class="token operator">&gt;</span> box<span class="token punctuation">.</span>y<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><br> <ul><li>ìœ„ì™€ ê°™ì€ ì½”ë“œëŠ” ê°ì²´ ë¹„êµ¬ì¡°í™”ë¥¼ ì´ìš©í•˜ë©´ ë³´ë‹¤ ê°„ê²°í•œ ë¬¸ë²•ìœ¼ë¡œ ì¼ê´€ëœ ì´ë¦„ì„ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤.</li></ul> <div class="language-typescript extra-class"><pre class="language-typescript"><code><span class="token keyword">function</span> <span class="token function">isPointInPolygon</span><span class="token punctuation">(</span>polygon<span class="token operator">:</span> Polygon<span class="token punctuation">,</span> pt<span class="token operator">:</span> Coordinate<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> <span class="token punctuation">{</span> bbox <span class="token punctuation">}</span> <span class="token operator">=</span> polygon<span class="token punctuation">;</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>bbox<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> <span class="token punctuation">{</span>x<span class="token punctuation">,</span> y<span class="token punctuation">}</span> <span class="token operator">=</span> bbox<span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>pt<span class="token punctuation">.</span>x <span class="token operator">&lt;</span> x<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">||</span> pt<span class="token punctuation">.</span>x <span class="token operator">&gt;</span> x<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">||</span> pt<span class="token punctuation">.</span>y <span class="token operator">&lt;</span> y<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">||</span> pt<span class="token punctuation">.</span>y <span class="token operator">&gt;</span> y<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><ul><li>ê°ì²´ ë¹„êµ¬ì¡°í™” ì´ìš©ì‹œ ì£¼ì˜ì‚¬í•­
<ul><li>ì „ì²´ <code>bbox</code> ì†ì„±ì´ ì•„ë‹ˆë¼ <code>x</code>, <code>y</code>ê°€ ì„ íƒì  ì†ì„±ì¼ ê²½ìš° ì†ì„± ì²´í¬ê°€ ë” í•„ìš”í•˜ë‹¤.
<ul><li>ë”°ë¼ì„œ íƒ€ì…ì˜ ê²½ê³„ì— <code>null</code> ê°’ì„ ì¶”ê°€í•˜ëŠ” ê²ƒì´ ì¢‹ë‹¤.</li></ul></li> <li><code>bbox</code>ì—ëŠ” ì„ íƒì  ì†ì„±ì´ ì í•©í–ˆì§€ë§Œ <code>holes</code>ëŠ” ê·¸ë ‡ì§€ ì•Šë‹¤.
<ul><li><code>holes</code>ê°€ ì„ íƒì ì´ë¼ë©´, ê°’ì´ ì—†ê±°ë‚˜ ë¹ˆ ë°°ì—´ì´ì—ˆì„ ê²ƒì´ë‹¤.</li> <li>ì°¨ì´ê°€ ì—†ëŠ”ë° ì´ë¦„ì„ êµ¬ë³„í•œ ê²ƒì´ë‹¤.</li> <li>ë¹ˆ ë°°ì—´ì€ 'holes ì—†ìŒ'ì„ ë‚˜íƒ€ë‚´ëŠ” ì¢‹ì€ ë°©ë²•ì´ë‹¤.</li></ul></li></ul></li></ul> <br> <ul><li>ë³„ì¹­ì€ íƒ€ì… ì²´ì»¤ë¿ë§Œ ì•„ë‹ˆë¼ ëŸ°íƒ€ì„ì—ë„ í˜¼ë™ì„ ì•¼ê¸°í•  ìˆ˜ ìˆë‹¤.</li></ul> <div class="language-typescript extra-class"><pre class="language-typescript"><code><span class="token keyword">const</span> <span class="token punctuation">{</span> bbox <span class="token punctuation">}</span> <span class="token operator">=</span> polygon<span class="token punctuation">;</span>
<span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>bbox<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token function">calculatePolygonBbox</span><span class="token punctuation">(</span>polygon<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// polygon.bboxê°€ ì±„ì›Œì§„ë‹¤.</span>
  <span class="token comment">// ì´ì œ polygon.bboxì™€ bboxëŠ” ë‹¤ë¥¸ ê°’ì„ ì°¸ì¡°í•œë‹¤.</span>
<span class="token punctuation">}</span>
</code></pre></div><ul><li>íƒ€ì…ìŠ¤í¬ë¦½íŠ¸ì˜ ì œì–´ íë¦„ ë¶„ì„ì€ ì§€ì—­ ë³€ìˆ˜ì—ëŠ” ê½¤ ì˜ ë™ì‘í•œë‹¤. ê·¸ëŸ¬ë‚˜ ê°ì²´ ì†ì„±ì—ì„œëŠ” ì£¼ì˜í•´ì•¼ í•œë‹¤.</li></ul> <div class="language-typescript extra-class"><pre class="language-typescript"><code><span class="token keyword">function</span> <span class="token function">fn</span><span class="token punctuation">(</span>p<span class="token operator">:</span> Polygon<span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment">/* ... */</span> <span class="token punctuation">}</span>

polygon<span class="token punctuation">.</span>bbox <span class="token comment">// íƒ€ì…ì´ BoundingBox | undefined</span>

<span class="token keyword">if</span> <span class="token punctuation">(</span>polygon<span class="token punctuation">.</span>bbox<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  polygon<span class="token punctuation">.</span>bbox <span class="token comment">// íƒ€ì…ì´ BoundingBox</span>
  <span class="token function">fn</span><span class="token punctuation">(</span>polygon<span class="token punctuation">)</span><span class="token punctuation">;</span>
  polygon<span class="token punctuation">.</span>bbox <span class="token comment">// íƒ€ì…ì´ BoundingBox</span>
<span class="token punctuation">}</span>
</code></pre></div><ul><li><code>fn(polygon);</code> í˜¸ì¶œì€ <code>polygon.bbox</code>ë¥¼ ì œê±°í•  ê°€ëŠ¥ì„±ì´ ìˆìœ¼ë¯€ë¡œ íƒ€ì…ì„ <code>BoundingBox | undefined</code> ë¡œ ë˜ëŒë¦¬ëŠ” ê²ƒì´ ì•ˆì „í•  ê²ƒì´ë‹¤.
<ul><li>ê·¸ëŸ¬ë‚˜ í•¨ìˆ˜ë¥¼ í˜¸ì¶œí•  ë•Œë§ˆë‹¤ ì†ì„± ì²´í¬ë¥¼ ë°˜ë³µí•´ì•¼ í•˜ê¸° ë•Œë¬¸ì— ì¢‹ì§€ì•Šë‹¤.</li> <li>í•¨ìˆ˜ í˜¸ì¶œì´ ê°ì²´ ì†ì„±ì˜ íƒ€ì… ì •ì œë¥¼ ë¬´íš¨í™”í•  ìˆ˜ ìˆë‹¤ëŠ” ì ì„ ì£¼ì˜í•´ì•¼ í•œë‹¤. ì†ì„±ë³´ë‹¤ ì§€ì—­ ë³€ìˆ˜ë¥¼ ì‚¬ìš©í•˜ë©´ íƒ€ì… ì •ì œë¥¼ ë¯¿ì„ ìˆ˜ ìˆë‹¤.</li> <li><code>polygon.bbox</code>ë¡œ ì‚¬ìš©í•˜ëŠ” ëŒ€ì‹  <code>bbox</code> ì§€ì—­ ë³€ìˆ˜ë¡œ ë½‘ì•„ë‚´ì„œ ì‚¬ìš©í•˜ë©´ <code>bbox</code> íƒ€ì…ì€ ì •í™•íˆ ìœ ì§€ë˜ë§Œ, <code>polygon.bbox</code>ì˜ ê°’ê³¼ ê°™ê²Œ ìœ ì§€ë˜ì§€ ì•Šì„ ìˆ˜ ìˆë‹¤.</li></ul></li></ul> <br> <h2 id="item25-á„‡á…µá„ƒá…©á†¼á„€á…µ-á„á…©á„ƒá…³á„‹á…¦á„‚á…³á†«-á„á…©á†¯á„‡á…¢á†¨-á„ƒá…¢á„‰á…µá†«-async-á„’á…¡á†·á„‰á…®-á„‰á…¡á„‹á…­á†¼á„’á…¡á„€á…µ"><a href="#item25-á„‡á…µá„ƒá…©á†¼á„€á…µ-á„á…©á„ƒá…³á„‹á…¦á„‚á…³á†«-á„á…©á†¯á„‡á…¢á†¨-á„ƒá…¢á„‰á…µá†«-async-á„’á…¡á†·á„‰á…®-á„‰á…¡á„‹á…­á†¼á„’á…¡á„€á…µ" class="header-anchor">#</a> Item25. ë¹„ë™ê¸° ì½”ë“œì—ëŠ” ì½œë°± ëŒ€ì‹  <code>async</code> í•¨ìˆ˜ ì‚¬ìš©í•˜ê¸°</h2> <ul><li>ì½œë°±ë³´ë‹¤ëŠ” í”„ë¡œë¯¸ìŠ¤ë‚˜ <code>async/await</code>ë¥¼ ì‚¬ìš©í•´ì•¼ í•˜ëŠ” ì´ìœ 
<ul><li>ì½œë°±ë³´ë‹¤ëŠ” í”„ë¡œë¯¸ìŠ¤ê°€ ì½”ë“œë¥¼ ì‘ì„±í•˜ê¸° ì‰½ë‹¤.</li> <li>ì½œë°±ë³´ë‹¤ëŠ” í”„ë¡œë¯¸ìŠ¤ê°€ íƒ€ì…ì„ ì¶”ë¡ í•˜ê¸° ì‰½ë‹¤.</li></ul></li></ul> <hr> <ul><li>ì˜ˆì‹œ1) ë³‘ë ¬ë¡œ í˜ì´ì§€ ë¡œë“œ</li></ul> <div class="language-typescript extra-class"><pre class="language-typescript"><code><span class="token keyword">async</span> <span class="token keyword">function</span> <span class="token function">fetchPages</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> <span class="token punctuation">[</span>response1<span class="token punctuation">,</span> response2<span class="token punctuation">,</span> response3<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token keyword">await</span> <span class="token builtin">Promise</span><span class="token punctuation">.</span><span class="token function">all</span><span class="token punctuation">(</span><span class="token punctuation">[</span>
    <span class="token function">fetch</span><span class="token punctuation">(</span>url1<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">fetch</span><span class="token punctuation">(</span>url2<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">fetch</span><span class="token punctuation">(</span>url3<span class="token punctuation">)</span>
  <span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><ul><li>ì˜ˆì‹œ2) <code>Promise.race</code>ë¡œ íƒ€ì„ì•„ì›ƒ ì¶”ê°€í•˜ëŠ” ë°©ë²•
<ul><li><code>Promise.race</code>ì˜ ë°˜í™˜ íƒ€ì…ì€ ì…ë ¥ íƒ€ì…ë“¤ì˜ ìœ ë‹ˆì˜¨ì´ê³ , ì´ë²ˆ ê²½ìš°ëŠ” <code>Promise&lt;Response | never&gt;</code>ê°€ ë˜ë‚˜ <code>never</code>ì™€ì˜ ìœ ë‹ˆì˜¨ì€ ì•„ë¬´ëŸ° íš¨ê³¼ê°€ ì—†ìœ¼ë¯€ë¡œ <code>Promise&lt;Response&gt;</code>ë¡œ ê°„ë‹¨í•´ì§„ë‹¤.</li></ul></li></ul> <div class="language-typescript extra-class"><pre class="language-typescript"><code><span class="token keyword">function</span> <span class="token function">timeout</span><span class="token punctuation">(</span>millis<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">Promise</span><span class="token operator">&lt;</span><span class="token builtin">never</span><span class="token operator">&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name"><span class="token builtin">Promise</span></span><span class="token punctuation">(</span><span class="token punctuation">(</span>resolve<span class="token punctuation">,</span> reject<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token function">reject</span><span class="token punctuation">(</span><span class="token string">'timeout'</span><span class="token punctuation">)</span><span class="token punctuation">,</span> millis<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">async</span> <span class="token keyword">function</span> <span class="token function">fetchWithTimeout</span><span class="token punctuation">(</span>url<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span> ms<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token builtin">Promise</span><span class="token punctuation">.</span><span class="token function">race</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token function">fetch</span><span class="token punctuation">(</span>url<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">timeout</span><span class="token punctuation">(</span>ms<span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><hr> <ul><li>ê°€ë” í”„ë¡œë¯¸ìŠ¤ë¥¼ ì§ì ‘ ìƒì„±í•´ì•¼í•  ë•Œ ì½œë°± APIë¥¼ ë˜í•‘í•  ê²½ìš°ê°€ ìˆëŠ”ë° <strong>ì„ íƒì˜ ì—¬ì§€ê°€ ìˆë‹¤ë©´ ì¼ë°˜ì ìœ¼ë¡œëŠ” í”„ë¡œë¯¸ìŠ¤ë¥¼ ìƒì„±í•˜ê¸° ë³´ë‹¤ëŠ” <code>async/await</code>ë¥¼ ì‚¬ìš©í•´ì•¼ í•œë‹¤.</strong> <ul><li>ì¼ë°˜ì ìœ¼ë¡œ ë” ê°„ê²°í•˜ê³  ì§ê´€ì ì¸ ì½”ë“œê°€ ëœë‹¤.</li> <li><code>async</code> í•¨ìˆ˜ëŠ” í•­ìƒ í”„ë¡œë¯¸ìŠ¤ë¥¼ ë°˜í™˜í•˜ë„ë¡ ê°•ì œëœë‹¤.</li></ul></li></ul> <div class="language-typescript extra-class"><pre class="language-typescript"><code><span class="token comment">// function getNumber(): Promise&lt;number&gt;</span>
<span class="token keyword">async</span> <span class="token keyword">function</span> <span class="token function">getNumber</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token number">42</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">const</span> <span class="token function-variable function">getNumber</span> <span class="token operator">=</span> <span class="token keyword">async</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token number">42</span><span class="token punctuation">;</span> <span class="token comment">// íƒ€ì…ì´ () =&gt; Promise&lt;number&gt;</span>

<span class="token keyword">const</span> <span class="token function-variable function">getNumber</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token builtin">Promise</span><span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span><span class="token number">42</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// íƒ€ì…ì´ () =&gt; Promise&lt;number&gt;</span>
</code></pre></div><ul><li><code>async</code> í•¨ìˆ˜ì—ì„œ í”„ë¡œë¯¸ìŠ¤ë¥¼ ë°˜í™˜í•˜ë©´ ë˜ ë‹¤ë¥¸ í”„ë¡œë¯¸ìŠ¤ë¡œ ë˜í•‘ë˜ì§€ ì•ŠëŠ”ë‹¤.
<ul><li>ë°˜í™˜ íƒ€ì…ì€ <code>Promise&lt;Promise&lt;T&gt;&gt;</code>ê°€ ì•„ë‹Œ <code>Promise&lt;T&gt;</code>ê°€ ëœë‹¤.</li> <li>íƒ€ì…ìŠ¤í¬ë¦½íŠ¸ë¥¼ ì‚¬ìš©í•˜ë©´ íƒ€ì… ì •ë³´ê°€ ëª…í™•íˆ ë“œëŸ¬ë‚˜ë¯€ë¡œ ë¹„ë™ê¸° ì½”ë“œì˜ ê°œë…ì„ ì¡ëŠ” ë° ë„ì›€ì´ ëœë‹¤.</li></ul></li></ul> <div class="language-typescript extra-class"><pre class="language-typescript"><code><span class="token comment">// function getJSON(url: string): Promise&lt;any&gt;</span>
<span class="token keyword">async</span> <span class="token keyword">function</span> <span class="token function">getJSON</span><span class="token punctuation">(</span>url<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> response <span class="token operator">=</span> <span class="token keyword">await</span> <span class="token function">fetch</span><span class="token punctuation">(</span>url<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">const</span> jsonPromise <span class="token operator">=</span> response<span class="token punctuation">.</span><span class="token function">json</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// íƒ€ì…ì´ Promise&lt;any&gt;</span>
  <span class="token keyword">return</span> jsonPromise<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><br> <h2 id="item26-á„á…¡á„‹á…µá†¸-á„á…®á„…á…©á†«á„‹á…¦-á„†á…®á†«á„†á…¢á†¨á„‹á…µ-á„‹á…¥á„„á…¥á‡‚á„€á…¦-á„‰á…¡á„‹á…­á†¼á„ƒá…¬á„‚á…³á†«á„Œá…µ-á„‹á…µá„’á…¢á„’á…¡á„€á…µ"><a href="#item26-á„á…¡á„‹á…µá†¸-á„á…®á„…á…©á†«á„‹á…¦-á„†á…®á†«á„†á…¢á†¨á„‹á…µ-á„‹á…¥á„„á…¥á‡‚á„€á…¦-á„‰á…¡á„‹á…­á†¼á„ƒá…¬á„‚á…³á†«á„Œá…µ-á„‹á…µá„’á…¢á„’á…¡á„€á…µ" class="header-anchor">#</a> Item26. íƒ€ì… ì¶”ë¡ ì— ë¬¸ë§¥ì´ ì–´ë–»ê²Œ ì‚¬ìš©ë˜ëŠ”ì§€ ì´í•´í•˜ê¸°</h2> <div class="language-typescript extra-class"><pre class="language-typescript"><code><span class="token keyword">type</span> <span class="token class-name">Language</span> <span class="token operator">=</span> <span class="token string">'JavaScript'</span> <span class="token operator">|</span> <span class="token string">'TypeScript'</span> <span class="token operator">|</span> <span class="token string">'Python'</span><span class="token punctuation">;</span>
<span class="token keyword">function</span> <span class="token function">setLanguage</span><span class="token punctuation">(</span>language<span class="token operator">:</span> Language<span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment">/* ... */</span> <span class="token punctuation">}</span>

<span class="token comment">// ì¸ë¼ì¸ í˜•íƒœ</span>
<span class="token function">setLanguage</span><span class="token punctuation">(</span><span class="token string">'JavaScript'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// ì •ìƒ</span>

<span class="token comment">// ì°¸ì¡° í˜•íƒœ</span>
<span class="token keyword">let</span> language <span class="token operator">=</span> <span class="token string">'JavaScript'</span><span class="token punctuation">;</span>
<span class="token function">setLanguage</span><span class="token punctuation">(</span>language<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 'string' í˜•ì‹ì˜ ì¸ìˆ˜ëŠ” 'Language' í˜•ì‹ì˜ ë§¤ê°œë³€ìˆ˜ì— í• ë‹¹ë  ìˆ˜ ì—†ìŠµë‹ˆë‹¤.</span>
</code></pre></div><ul><li>ìœ„ ì½”ë“œì—ì„œ ì¸ë¼ì¸ í˜•íƒœì—ì„œ íƒ€ì…ìŠ¤í¬ë¦½íŠ¸ëŠ” í•¨ìˆ˜ ì„ ì–¸ì„ í†µí•´ ë§¤ê°œë³€ìˆ˜ê°€ <code>Language</code> íƒ€ì…ì´ì–´ì•¼ í•œë‹¤ëŠ” ê²ƒì„ ì•Œê³  ìˆë‹¤.
<ul><li>í•´ë‹¹ íƒ€ì…ì— ë¬¸ìì—´ ë¦¬í„°ëŸ´ <code>'JavaScript'</code>ëŠ” í• ë‹¹ ê°€ëŠ¥í•˜ë¯€ë¡œ ì •ìƒì´ë‹¤.</li> <li>ê·¸ëŸ¬ë‚˜ ì´ ê°’ì„ ë³€ìˆ˜ë¡œ ë¶„ë¦¬í•´ë‚´ë©´, íƒ€ì…ìŠ¤í¬ë¦½íŠ¸ëŠ” í• ë‹¹ ì‹œì ì— íƒ€ì…ì„ ì¶”ë¡ í•œë‹¤.</li></ul></li> <li>ìœ„ì™€ ê°™ì€ ë¬¸ì œ í•´ê²° ë°©ë²•ìœ¼ë¡œ ë‘ ê°€ì§€ê°€ ìˆë‹¤.</li> <li>ì²« ë²ˆì§¸ í•´ë²•ì€ íƒ€ì… ì„ ì–¸ì—ì„œ <code>language</code>ì˜ ê°€ëŠ¥í•œ ê°’ì„ ì œí•œí•˜ëŠ” ê²ƒì´ë‹¤.</li></ul> <div class="language-typescript extra-class"><pre class="language-typescript"><code><span class="token keyword">let</span> language<span class="token operator">:</span> Language <span class="token operator">=</span> <span class="token string">'JavaScript'</span><span class="token punctuation">;</span>
<span class="token function">setLanguage</span><span class="token punctuation">(</span>language<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><ul><li>ë‘ ë²ˆì§¸ í•´ë²•ì€ <code>language</code>ë¥¼ ìƒìˆ˜ë¡œ ë§Œë“œëŠ” ê²ƒì´ë‹¤.</li></ul> <div class="language-typescript extra-class"><pre class="language-typescript"><code><span class="token keyword">const</span> language <span class="token operator">=</span> <span class="token string">'JavaScript'</span><span class="token punctuation">;</span>
<span class="token function">setLanguage</span><span class="token punctuation">(</span>language<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><ul><li>ìœ„ì™€ ê°™ì€ ê³¼ì •ì—ì„œ ì‚¬ìš©ë˜ëŠ” ë¬¸ë§¥ìœ¼ë¡œë¶€í„° ê°’ì„ ë¶„ë¦¬í–ˆë‹¤.
<ul><li>ë¬¸ë§¥ê³¼ ê°’ì„ ë¶„ë¦¬í•˜ë©´ ì¶”í›„ì— ê·¼ë³¸ì ì¸ ë¬¸ì œë¥¼ ë°œìƒì‹œí‚¬ ìˆ˜ ìˆë‹¤.</li> <li>ì´ì œë¶€í„° ì´ëŸ¬í•œ ë¬¸ë§¥ì˜ ì†Œì‹¤ë¡œ ì¸í•´ ì˜¤ë¥˜ê°€ ë°œìƒí•˜ëŠ” ëª‡ ê°€ì§€ ê²½ìš°ì™€, ì´ë¥¼ í•´ê²°í•˜ëŠ” ë°©ë²•ì„ ì‚´í´ë³´ì.</li></ul></li></ul> <br> <h3 id="á„á…²á„‘á…³á†¯-á„‰á…¡á„‹á…­á†¼-á„‰á…µ-á„Œá…®á„‹á…´á„Œá…¥á†·"><a href="#á„á…²á„‘á…³á†¯-á„‰á…¡á„‹á…­á†¼-á„‰á…µ-á„Œá…®á„‹á…´á„Œá…¥á†·" class="header-anchor">#</a> â­ï¸ íŠœí”Œ ì‚¬ìš© ì‹œ ì£¼ì˜ì </h3> <div class="language-typescript extra-class"><pre class="language-typescript"><code><span class="token keyword">function</span> <span class="token function">panTo</span><span class="token punctuation">(</span>where<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token builtin">number</span><span class="token punctuation">,</span> <span class="token builtin">number</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment">/* ... */</span> <span class="token punctuation">}</span>

<span class="token function">panTo</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">20</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// ì •ìƒ</span>

<span class="token keyword">const</span> loc <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">20</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token function">panTo</span><span class="token punctuation">(</span>loc<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 'number[]' í˜•ì‹ì˜ ì¸ìˆ˜ëŠ” '[number, number]' í˜•ì‹ì˜ ë§¤ê°œë³€ìˆ˜ì— í• ë‹¹ë  ìˆ˜ ì—†ìŠµë‹ˆë‹¤.</span>
</code></pre></div><ul><li><strong>íƒ€ì… ì„ ì–¸</strong>ì„ ì œê³µí•˜ëŠ” ë°©ë²•</li></ul> <div class="language-typescript extra-class"><pre class="language-typescript"><code><span class="token keyword">const</span> loc<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token builtin">number</span><span class="token punctuation">,</span> <span class="token builtin">number</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">20</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token function">panTo</span><span class="token punctuation">(</span>loc<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><ul><li>'ìƒìˆ˜ ë¬¸ë§¥' ì œê³µí•˜ëŠ” ë°©ë²•
<ul><li><code>const</code> : ë‹¨ì§€ ê°’ì´ ê°€ë¦¬í‚¤ëŠ” ì°¸ì¡°ê°€ ë³€í•˜ì§€ ì•ŠëŠ” ì–•ì€ ìƒìˆ˜</li> <li><strong><code>as const</code> : ê·¸ ê°’ì´ ë‚´ë¶€ê¹Œì§€ ìƒìˆ˜ë¼ëŠ” ì‚¬ì‹¤ì„ íƒ€ì…ìŠ¤í¬ë¦½íŠ¸ì—ê²Œ ì•Œë¦¼</strong></li></ul></li></ul> <div class="language-typescript extra-class"><pre class="language-typescript"><code><span class="token keyword">const</span> loc <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">20</span><span class="token punctuation">]</span> <span class="token keyword">as</span> <span class="token keyword">const</span><span class="token punctuation">;</span>
<span class="token function">panTo</span><span class="token punctuation">(</span>loc<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// ~~~ 'readonly [10, 20]' í˜•ì‹ì€ 'readonly' ì´ë©° ë³€ê²½ ê°€ëŠ¥í•œ í˜•ì‹ '[number, number]'ì— í• ë‹¹í•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤.</span>
</code></pre></div><ul><li>ìœ„ ì˜¤ë¥˜ëŠ” ì •í™•íˆ ì¶”ë¡ í•œ ë‚´ìš©ì´ë‹¤.
<ul><li><code>panTo</code>ì˜ íƒ€ì… ì‹œê·¸ë‹ˆì²˜ëŠ” <code>where</code>ì˜ ë‚´ìš©ì´ ë¶ˆë³€ì´ë¼ê³  ë³´ì¥í•˜ì§€ ì•ŠëŠ”ë‹¤.</li> <li>ì¦‰, <code>loc</code> ë§¤ê°œë³€ìˆ˜ê°€ <code>readonly</code> íƒ€ì…ì´ë¯€ë¡œ ë™ì‘í•˜ì§€ ì•ŠëŠ”ë‹¤.</li></ul></li> <li>ìµœì„ ì˜ í•´ê²°ì±… : í•¨ìˆ˜ì˜ ë§¤ê°œë³€ìˆ˜ì˜ íƒ€ì…ì— <code>readonly</code> ì§€ì •</li></ul> <div class="language-typescript extra-class"><pre class="language-typescript"><code><span class="token keyword">function</span> <span class="token function">panTo</span><span class="token punctuation">(</span>where<span class="token operator">:</span> <span class="token keyword">readonly</span> <span class="token punctuation">[</span><span class="token builtin">number</span><span class="token punctuation">,</span> <span class="token builtin">number</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment">/* ... */</span> <span class="token punctuation">}</span>

<span class="token keyword">const</span> loc <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">20</span><span class="token punctuation">]</span> <span class="token keyword">as</span> <span class="token keyword">const</span><span class="token punctuation">;</span>
<span class="token function">panTo</span><span class="token punctuation">(</span>loc<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><ul><li><code>as const</code>ì˜ ë‹¨ì 
<ul><li>ë§Œì•½ íƒ€ì… ì •ì˜ì— ì‹¤ìˆ˜ê°€ ìˆë‹¤ë©´ (ex. íŠœí”Œì— ì„¸ ë²ˆì§¸ ìš”ì†Œ ì¶”ê°€) ì˜¤ë¥˜ëŠ” íƒ€ì… ì •ì˜ê°€ ì•„ë‹ˆë¼ <strong>í˜¸ì¶œë˜ëŠ” ê³³ì—ì„œ ë°œìƒ</strong>í•œë‹¤ëŠ” ê²ƒì´ë‹¤.</li> <li>íŠ¹íˆ ì—¬ëŸ¬ ê²¹ ì¤‘ì²©ëœ ê°ì²´ì—ì„œ ì˜¤ë¥˜ê°€ ë°œìƒí•œë‹¤ë©´ ê·¼ë³¸ì ì¸ ì›ì¸ì„ íŒŒì•…í•˜ê¸° ì–´ë µë‹¤.</li></ul></li></ul> <div class="language-typescript extra-class"><pre class="language-typescript"><code><span class="token keyword">const</span> loc <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">20</span><span class="token punctuation">,</span> <span class="token number">30</span><span class="token punctuation">]</span> <span class="token keyword">as</span> <span class="token keyword">const</span><span class="token punctuation">;</span>
<span class="token function">panTo</span><span class="token punctuation">(</span>loc<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 'readonly [10, 20, 30]' í˜•ì‹ì˜ ì¸ìˆ˜ëŠ” 'readonly [number, number]' í˜•ì‹ì˜ ë§¤ê°œë³€ìˆ˜ì— í• ë‹¹ë  ìˆ˜ ì—†ìŠµë‹ˆë‹¤.</span>
            <span class="token comment">// 'length' ì†ì„±ì˜ í˜•ì‹ì´ í˜¸í™˜ë˜ì§€ ì•ŠìŠµë‹ˆë‹¤.</span>
            <span class="token comment">// '3' í˜•ì‹ì€ '2' í˜•ì‹ì— í• ë‹¹í•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤.</span>
</code></pre></div><br> <h3 id="á„€á…¢á†¨á„á…¦-á„‰á…¡á„‹á…­á†¼-á„‰á…µ-á„Œá…®á„‹á…´á„Œá…¥á†·"><a href="#á„€á…¢á†¨á„á…¦-á„‰á…¡á„‹á…­á†¼-á„‰á…µ-á„Œá…®á„‹á…´á„Œá…¥á†·" class="header-anchor">#</a> â­ï¸ ê°ì²´ ì‚¬ìš© ì‹œ ì£¼ì˜ì </h3> <div class="language-typescript extra-class"><pre class="language-typescript"><code><span class="token keyword">type</span> <span class="token class-name">Language</span> <span class="token operator">=</span> <span class="token string">'JavaScript'</span> <span class="token operator">|</span> <span class="token string">'TypeScript'</span> <span class="token operator">|</span> <span class="token string">'Python'</span><span class="token punctuation">;</span>

<span class="token keyword">interface</span> <span class="token class-name">GovernedLanguage</span> <span class="token punctuation">{</span>
  language<span class="token operator">:</span> Language<span class="token punctuation">;</span>
  organization<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">function</span> <span class="token function">complain</span><span class="token punctuation">(</span>language<span class="token operator">:</span> GovernedLanguage<span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment">/* ... */</span> <span class="token punctuation">}</span>

<span class="token function">complain</span><span class="token punctuation">(</span><span class="token punctuation">{</span> language<span class="token operator">:</span> <span class="token string">'TypeScript'</span><span class="token punctuation">,</span> organization<span class="token operator">:</span> <span class="token string">'Microsoft'</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// ì •ìƒ</span>

<span class="token keyword">const</span> ts <span class="token operator">=</span> <span class="token punctuation">{</span>
  language<span class="token operator">:</span> <span class="token string">'TypeScript'</span><span class="token punctuation">,</span>
  organization<span class="token operator">:</span> <span class="token string">'Microsoft'</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token function">complain</span><span class="token punctuation">(</span>ts<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// ~~'{ language: string; organization: string; }' í˜•ì‹ì˜ ì¸ìˆ˜ëŠ” 'GovernedLanguage' í˜•ì‹ì˜ ë§¤ê°œë³€ìˆ˜ì— í• ë‹¹ë  ìˆ˜ ì—†ìŠµë‹ˆë‹¤.</span>
              <span class="token comment">// 'language' ì†ì„±ì˜ í˜•ì‹ì´ í˜¸í™˜ë˜ì§€ ì•ŠìŠµë‹ˆë‹¤.</span>
              <span class="token comment">// 'string' í˜•ì‹ì€ 'Language' í˜•ì‹ì— í• ë‹¹í•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤.</span>
</code></pre></div><ul><li><code>ts</code> ê°ì²´ì—ì„œ <code>language</code>ì˜ íƒ€ì…ì€ <code>string</code>ìœ¼ë¡œ ì¶”ë¡ ëœë‹¤.
<ul><li>ì´ ë¬¸ì œëŠ” íƒ€ì… ì„ ì–¸ì„ ì¶”ê°€í•˜ê±°ë‚˜(<code>const ts: GovernedLanguage = ...</code>) ìƒìˆ˜ ë‹¨ì–¸(<code>as const</code>)ì„ ì‚¬ìš©í•´ í•´ê²°í•  ìˆ˜ ìˆë‹¤.</li></ul></li></ul> <h3 id="á„á…©á†¯á„‡á…¢á†¨-á„‰á…¡á„‹á…­á†¼-á„‰á…µ-á„Œá…®á„‹á…´á„Œá…¥á†·"><a href="#á„á…©á†¯á„‡á…¢á†¨-á„‰á…¡á„‹á…­á†¼-á„‰á…µ-á„Œá…®á„‹á…´á„Œá…¥á†·" class="header-anchor">#</a> â­ï¸ ì½œë°± ì‚¬ìš© ì‹œ ì£¼ì˜ì </h3> <div class="language-typescript extra-class"><pre class="language-typescript"><code><span class="token keyword">function</span> <span class="token function">callWithRandomNumbers</span><span class="token punctuation">(</span><span class="token function-variable function">fn</span><span class="token operator">:</span> <span class="token punctuation">(</span>n1<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">,</span> n2<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token keyword">void</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token function">fn</span><span class="token punctuation">(</span>Math<span class="token punctuation">.</span><span class="token function">random</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> Math<span class="token punctuation">.</span><span class="token function">random</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token function">callWithRandomNumbers</span><span class="token punctuation">(</span><span class="token punctuation">(</span>a<span class="token punctuation">,</span> b<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  a<span class="token punctuation">;</span> <span class="token comment">// íƒ€ì…ì´ number</span>
  b<span class="token punctuation">;</span> <span class="token comment">// íƒ€ì…ì´ number</span>
    
  <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>a <span class="token operator">+</span> b<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><ul><li><code>callWithRandomNumbers</code> í•¨ìˆ˜ì˜ ì¸ìë¡œ ë“¤ì–´ê°€ëŠ” ì½œë°± í•¨ìˆ˜ë¥¼ ìƒìˆ˜ë¡œ ë½‘ì•„ë‚´ë©´ ë¬¸ë§¥ì´ ì†Œì‹¤ë˜ê³  <code>noImplicitAny</code> ì˜¤ë¥˜ê°€ ë°œìƒí•˜ê²Œ ëœë‹¤.</li> <li>ì´ëŸ° ê²½ìš°ëŠ” ë§¤ê°œë³€ìˆ˜ì— íƒ€ì… êµ¬ë¬¸ì„ ì¶”ê°€í•´ì„œ í•´ê²°í•  ìˆ˜ ìˆë‹¤. ë˜ëŠ” ê°€ëŠ¥í•  ê²½ìš° ì „ì²´ í•¨ìˆ˜ í‘œí˜„ì‹ì— íƒ€ì… ì„ ì–¸ì„ ì ìš©í•˜ëŠ” ê²ƒì´ë‹¤.</li></ul> <div class="language-typescript extra-class"><pre class="language-typescript"><code><span class="token keyword">const</span> <span class="token function-variable function">fn</span> <span class="token operator">=</span> <span class="token punctuation">(</span>a<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">,</span> b<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>a <span class="token operator">+</span> b<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token function">callWithRandomNumbers</span><span class="token punctuation">(</span>fn<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><br> <h2 id="item27-á„’á…¡á†·á„‰á…®á„’á…§á†¼-á„€á…µá„‡á…¥á†¸á„€á…ª-á„…á…¡á„‹á…µá„‡á…³á„…á…¥á„…á…µá„…á…©-á„á…¡á„‹á…µá†¸-á„’á…³á„…á…³á†·-á„‹á…²á„Œá…µá„’á…¡á„€á…µ"><a href="#item27-á„’á…¡á†·á„‰á…®á„’á…§á†¼-á„€á…µá„‡á…¥á†¸á„€á…ª-á„…á…¡á„‹á…µá„‡á…³á„…á…¥á„…á…µá„…á…©-á„á…¡á„‹á…µá†¸-á„’á…³á„…á…³á†·-á„‹á…²á„Œá…µá„’á…¡á„€á…µ" class="header-anchor">#</a> Item27. í•¨ìˆ˜í˜• ê¸°ë²•ê³¼ ë¼ì´ë¸ŒëŸ¬ë¦¬ë¡œ íƒ€ì… íë¦„ ìœ ì§€í•˜ê¸°</h2> <ul><li>íƒ€ì… íë¦„ì„ ê°œì„ í•˜ê³ , ê°€ë…ì„±ì„ ë†’ì´ê³ , ëª…ì‹œì ì¸ íƒ€ì… êµ¬ë¬¸ì˜ í•„ìš”ì„±ì„ ì¤„ì´ê¸° ìœ„í•´ ì§ì ‘ êµ¬í˜„í•˜ê¸°ë³´ë‹¤ëŠ” ë‚´ì¥ëœ í•¨ìˆ˜í˜• ê¸°ë²•ê³¼ lodash ê°™ì€ ìœ í‹¸ë¦¬í‹° ë¼ì´ë¸ŒëŸ¬ë¦¬ë¥¼ ì‚¬ìš©í•˜ëŠ” ê²ƒì´ ì¢‹ë‹¤.</li></ul> <br> <h2 id="item28-á„‹á…²á„’á…­á„’á…¡á†«-á„‰á…¡á†¼á„á…¢á„†á…¡á†«-á„‘á…­á„’á…§á†«á„’á…¡á„‚á…³á†«-á„á…¡á„‹á…µá†¸á„‹á…³á†¯-á„Œá…µá„’á…£á†¼á„’á…¡á„€á…µ"><a href="#item28-á„‹á…²á„’á…­á„’á…¡á†«-á„‰á…¡á†¼á„á…¢á„†á…¡á†«-á„‘á…­á„’á…§á†«á„’á…¡á„‚á…³á†«-á„á…¡á„‹á…µá†¸á„‹á…³á†¯-á„Œá…µá„’á…£á†¼á„’á…¡á„€á…µ" class="header-anchor">#</a> Item28. ìœ íš¨í•œ ìƒíƒœë§Œ í‘œí˜„í•˜ëŠ” íƒ€ì…ì„ ì§€í–¥í•˜ê¸°</h2> <ul><li>íš¨ê³¼ì ìœ¼ë¡œ íƒ€ì…ì„ ì„¤ê³„í•˜ë ¤ë©´, ìœ íš¨í•œ ìƒíƒœë§Œ í‘œí˜„í•  ìˆ˜ ìˆëŠ” íƒ€ì…ì„ ë§Œë“¤ì–´ ë‚´ëŠ” ê²ƒì´ ê°€ì¥ ì¤‘ìš”í•˜ë‹¤.
<ul><li>ìœ íš¨í•œ ìƒíƒœì™€ ë¬´íš¨í•œ ìƒíƒœë¥¼ ë‘˜ ë‹¤ í‘œí˜„í•˜ëŠ” íƒ€ì…ì€ í˜¼ë€ì„ ì´ˆë˜í•˜ê¸° ì‰½ê³  ì˜¤ë¥˜ë¥¼ ìœ ë°œí•˜ê²Œ ëœë‹¤.</li></ul></li> <li>ìœ íš¨í•œ ìƒíƒœë§Œ í‘œí˜„í•˜ëŠ” íƒ€ì…ì„ ì§€í–¥í•´ì•¼ í•œë‹¤.
<ul><li>ì½”ë“œê°€ ê¸¸ì–´ì§€ê±°ë‚˜ í‘œí˜„í•˜ê¸° ì–´ë µì§€ë§Œ ê²°êµ­ì€ ì‹œê°„ì„ ì ˆì•½í•˜ê³  ê³ í†µì„ ì¤„ì¼ ìˆ˜ ìˆë‹¤.</li></ul></li></ul> <hr> <h3 id="á„‹á…¨á„‰á…µ-á„‘á…¦á„‹á…µá„Œá…µ-á„‚á…¢á„‹á…­á†¼-á„…á…©á„ƒá…³-á„’á…®-á„’á…ªá„†á…§á†«á„‹á…¦-á„‘á…­á„‰á…µá„’á…¡á„‚á…³á†«-á„á…©á„ƒá…³"><a href="#á„‹á…¨á„‰á…µ-á„‘á…¦á„‹á…µá„Œá…µ-á„‚á…¢á„‹á…­á†¼-á„…á…©á„ƒá…³-á„’á…®-á„’á…ªá„†á…§á†«á„‹á…¦-á„‘á…­á„‰á…µá„’á…¡á„‚á…³á†«-á„á…©á„ƒá…³" class="header-anchor">#</a> â­ï¸ [ì˜ˆì‹œ] í˜ì´ì§€ ë‚´ìš© ë¡œë“œ í›„ í™”ë©´ì— í‘œì‹œí•˜ëŠ” ì½”ë“œ</h3> <h4 id="before"><a href="#before" class="header-anchor">#</a> ğŸ“ before</h4> <div class="language-typescript extra-class"><pre class="language-typescript"><code><span class="token keyword">interface</span> <span class="token class-name">State</span> <span class="token punctuation">{</span>
  pageText<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>
  isLoading<span class="token operator">:</span> <span class="token builtin">boolean</span><span class="token punctuation">;</span>
  error<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><div class="language-typescript extra-class"><pre class="language-typescript"><code><span class="token keyword">function</span> <span class="token function">renderPage</span><span class="token punctuation">(</span>state<span class="token operator">:</span> State<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>state<span class="token punctuation">.</span>error<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">Error! Unable to load </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>currentPage<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">: </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>state<span class="token punctuation">.</span>error<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>state<span class="token punctuation">.</span>isLoading<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">Loading </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>currentPage<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">...</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
    
  <span class="token keyword">return</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">&lt;h1&gt;</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>currentPage<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">&lt;/h1&gt;\n</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>state<span class="token punctuation">.</span>pageText<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><div class="language-typescript extra-class"><pre class="language-typescript"><code><span class="token keyword">async</span> <span class="token keyword">function</span> <span class="token function">changePage</span><span class="token punctuation">(</span>state<span class="token operator">:</span> State<span class="token punctuation">,</span> newPage<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  state<span class="token punctuation">.</span>isLoading <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
    
  <span class="token keyword">try</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> response <span class="token operator">=</span> <span class="token keyword">await</span> <span class="token function">fetch</span><span class="token punctuation">(</span><span class="token function">getUrlForPage</span><span class="token punctuation">(</span>newPage<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>response<span class="token punctuation">.</span>ok<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">Error</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">Unable to load </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>newPage<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">: </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>response<span class="token punctuation">.</span>statusText<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
      
    <span class="token keyword">const</span> text <span class="token operator">=</span> <span class="token keyword">await</span> response<span class="token punctuation">.</span><span class="token function">text</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    state<span class="token punctuation">.</span>isLoading <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
    state<span class="token punctuation">.</span>pageText <span class="token operator">=</span> text<span class="token punctuation">;</span>
  <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span>e<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    state<span class="token punctuation">.</span>error <span class="token operator">=</span> <span class="token string">''</span> <span class="token operator">+</span> e<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><ul><li>ìœ„ í•¨ìˆ˜ë“¤ì€ ë¬¸ì œì ì´ ì¡´ì¬í•œë‹¤.
<ul><li>ìƒíƒœ ê°’ì˜ ë‘ ê°€ì§€ ì†ì„±ì´ ë™ì‹œì— ì •ë³´ê°€ ë¶€ì¡±í•˜ê±°ë‚˜(ìš”ì²­ì´ ì‹¤íŒ¨í•œ ê²ƒì¸ì§€ ì—¬ì „íˆ ë¡œë”© ì¤‘ì¸ì§€ ì•Œ ìˆ˜ ì—†ìŒ), ë‘ ê°€ì§€ ì†ì„±ì´ ì¶©ëŒ(ì˜¤ë¥˜ì´ë©´ì„œ ë™ì‹œì— ë¡œë”© ì¤‘ì¼ ìˆ˜ ìˆìŒ)í•  ìˆ˜ ìˆë‹¤.</li> <li><code>State</code> íƒ€ì…ì€ <code>isLoading</code>ì´ <code>true</code> ì´ê³  ë™ì‹œì— <code>error</code> ê°’ì´ ì¡´ì¬í•˜ëŠ” ë¬´íš¨í•œ ìƒíƒœë¥¼ í—ˆìš©í•œë‹¤.</li> <li>ë¬´íš¨í•œ ìƒíƒœê°€ ì¡´ì¬í•˜ë©´ ìœ„ ë‘ í•¨ìˆ˜ë¥¼ ì œëŒ€ë¡œ êµ¬í˜„í•  ìˆ˜ ì—†ë‹¤.</li></ul></li></ul> <br> <h4 id="after"><a href="#after" class="header-anchor">#</a> ğŸ“ after</h4> <ul><li>ë„¤íŠ¸ì›Œí¬ ìš”ì²­ ê³¼ì • ê°ê°ì˜ ìƒíƒœë¥¼ ëª…ì‹œì ìœ¼ë¡œ ëª¨ë¸ë¦¬í•˜ëŠ” íƒœê·¸ëœ ìœ ë‹ˆì˜¨ì„ ì‚¬ìš©</li></ul> <div class="language-typescript extra-class"><pre class="language-typescript"><code><span class="token keyword">interface</span> <span class="token class-name">RequestPending</span> <span class="token punctuation">{</span>
  state<span class="token operator">:</span> <span class="token string">'pending'</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">interface</span> <span class="token class-name">RequestError</span> <span class="token punctuation">{</span>
  state<span class="token operator">:</span> <span class="token string">'error'</span><span class="token punctuation">;</span>
  error<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">interface</span> <span class="token class-name">RequestSuccess</span> <span class="token punctuation">{</span>
  state<span class="token operator">:</span> <span class="token string">'ok'</span><span class="token punctuation">;</span>
  pageText<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">type</span> <span class="token class-name">RequestState</span> <span class="token operator">=</span> RequestPending <span class="token operator">|</span> RequestError <span class="token operator">|</span> RequestSuccess<span class="token punctuation">;</span>

<span class="token keyword">interface</span> <span class="token class-name">State</span> <span class="token punctuation">{</span>
  currentPage<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>
  request<span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token punctuation">[</span>page<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">]</span><span class="token operator">:</span> RequestState <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><div class="language-typescript extra-class"><pre class="language-typescript"><code><span class="token keyword">function</span> <span class="token function">renderPage</span><span class="token punctuation">(</span>state<span class="token operator">:</span> State<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> <span class="token punctuation">{</span> currentPage <span class="token punctuation">}</span> <span class="token operator">=</span> state<span class="token punctuation">;</span>
  <span class="token keyword">const</span> requestState <span class="token operator">=</span> state<span class="token punctuation">.</span>requests<span class="token punctuation">[</span>currentPage<span class="token punctuation">]</span><span class="token punctuation">;</span>
  
  <span class="token keyword">switch</span> <span class="token punctuation">(</span>requestState<span class="token punctuation">.</span>state<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">case</span> <span class="token string">'pending'</span><span class="token operator">:</span>
      <span class="token keyword">return</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">Loading </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>currentPage<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">...</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">;</span>
    <span class="token keyword">case</span> <span class="token string">'error'</span><span class="token operator">:</span>
      <span class="token keyword">return</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">Error! Unable to load </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>currentPage<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">: </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>requestState<span class="token punctuation">.</span>error<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">;</span>
    <span class="token keyword">case</span> <span class="token string">'ok'</span><span class="token operator">:</span>
      <span class="token keyword">return</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">&lt;h1&gt;</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>currentPage<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">&lt;/h1&gt;\n</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>state<span class="token punctuation">.</span>pageText<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><div class="language-typescript extra-class"><pre class="language-typescript"><code><span class="token keyword">async</span> <span class="token keyword">function</span> <span class="token function">changePage</span><span class="token punctuation">(</span>state<span class="token operator">:</span> State<span class="token punctuation">,</span> newPage<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  state<span class="token punctuation">.</span>requests<span class="token punctuation">[</span>newPage<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">{</span> state<span class="token operator">:</span> <span class="token string">'pending'</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
  state<span class="token punctuation">.</span>currentPage <span class="token operator">=</span> newPage<span class="token punctuation">;</span>
    
  <span class="token keyword">try</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> response <span class="token operator">=</span> <span class="token keyword">await</span> <span class="token function">fetch</span><span class="token punctuation">(</span><span class="token function">getUrlForPage</span><span class="token punctuation">(</span>newPage<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>response<span class="token punctuation">.</span>ok<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">Error</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">Unable to load </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>newPage<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">: </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>response<span class="token punctuation">.</span>statusText<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
      
    <span class="token keyword">const</span> text <span class="token operator">=</span> <span class="token keyword">await</span> response<span class="token punctuation">.</span><span class="token function">text</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    state<span class="token punctuation">.</span>requests<span class="token punctuation">[</span>newPage<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">{</span> state<span class="token operator">:</span> <span class="token string">'ok'</span><span class="token punctuation">,</span> pageText <span class="token punctuation">}</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span>e<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    state<span class="token punctuation">.</span>requests<span class="token punctuation">[</span>newPage<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">{</span> state<span class="token operator">:</span> <span class="token string">'error'</span><span class="token punctuation">,</span> error<span class="token operator">:</span> <span class="token string">''</span> <span class="token operator">+</span> e <span class="token punctuation">}</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><hr></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      â†
      <a href="/wally-wally-til/til/effective-typescript/item19-23.html" class="prev">
        Item19-23
      </a></span> <span class="next"><a href="/wally-wally-til/til/effective-typescript/item29-33.html">
        Item29-33
      </a>
      â†’
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/wally-wally-til/assets/js/app.f5246800.js" defer></script><script src="/wally-wally-til/assets/js/2.fd76ebd9.js" defer></script><script src="/wally-wally-til/assets/js/16.85e8420c.js" defer></script>
  </body>
</html>
