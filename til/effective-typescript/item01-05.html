<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>📄 Item01 ~ 05 | wally-wally TIL</title>
    <meta name="generator" content="VuePress 1.9.7">
    
    <meta name="description" content="wally-wally&#39;s TIL">
    <meta name="theme-color" content="#3eaf7c">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    
    <link rel="preload" href="/wally-wally-til/assets/css/0.styles.5b0b7f0f.css" as="style"><link rel="preload" href="/wally-wally-til/assets/js/app.f5246800.js" as="script"><link rel="preload" href="/wally-wally-til/assets/js/2.fd76ebd9.js" as="script"><link rel="preload" href="/wally-wally-til/assets/js/11.a2a6e0bb.js" as="script"><link rel="prefetch" href="/wally-wally-til/assets/js/10.d9a95bfe.js"><link rel="prefetch" href="/wally-wally-til/assets/js/12.07ea1bdf.js"><link rel="prefetch" href="/wally-wally-til/assets/js/13.1bfbaa6f.js"><link rel="prefetch" href="/wally-wally-til/assets/js/14.90ad19d6.js"><link rel="prefetch" href="/wally-wally-til/assets/js/15.f50c2694.js"><link rel="prefetch" href="/wally-wally-til/assets/js/16.85e8420c.js"><link rel="prefetch" href="/wally-wally-til/assets/js/17.872b0e5a.js"><link rel="prefetch" href="/wally-wally-til/assets/js/18.f1794982.js"><link rel="prefetch" href="/wally-wally-til/assets/js/19.786141e4.js"><link rel="prefetch" href="/wally-wally-til/assets/js/20.88ff03b1.js"><link rel="prefetch" href="/wally-wally-til/assets/js/21.fd903a51.js"><link rel="prefetch" href="/wally-wally-til/assets/js/22.d215abd1.js"><link rel="prefetch" href="/wally-wally-til/assets/js/23.44ffc4f2.js"><link rel="prefetch" href="/wally-wally-til/assets/js/24.01293f45.js"><link rel="prefetch" href="/wally-wally-til/assets/js/25.3ef63158.js"><link rel="prefetch" href="/wally-wally-til/assets/js/26.a467aa9c.js"><link rel="prefetch" href="/wally-wally-til/assets/js/27.9e7ecb66.js"><link rel="prefetch" href="/wally-wally-til/assets/js/28.2ab87b73.js"><link rel="prefetch" href="/wally-wally-til/assets/js/29.4481ba0f.js"><link rel="prefetch" href="/wally-wally-til/assets/js/3.c603572a.js"><link rel="prefetch" href="/wally-wally-til/assets/js/30.19fd5f37.js"><link rel="prefetch" href="/wally-wally-til/assets/js/31.d5bfcc5a.js"><link rel="prefetch" href="/wally-wally-til/assets/js/32.5ee24aeb.js"><link rel="prefetch" href="/wally-wally-til/assets/js/33.11913056.js"><link rel="prefetch" href="/wally-wally-til/assets/js/34.31af5972.js"><link rel="prefetch" href="/wally-wally-til/assets/js/35.9ae3b57d.js"><link rel="prefetch" href="/wally-wally-til/assets/js/36.39511f04.js"><link rel="prefetch" href="/wally-wally-til/assets/js/37.298faa13.js"><link rel="prefetch" href="/wally-wally-til/assets/js/38.04a5a190.js"><link rel="prefetch" href="/wally-wally-til/assets/js/39.02659111.js"><link rel="prefetch" href="/wally-wally-til/assets/js/4.ed8f2e2d.js"><link rel="prefetch" href="/wally-wally-til/assets/js/40.e5fe29a8.js"><link rel="prefetch" href="/wally-wally-til/assets/js/41.2e0f3c4d.js"><link rel="prefetch" href="/wally-wally-til/assets/js/42.604fb7ae.js"><link rel="prefetch" href="/wally-wally-til/assets/js/43.7be3d9b4.js"><link rel="prefetch" href="/wally-wally-til/assets/js/44.6a25a594.js"><link rel="prefetch" href="/wally-wally-til/assets/js/45.3d5db9fb.js"><link rel="prefetch" href="/wally-wally-til/assets/js/46.f541a5fe.js"><link rel="prefetch" href="/wally-wally-til/assets/js/47.493907b1.js"><link rel="prefetch" href="/wally-wally-til/assets/js/48.8846fba8.js"><link rel="prefetch" href="/wally-wally-til/assets/js/49.180ec634.js"><link rel="prefetch" href="/wally-wally-til/assets/js/5.16508133.js"><link rel="prefetch" href="/wally-wally-til/assets/js/50.43c8c2f2.js"><link rel="prefetch" href="/wally-wally-til/assets/js/51.cf749cf9.js"><link rel="prefetch" href="/wally-wally-til/assets/js/52.99331d67.js"><link rel="prefetch" href="/wally-wally-til/assets/js/53.efc989ab.js"><link rel="prefetch" href="/wally-wally-til/assets/js/54.6d56ccbb.js"><link rel="prefetch" href="/wally-wally-til/assets/js/55.0c06e067.js"><link rel="prefetch" href="/wally-wally-til/assets/js/56.b45e191a.js"><link rel="prefetch" href="/wally-wally-til/assets/js/57.961440e9.js"><link rel="prefetch" href="/wally-wally-til/assets/js/58.a3d99037.js"><link rel="prefetch" href="/wally-wally-til/assets/js/59.55d3c672.js"><link rel="prefetch" href="/wally-wally-til/assets/js/6.c7b54f12.js"><link rel="prefetch" href="/wally-wally-til/assets/js/60.1eb9e815.js"><link rel="prefetch" href="/wally-wally-til/assets/js/61.60cf2957.js"><link rel="prefetch" href="/wally-wally-til/assets/js/62.060bd05f.js"><link rel="prefetch" href="/wally-wally-til/assets/js/63.f005f9ad.js"><link rel="prefetch" href="/wally-wally-til/assets/js/64.a7d460aa.js"><link rel="prefetch" href="/wally-wally-til/assets/js/65.083b5915.js"><link rel="prefetch" href="/wally-wally-til/assets/js/66.3f31ca88.js"><link rel="prefetch" href="/wally-wally-til/assets/js/67.affe2987.js"><link rel="prefetch" href="/wally-wally-til/assets/js/68.58b01f3c.js"><link rel="prefetch" href="/wally-wally-til/assets/js/69.c7491bbb.js"><link rel="prefetch" href="/wally-wally-til/assets/js/7.233f38d3.js"><link rel="prefetch" href="/wally-wally-til/assets/js/70.9c9e05e7.js"><link rel="prefetch" href="/wally-wally-til/assets/js/71.67c4633a.js"><link rel="prefetch" href="/wally-wally-til/assets/js/72.66a1fbf9.js"><link rel="prefetch" href="/wally-wally-til/assets/js/73.cc121e7e.js"><link rel="prefetch" href="/wally-wally-til/assets/js/74.b71f297f.js"><link rel="prefetch" href="/wally-wally-til/assets/js/75.24c397b2.js"><link rel="prefetch" href="/wally-wally-til/assets/js/8.f792d4e1.js"><link rel="prefetch" href="/wally-wally-til/assets/js/9.897445a3.js">
    <link rel="stylesheet" href="/wally-wally-til/assets/css/0.styles.5b0b7f0f.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/wally-wally-til/" class="home-link router-link-active"><img src="/wally-wally-til/logo.png" alt="wally-wally TIL" class="logo"> <span class="site-name can-hide">wally-wally TIL</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/wally-wally-til/til/" class="nav-link router-link-active">
  TIL
</a></div><div class="nav-item"><a href="/wally-wally-til/config/" class="nav-link">
  Config
</a></div><div class="nav-item"><a href="https://wally-wally.kr" target="_blank" rel="noopener noreferrer" class="nav-link external">
  wally-wally
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/wally-wally-til/til/" class="nav-link router-link-active">
  TIL
</a></div><div class="nav-item"><a href="/wally-wally-til/config/" class="nav-link">
  Config
</a></div><div class="nav-item"><a href="https://wally-wally.kr" target="_blank" rel="noopener noreferrer" class="nav-link external">
  wally-wally
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Introduction</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>JS Deep Dive</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>Effective TypeScript</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/wally-wally-til/til/effective-typescript/" aria-current="page" class="sidebar-link">Overview</a></li><li><a href="/wally-wally-til/til/effective-typescript/item01-05.html" aria-current="page" class="active sidebar-link">Item01-05</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/wally-wally-til/til/effective-typescript/item01-05.html#item01-타입스크립트와-자바스크립트의-관계-이해하기" class="sidebar-link">Item01. 타입스크립트와 자바스크립트의 관계 이해하기</a></li><li class="sidebar-sub-header"><a href="/wally-wally-til/til/effective-typescript/item01-05.html#item02-타입스크립트-설정-이해하기" class="sidebar-link">Item02. 타입스크립트 설정 이해하기</a></li><li class="sidebar-sub-header"><a href="/wally-wally-til/til/effective-typescript/item01-05.html#item03-코드-생성과-타입이-관계없음을-이해하기" class="sidebar-link">Item03. 코드 생성과 타입이 관계없음을 이해하기</a></li><li class="sidebar-sub-header"><a href="/wally-wally-til/til/effective-typescript/item01-05.html#item04-구조적-타이핑에-익숙해지기" class="sidebar-link">Item04. 구조적 타이핑에 익숙해지기</a></li><li class="sidebar-sub-header"><a href="/wally-wally-til/til/effective-typescript/item01-05.html#item05-any-타입-지양하기" class="sidebar-link">Item05. any 타입 지양하기</a></li></ul></li><li><a href="/wally-wally-til/til/effective-typescript/item06-10.html" class="sidebar-link">Item06-10</a></li><li><a href="/wally-wally-til/til/effective-typescript/item11-15.html" class="sidebar-link">Item11-15</a></li><li><a href="/wally-wally-til/til/effective-typescript/item16-18.html" class="sidebar-link">Item16-18</a></li><li><a href="/wally-wally-til/til/effective-typescript/item19-23.html" class="sidebar-link">Item19-23</a></li><li><a href="/wally-wally-til/til/effective-typescript/item24-28.html" class="sidebar-link">Item24-28</a></li><li><a href="/wally-wally-til/til/effective-typescript/item29-33.html" class="sidebar-link">Item29-33</a></li><li><a href="/wally-wally-til/til/effective-typescript/item34-38.html" class="sidebar-link">Item34-38</a></li><li><a href="/wally-wally-til/til/effective-typescript/item39-43.html" class="sidebar-link">Item39-43</a></li><li><a href="/wally-wally-til/til/effective-typescript/item44-48.html" class="sidebar-link">Item44-48</a></li><li><a href="/wally-wally-til/til/effective-typescript/item49-51.html" class="sidebar-link">Item49-51</a></li></ul></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Refactoring</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Functional Coding</span> <span class="arrow right"></span></p> <!----></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="item01-05"><a href="#item01-05" class="header-anchor">#</a> 📄 Item01 ~ 05</h1> <br> <h2 id="item01-타입스크립트와-자바스크립트의-관계-이해하기"><a href="#item01-타입스크립트와-자바스크립트의-관계-이해하기" class="header-anchor">#</a> Item01. 타입스크립트와 자바스크립트의 관계 이해하기</h2> <ul><li>문법의 유효성과 동작의 이슈는 독립적인 문제이다.</li> <li>타입스크립트는 타입 구문을 통해서 오류의 원인을 추측하는데 큰 도움을 준다.
<ul><li>오류가 어디에서 발생했는지 찾을 수 있고, 해결책도 제시해주는 경우가 있다.</li></ul></li> <li>모든 자바스크립트는 타입스크립트이지만, 일부 자바스크립트(그리고 타입스크립트)는 체크를 통과한다.</li> <li>타입스크립트에서 오류가 발생하는 근본 원인은 타입스크립트가 이해하는 값의 타입과 실제 값에 차이가 있기 때문이다.</li></ul> <br> <h2 id="item02-타입스크립트-설정-이해하기"><a href="#item02-타입스크립트-설정-이해하기" class="header-anchor">#</a> Item02. 타입스크립트 설정 이해하기</h2> <ul><li><p><code>noImplicitAny</code></p> <ul><li>변수들이 미리 정의된 타입을 가져야 하는지 여부를 제어</li> <li>이 옵션이 설정되었다면 명시적으로 <code>: any</code>라고 선언해 주거나 더 분명한 타입을 사용하면 된다.</li> <li>타입스크립트는 타입 정보를 가질 때 가장 효과적이기 때문에 되도록이면 이 옵션을 <code>true</code>로 설정해야 한다.</li></ul></li> <li><p><code>strictNullChecks</code></p> <ul><li><code>null</code>, <code>undefined</code>가 모든 타입에서 허용되는지 확인하는 설정</li> <li>만약 <code>null</code>을 허용하려고 한다면, 의도를 명시적으로 드러냄으로써 오류를 고칠 수 있다.</li></ul> <div class="language-typescript extra-class"><pre class="language-typescript"><code><span class="token keyword">const</span> x<span class="token operator">:</span> <span class="token builtin">number</span> <span class="token operator">|</span> <span class="token keyword">null</span> <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
</code></pre></div><ul><li>만약 <code>null</code>을 허용하지 않으려면, 이 값이 어디서부터 왔는지 찾아야 하고, <code>null</code>을 체크하는 코드나 단언문(assertion)을 추가해야 한다.</li></ul> <div class="language-typescript extra-class"><pre class="language-typescript"><code><span class="token keyword">const</span> el <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">'status'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
el<span class="token punctuation">.</span>textContent <span class="token operator">=</span> <span class="token string">'Ready'</span><span class="token punctuation">;</span> <span class="token comment">// ~~ 개체가 'null'인 것 같습니다.</span>

<span class="token keyword">if</span> <span class="token punctuation">(</span>el<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  el<span class="token punctuation">.</span>textContent <span class="token operator">=</span> <span class="token string">'Ready'</span><span class="token punctuation">;</span> <span class="token comment">// null은 제외됨</span>
<span class="token punctuation">}</span>

el<span class="token operator">!</span><span class="token punctuation">.</span>textContent <span class="token operator">=</span> <span class="token string">'Ready'</span><span class="token punctuation">;</span> <span class="token comment">// el이 null이 아님을 단언</span>
</code></pre></div><ul><li>이 옵션은 <code>null</code>, <code>undefined</code> 관련된 오류를 잡아 내는 데 많은 도움이 되지만, 코드 작성을 어렵게 한다.</li> <li>이 옵션을 설정 없이 개발하기로 선택했다면 <code>&quot;undefined&quot;는 객체가 아닙니다</code>라는 런타임 오류를 주의해야 한다. 결국은 이 오류 때문에 엄격한 체크를 설정할 수밖에 없다.</li> <li>그래서 프로젝트가 거대해지기 전에 초반에 설정하는 것이 좋다.</li></ul></li></ul> <br> <h2 id="item03-코드-생성과-타입이-관계없음을-이해하기"><a href="#item03-코드-생성과-타입이-관계없음을-이해하기" class="header-anchor">#</a> Item03. 코드 생성과 타입이 관계없음을 이해하기</h2> <ul><li>타입스크립트 컴파일러의 역할
<ul><li>최신 TS/JS를 브라우저에서 동작할 수 있도록 구버전의 JS로 트랜스파일함</li> <li>코드의 타입 오류를 체크함</li></ul></li></ul> <hr> <h3 id="타입-오류가-있는-코드도-컴파일이-가능하다"><a href="#타입-오류가-있는-코드도-컴파일이-가능하다" class="header-anchor">#</a> ⭐️ 타입 오류가 있는 코드도 컴파일이 가능하다</h3> <ul><li>컴파일은 타입 체크와 독립적으로 동작하기 때문에, 타입 오류가 있는 코드도 컴파일이 가능하다.
<ul><li>문제가 될 만한 부분을 알려 주지만, 그렇다고 빌드를 멈추지는 않는다.</li></ul></li> <li>만약 오류가 있을 때 컴파일하지 않으려면, <code>tsconfig.json</code>에 <code>noEmitOnError</code> 옵션을 설정하거나 빌드 도구에 동일하게 적용하면 된다.</li></ul> <br> <h3 id="런타임에는-타입-체크가-불가능하다"><a href="#런타임에는-타입-체크가-불가능하다" class="header-anchor">#</a> ⭐️ 런타임에는 타입 체크가 불가능하다</h3> <ul><li>실제로 자바스크립트로 컴파일되는 과정에서 모든 인터페이스, 타입, 타입 구문을 그냥 제거되어 버린다.</li> <li>런타임 시점에 타입 정보를 유지하는 방법
<ul><li><code>instanceof</code> 대신에 특정 속성이 존재하는지 <code>in</code>을 통해 확인</li> <li>런타임에 접근 가능한 타입 정보를 명시적으로 저장하는 '태그' 기법</li> <li>타입(런타임 접근 불가)과 값(런타임 접근 가능)을 둘 다 사용하는 기법
<ul><li>인터페이스는 타입으로만 사용 가능하지만, 클래스는 타입과 값으로 모두 사용할 수 있으므로 오류가 발생하지 않는다.</li></ul></li></ul></li></ul> <br> <h3 id="타입-연산은-런타임에-영향을-주지-않는다"><a href="#타입-연산은-런타임에-영향을-주지-않는다" class="header-anchor">#</a> ⭐️ 타입 연산은 런타임에 영향을 주지 않는다</h3> <div class="language-typescript extra-class"><pre class="language-typescript"><code><span class="token keyword">function</span> <span class="token function">asNumber</span><span class="token punctuation">(</span>val<span class="token operator">:</span> <span class="token builtin">number</span> <span class="token operator">|</span> <span class="token builtin">string</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">number</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> val <span class="token keyword">as</span> <span class="token builtin">number</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">asNumber</span><span class="token punctuation">(</span><span class="token parameter">val</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> val<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><ul><li>위 예시는 <code>string</code> 또는 <code>number</code> 타입인 값을 항상 <code>nubmer</code>로 정제하는 코드이다.
<ul><li>변한된 자바스크립트 코드를 보면 코드에 아무런 정제 과정이 없다.</li> <li><code>as number</code>는 타입 연산이고 런타임 동작에는 아무런 영향을 미치지 않는다.</li> <li>그래서 값을 정제하기 위해서는 런타임의 타입을 체크해야 하고 자바스크립트 연산을 통해 변환을 수행해야 한다.</li></ul></li></ul> <div class="language-typescript extra-class"><pre class="language-typescript"><code><span class="token keyword">function</span> <span class="token function">asNumber</span><span class="token punctuation">(</span>val<span class="token operator">:</span> <span class="token builtin">number</span> <span class="token operator">|</span> <span class="token builtin">string</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">number</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token keyword">typeof</span><span class="token punctuation">(</span>val<span class="token punctuation">)</span> <span class="token operator">===</span> <span class="token string">'string'</span> <span class="token operator">?</span> <span class="token function">Number</span><span class="token punctuation">(</span>val<span class="token punctuation">)</span> <span class="token operator">:</span> val<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><br> <h3 id="런타임-타입은-선언된-타입과-다를-수-있다"><a href="#런타임-타입은-선언된-타입과-다를-수-있다" class="header-anchor">#</a> ⭐️ 런타임 타입은 선언된 타입과 다를 수 있다</h3> <ul><li>아래 코드에서 마지막의 <code>console.log</code>까지 실행될 수 있는지 생각해보자.</li></ul> <div class="language-typescript extra-class"><pre class="language-typescript"><code><span class="token keyword">function</span> <span class="token function">setLightSwitch</span><span class="token punctuation">(</span>value<span class="token operator">:</span> <span class="token builtin">boolean</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">switch</span> <span class="token punctuation">(</span>value<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">case</span> <span class="token boolean">true</span><span class="token operator">:</span>
      <span class="token function">turnLightOn</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token keyword">break</span><span class="token punctuation">;</span>
    <span class="token keyword">case</span> <span class="token boolean">false</span><span class="token operator">:</span>
      <span class="token function">turnLightOff</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token keyword">break</span><span class="token punctuation">;</span>
    <span class="token keyword">default</span><span class="token operator">:</span>
      <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'실행되지 않을까 봐 걱정됩니다.'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><div class="language-typescript extra-class"><pre class="language-typescript"><code><span class="token keyword">interface</span> <span class="token class-name">LightApiResponse</span> <span class="token punctuation">{</span>
  lightSwitchValue<span class="token operator">:</span> <span class="token builtin">boolean</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">async</span> <span class="token keyword">function</span> <span class="token function">setLight</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> response <span class="token operator">=</span> <span class="token keyword">await</span> <span class="token function">fetch</span><span class="token punctuation">(</span><span class="token string">'/light'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">const</span> result<span class="token operator">:</span> LightApiResponse <span class="token operator">=</span> <span class="token keyword">await</span> response<span class="token punctuation">.</span><span class="token function">json</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token function">setLightSwitch</span><span class="token punctuation">(</span>result<span class="token punctuation">.</span>lightSwitchValue<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><ul><li><code>setLightSwitch</code> 함수의 인자에 <code>: boolean</code>이라는 타입 선언문이 있는데 이는 런타임시 제거된다.
<ul><li>자바스크립트였다면 실수로 <code>string</code> 값으로 호출할 수도 있었을 것이다.</li> <li>물론 타입스크립트에서도 API를 잘못 파악해서 <code>lightSwitchValue</code>가 실제로 문자열이였다면, 런타임에는 <code>setLightSwitch</code> 함수까지 전달될 것이다.</li> <li>또는 배포된 후에 API가 변경되어 <code>lightSwitchValue</code>가 문자열이 되는 경우도 있다.</li></ul></li> <li>이와 같이 타입스크립트에서는 런타임 타입과 선언된 타입이 맞지 않을 수 있다.
<ul><li>타입이 달라지는 혼란스러운 상황을 가능한 한 피해야 한다.</li> <li>선언된 타입이 언제든지 달라질 수 있다는 것을 명심해야 한다.</li></ul></li></ul> <br> <h3 id="타입스크립트-타입으로는-함수를-오버로드할-수-없다"><a href="#타입스크립트-타입으로는-함수를-오버로드할-수-없다" class="header-anchor">#</a> ⭐️ 타입스크립트 타입으로는 함수를 오버로드할 수 없다</h3> <ul><li><p>함수 오버로딩</p> <div class="language-c++ extra-class"><pre class="language-text"><code>// 아래 두 함수는 중복된 함수 구현이다.
function add(a: number, b: number) { return a + b; }
function add(a: string, b: string) { return a + b; }
</code></pre></div><ul><li>동일한 이르메 매개변수만 다른 여러 버전의 함수를 허용</li> <li>그러나 타입스크립트에서는 타입과 런타임의 동작이 무관하므로 함수 오버로딩은 불가능하다.</li></ul></li> <li><p>타입스크립트가 함수 오버로딩 기능을 지원하기는 하지만, 온전히 타입 수준에서만 동작한다.</p> <ul><li>하나의 함수에 대해 여러 개의 선언문을 작성할 수 있지만, 구현체는 오직 하나뿐이다.</li> <li>타입스크립트에서 함수 오버로딩 기능을 동작하게 하려면 오버로팅 타입 보다는 조건부 타입을 사용하는 것이 좋다.</li></ul></li></ul> <br> <h3 id="타입스크립트-타입은-런타임-성능에-영향을-주지-않는다"><a href="#타입스크립트-타입은-런타임-성능에-영향을-주지-않는다" class="header-anchor">#</a> ⭐️ 타입스크립트 타입은 런타임 성능에 영향을 주지 않는다.</h3> <ul><li>타입과 타입 연산자는 자바스크립트 변환 시점에 제거되기 때문에, 런타임의 성능에 아무런 영향을 주지 않는다.
<ul><li>타입스크립트의 정적 타입은 실제로 비용이 전혀 들지 않는다.</li></ul></li></ul> <br> <h2 id="item04-구조적-타이핑에-익숙해지기"><a href="#item04-구조적-타이핑에-익숙해지기" class="header-anchor">#</a> Item04. 구조적 타이핑에 익숙해지기</h2> <ul><li><p>덕 타이핑(Duck Typing)</p> <ul><li>객체가 어떤 타입에 부합하는 변수와 메서드를 가질 경우 객체를 해당 타입에 속하는 것으로 간주하는 방식</li> <li>자바스크립트는 본질적으로 덕 타이핑 기반이다.</li></ul></li> <li><p>타입스크립트도 구조적 타이핑(덕 타이핑) 기반인데 이 때문에 값을 세밀하게 구분하지 못하는 경우가 있다.</p> <ul><li>그래서 값을 구분하기 위해 공식 명칭이 필요하다면 상표를 붙이는 것을 고려해야 한다.</li></ul></li> <li><p>타입이 열려있다</p> <ul><li>타입의 확장에 열려 있다는 의미</li> <li>즉, 타입에 선언된 속성 외에 임의의 속성을 추가하더라도 오류가 발생하지 않는다는 것</li></ul></li> <li><p>타입스크립트 타입 시스템에서 타입은 열려있는데 이러한 특성 때문에 가끔 당황스러운 결과가 발생한다.</p></li></ul> <div class="language-typescript extra-class"><pre class="language-typescript"><code><span class="token keyword">interface</span> <span class="token class-name">Vector3D</span> <span class="token punctuation">{</span>
  x<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span>
  y<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span>
  z<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">function</span> <span class="token function">calculateLengthL1</span><span class="token punctuation">(</span>v<span class="token operator">:</span> Vector3D<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">let</span> length <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
    
  <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">const</span> axis <span class="token keyword">of</span> Object<span class="token punctuation">.</span><span class="token function">keys</span><span class="token punctuation">(</span>v<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> coord <span class="token operator">=</span> v<span class="token punctuation">[</span>axis<span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token comment">// 'string'은 'Vector3D'의 인덱스로 사용할 수 없기에 엘리먼트는 암시적으로 'any' 타입입니다.</span>
      
    length <span class="token operator">+=</span> Math<span class="token punctuation">.</span><span class="token function">abs</span><span class="token punctuation">(</span>coord<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
    
  <span class="token keyword">return</span> length<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><ul><li>위와 같은 경우 <code>axis</code>는 <code>Vector3D</code> 타입인 <code>v</code>의 키 중 하나이기 때문에 <code>x</code>, <code>y</code>, <code>z</code> 중 하나여야 한다.
<ul><li>그리고 <code>Vector3D</code>의 선언에 따르면 이들은 모두 <code>number</code>이므로 <code>coord</code>의 타입이 <code>number</code>가 되어야 할 것으로 예상되지만 위와 같이 오류가 뜨는 것이 맞다.</li> <li><code>v</code>는 어떤 속성이든 가질 수 있기 때문에 <code>axis</code>의 타입은 <code>string</code>이 될 수도 있다.</li> <li>정확한 타입으로 객체를 순회하는 것을 까다로운 문제이다.</li> <li>그래서 루프보다는 모든 속성을 각각 더하는 구현이 더 낫다.</li></ul></li></ul> <div class="language-typescript extra-class"><pre class="language-typescript"><code><span class="token keyword">function</span> <span class="token function">calculateLengthL1</span><span class="token punctuation">(</span>v<span class="token operator">:</span> Vector3D<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> Math<span class="token punctuation">.</span><span class="token function">abs</span><span class="token punctuation">(</span>v<span class="token punctuation">.</span>x<span class="token punctuation">)</span> <span class="token operator">+</span> Math<span class="token punctuation">.</span><span class="token function">abs</span><span class="token punctuation">(</span>v<span class="token punctuation">.</span>y<span class="token punctuation">)</span> <span class="token operator">+</span> Math<span class="token punctuation">.</span><span class="token function">abs</span><span class="token punctuation">(</span>v<span class="token punctuation">.</span>z<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><br> <h2 id="item05-any-타입-지양하기"><a href="#item05-any-타입-지양하기" class="header-anchor">#</a> Item05. <code>any</code> 타입 지양하기</h2> <ul><li><code>any</code> 타입에는 타입 안전성이 없다.</li> <li><code>any</code>는 함수 시그니처를 무시해 버린다.
<ul><li>호출하는 쪽은 약속된 타입의 입력을 제공하고, 함수는 약속된 타입의 출력을 반환한다.</li> <li>그러나 <code>any</code> 타입을 사용하면 이러한 약속을 어길 수 있다.</li></ul></li> <li><code>any</code> 타입에는 언어 서비스가 적용되지 않는다.
<ul><li>어떤 심벌에 타입이 있다면 타입스크립트 언어 서비스는 자동완성 기능과 적절한 도움말을 제공한다.</li> <li>그러나 <code>any</code> 타입인 심벌을 사용하면 아무런 도움을 받지 못한다.</li></ul></li> <li><code>any</code> 타입은 코드 리팩토링 때 버그를 감춘다.</li> <li><code>any</code>는 타입 설계를 감춰버린다.
<ul><li><code>any</code> 타입을 사용하면 타입 설계가 불분명해진다.</li> <li>설계가 잘 되었는지, 설계가 어떻게 되어 있는지 전혀 알 수 없다.</li> <li>설계가 명확히 보이도록 타입을 일일이 작성하는 것이 좋다.</li></ul></li> <li><code>any</code>는 타입시스템의 신뢰도를 떨어뜨린다.</li></ul></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/wally-wally-til/til/effective-typescript/" class="prev router-link-active">
        Overview
      </a></span> <span class="next"><a href="/wally-wally-til/til/effective-typescript/item06-10.html">
        Item06-10
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/wally-wally-til/assets/js/app.f5246800.js" defer></script><script src="/wally-wally-til/assets/js/2.fd76ebd9.js" defer></script><script src="/wally-wally-til/assets/js/11.a2a6e0bb.js" defer></script>
  </body>
</html>
