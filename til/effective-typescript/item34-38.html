<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>📄 Item34 ~ 38 | wally-wally TIL</title>
    <meta name="generator" content="VuePress 1.9.7">
    
    <meta name="description" content="wally-wally&#39;s TIL">
    <meta name="theme-color" content="#3eaf7c">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    
    <link rel="preload" href="/wally-wally-til/assets/css/0.styles.5b0b7f0f.css" as="style"><link rel="preload" href="/wally-wally-til/assets/js/app.f5246800.js" as="script"><link rel="preload" href="/wally-wally-til/assets/js/2.fd76ebd9.js" as="script"><link rel="preload" href="/wally-wally-til/assets/js/18.f1794982.js" as="script"><link rel="prefetch" href="/wally-wally-til/assets/js/10.d9a95bfe.js"><link rel="prefetch" href="/wally-wally-til/assets/js/11.a2a6e0bb.js"><link rel="prefetch" href="/wally-wally-til/assets/js/12.07ea1bdf.js"><link rel="prefetch" href="/wally-wally-til/assets/js/13.1bfbaa6f.js"><link rel="prefetch" href="/wally-wally-til/assets/js/14.90ad19d6.js"><link rel="prefetch" href="/wally-wally-til/assets/js/15.f50c2694.js"><link rel="prefetch" href="/wally-wally-til/assets/js/16.85e8420c.js"><link rel="prefetch" href="/wally-wally-til/assets/js/17.872b0e5a.js"><link rel="prefetch" href="/wally-wally-til/assets/js/19.786141e4.js"><link rel="prefetch" href="/wally-wally-til/assets/js/20.88ff03b1.js"><link rel="prefetch" href="/wally-wally-til/assets/js/21.fd903a51.js"><link rel="prefetch" href="/wally-wally-til/assets/js/22.d215abd1.js"><link rel="prefetch" href="/wally-wally-til/assets/js/23.44ffc4f2.js"><link rel="prefetch" href="/wally-wally-til/assets/js/24.01293f45.js"><link rel="prefetch" href="/wally-wally-til/assets/js/25.3ef63158.js"><link rel="prefetch" href="/wally-wally-til/assets/js/26.a467aa9c.js"><link rel="prefetch" href="/wally-wally-til/assets/js/27.9e7ecb66.js"><link rel="prefetch" href="/wally-wally-til/assets/js/28.2ab87b73.js"><link rel="prefetch" href="/wally-wally-til/assets/js/29.4481ba0f.js"><link rel="prefetch" href="/wally-wally-til/assets/js/3.c603572a.js"><link rel="prefetch" href="/wally-wally-til/assets/js/30.19fd5f37.js"><link rel="prefetch" href="/wally-wally-til/assets/js/31.d5bfcc5a.js"><link rel="prefetch" href="/wally-wally-til/assets/js/32.5ee24aeb.js"><link rel="prefetch" href="/wally-wally-til/assets/js/33.11913056.js"><link rel="prefetch" href="/wally-wally-til/assets/js/34.31af5972.js"><link rel="prefetch" href="/wally-wally-til/assets/js/35.9ae3b57d.js"><link rel="prefetch" href="/wally-wally-til/assets/js/36.39511f04.js"><link rel="prefetch" href="/wally-wally-til/assets/js/37.298faa13.js"><link rel="prefetch" href="/wally-wally-til/assets/js/38.04a5a190.js"><link rel="prefetch" href="/wally-wally-til/assets/js/39.02659111.js"><link rel="prefetch" href="/wally-wally-til/assets/js/4.ed8f2e2d.js"><link rel="prefetch" href="/wally-wally-til/assets/js/40.e5fe29a8.js"><link rel="prefetch" href="/wally-wally-til/assets/js/41.2e0f3c4d.js"><link rel="prefetch" href="/wally-wally-til/assets/js/42.604fb7ae.js"><link rel="prefetch" href="/wally-wally-til/assets/js/43.7be3d9b4.js"><link rel="prefetch" href="/wally-wally-til/assets/js/44.6a25a594.js"><link rel="prefetch" href="/wally-wally-til/assets/js/45.3d5db9fb.js"><link rel="prefetch" href="/wally-wally-til/assets/js/46.f541a5fe.js"><link rel="prefetch" href="/wally-wally-til/assets/js/47.493907b1.js"><link rel="prefetch" href="/wally-wally-til/assets/js/48.8846fba8.js"><link rel="prefetch" href="/wally-wally-til/assets/js/49.180ec634.js"><link rel="prefetch" href="/wally-wally-til/assets/js/5.16508133.js"><link rel="prefetch" href="/wally-wally-til/assets/js/50.43c8c2f2.js"><link rel="prefetch" href="/wally-wally-til/assets/js/51.cf749cf9.js"><link rel="prefetch" href="/wally-wally-til/assets/js/52.99331d67.js"><link rel="prefetch" href="/wally-wally-til/assets/js/53.efc989ab.js"><link rel="prefetch" href="/wally-wally-til/assets/js/54.6d56ccbb.js"><link rel="prefetch" href="/wally-wally-til/assets/js/55.0c06e067.js"><link rel="prefetch" href="/wally-wally-til/assets/js/56.b45e191a.js"><link rel="prefetch" href="/wally-wally-til/assets/js/57.961440e9.js"><link rel="prefetch" href="/wally-wally-til/assets/js/58.a3d99037.js"><link rel="prefetch" href="/wally-wally-til/assets/js/59.55d3c672.js"><link rel="prefetch" href="/wally-wally-til/assets/js/6.c7b54f12.js"><link rel="prefetch" href="/wally-wally-til/assets/js/60.1eb9e815.js"><link rel="prefetch" href="/wally-wally-til/assets/js/61.60cf2957.js"><link rel="prefetch" href="/wally-wally-til/assets/js/62.060bd05f.js"><link rel="prefetch" href="/wally-wally-til/assets/js/63.f005f9ad.js"><link rel="prefetch" href="/wally-wally-til/assets/js/64.a7d460aa.js"><link rel="prefetch" href="/wally-wally-til/assets/js/65.083b5915.js"><link rel="prefetch" href="/wally-wally-til/assets/js/66.3f31ca88.js"><link rel="prefetch" href="/wally-wally-til/assets/js/67.affe2987.js"><link rel="prefetch" href="/wally-wally-til/assets/js/68.58b01f3c.js"><link rel="prefetch" href="/wally-wally-til/assets/js/69.c7491bbb.js"><link rel="prefetch" href="/wally-wally-til/assets/js/7.233f38d3.js"><link rel="prefetch" href="/wally-wally-til/assets/js/70.9c9e05e7.js"><link rel="prefetch" href="/wally-wally-til/assets/js/71.67c4633a.js"><link rel="prefetch" href="/wally-wally-til/assets/js/72.66a1fbf9.js"><link rel="prefetch" href="/wally-wally-til/assets/js/73.cc121e7e.js"><link rel="prefetch" href="/wally-wally-til/assets/js/74.b71f297f.js"><link rel="prefetch" href="/wally-wally-til/assets/js/75.24c397b2.js"><link rel="prefetch" href="/wally-wally-til/assets/js/8.f792d4e1.js"><link rel="prefetch" href="/wally-wally-til/assets/js/9.897445a3.js">
    <link rel="stylesheet" href="/wally-wally-til/assets/css/0.styles.5b0b7f0f.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/wally-wally-til/" class="home-link router-link-active"><img src="/wally-wally-til/logo.png" alt="wally-wally TIL" class="logo"> <span class="site-name can-hide">wally-wally TIL</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/wally-wally-til/til/" class="nav-link router-link-active">
  TIL
</a></div><div class="nav-item"><a href="/wally-wally-til/config/" class="nav-link">
  Config
</a></div><div class="nav-item"><a href="https://wally-wally.kr" target="_blank" rel="noopener noreferrer" class="nav-link external">
  wally-wally
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/wally-wally-til/til/" class="nav-link router-link-active">
  TIL
</a></div><div class="nav-item"><a href="/wally-wally-til/config/" class="nav-link">
  Config
</a></div><div class="nav-item"><a href="https://wally-wally.kr" target="_blank" rel="noopener noreferrer" class="nav-link external">
  wally-wally
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Introduction</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>JS Deep Dive</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>Effective TypeScript</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/wally-wally-til/til/effective-typescript/" aria-current="page" class="sidebar-link">Overview</a></li><li><a href="/wally-wally-til/til/effective-typescript/item01-05.html" class="sidebar-link">Item01-05</a></li><li><a href="/wally-wally-til/til/effective-typescript/item06-10.html" class="sidebar-link">Item06-10</a></li><li><a href="/wally-wally-til/til/effective-typescript/item11-15.html" class="sidebar-link">Item11-15</a></li><li><a href="/wally-wally-til/til/effective-typescript/item16-18.html" class="sidebar-link">Item16-18</a></li><li><a href="/wally-wally-til/til/effective-typescript/item19-23.html" class="sidebar-link">Item19-23</a></li><li><a href="/wally-wally-til/til/effective-typescript/item24-28.html" class="sidebar-link">Item24-28</a></li><li><a href="/wally-wally-til/til/effective-typescript/item29-33.html" class="sidebar-link">Item29-33</a></li><li><a href="/wally-wally-til/til/effective-typescript/item34-38.html" aria-current="page" class="active sidebar-link">Item34-38</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/wally-wally-til/til/effective-typescript/item34-38.html#item34-부정확한-타입보다는-미완성-타입을-사용하기" class="sidebar-link">Item34. 부정확한 타입보다는 미완성 타입을 사용하기</a></li><li class="sidebar-sub-header"><a href="/wally-wally-til/til/effective-typescript/item34-38.html#item35-데이터가-아닌-api와-명세를-보고-타입-만들기" class="sidebar-link">Item35. 데이터가 아닌, API와 명세를 보고 타입 만들기</a></li><li class="sidebar-sub-header"><a href="/wally-wally-til/til/effective-typescript/item34-38.html#item36-해당-분야의-용어로-타입-이름-짓기" class="sidebar-link">Item36. 해당 분야의 용어로 타입 이름 짓기</a></li><li class="sidebar-sub-header"><a href="/wally-wally-til/til/effective-typescript/item34-38.html#item37-공식-명칭에는-상표를-붙이기" class="sidebar-link">Item37. 공식 명칭에는 상표를 붙이기</a></li><li class="sidebar-sub-header"><a href="/wally-wally-til/til/effective-typescript/item34-38.html#item38-any-타입은-가능한-한-좁은-범위에서만-사용하기" class="sidebar-link">Item38. any 타입은 가능한 한 좁은 범위에서만 사용하기</a></li></ul></li><li><a href="/wally-wally-til/til/effective-typescript/item39-43.html" class="sidebar-link">Item39-43</a></li><li><a href="/wally-wally-til/til/effective-typescript/item44-48.html" class="sidebar-link">Item44-48</a></li><li><a href="/wally-wally-til/til/effective-typescript/item49-51.html" class="sidebar-link">Item49-51</a></li></ul></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Refactoring</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Functional Coding</span> <span class="arrow right"></span></p> <!----></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="item34-38"><a href="#item34-38" class="header-anchor">#</a> 📄 Item34 ~ 38</h1> <br> <h2 id="item34-부정확한-타입보다는-미완성-타입을-사용하기"><a href="#item34-부정확한-타입보다는-미완성-타입을-사용하기" class="header-anchor">#</a> Item34. 부정확한 타입보다는 미완성 타입을 사용하기</h2> <ul><li>타입 안전성에서 불쾌한 골짜기는 피해야 한다. 타입이 없는 것보다 잘못된 게 더 나쁘다.
<ul><li>불쾌한 골짜기(uncanny valley) : 타입 선언에서 어설프게 완벽을 추구하려다가 오히려 역효과가 발생하는 것</li></ul></li> <li>정확하게 타입을 모델링할 수 없다면, 부정확하게 모델링하지 말아야 한다. 또한 <code>any</code>와 <code>unknown</code>를 구별해서 사용해야 한다.</li> <li>타입 정보를 구체적으로 만들수록 오류 메시지와 자동 완성 기능에 주의를 기울여야 한다. 정확도뿐만 아니라 개발 경험과도 관련된다.</li></ul> <hr> <h3 id="unknown-vs-any-vs-never"><a href="#unknown-vs-any-vs-never" class="header-anchor">#</a> ➕ <code>unknown</code> vs <code>any</code> vs <code>never</code></h3> <h4 id="unknown"><a href="#unknown" class="header-anchor">#</a> ✔️ <code>unknown</code></h4> <ul><li>Typescript의 탑 타입이며, Typescript에 존재하고, 존재할 수 있는 모든 타입들을 포함하여 어떤 값이든 가질 수 있지만, 그로 인해 모든 타입이 공통적으로 할 수 있는 연산 외에는 할 수 있는 것이 없다.
<ul><li>그래서 이 타입 변수는 사용할 때 어떤 타입인지 다시 명시해줘야 한다.</li></ul></li> <li>또한 이 타입 변수는 타입 검사가 된 후에는 타입을 명시해주지 않아도 된다.
<ul><li>예를 들어 <code>if</code> 조건문에서 엄격한 비교를 통해 통과한 경우 그 안의 실행문에서는 별도의 타입 명시를 하지 않아도 된다.</li></ul></li></ul> <div class="language-typescript extra-class"><pre class="language-typescript"><code><span class="token keyword">let</span> value<span class="token operator">:</span> <span class="token builtin">unknown</span> <span class="token operator">=</span> <span class="token string">'wow'</span><span class="token punctuation">;</span>
value <span class="token operator">=</span> <span class="token number">123</span><span class="token punctuation">;</span> <span class="token comment">// unknown 타입은 어떤 타입의 값이든 할당, 재할당 모두 가능</span>

<span class="token keyword">const</span> value2<span class="token operator">:</span> <span class="token builtin">number</span> <span class="token operator">=</span> value<span class="token punctuation">;</span> <span class="token comment">// error! (value 변수의 타입이 명확하지 않으므로 number 타입 변수에 할당 불가능)</span>
<span class="token keyword">const</span> value3<span class="token operator">:</span> <span class="token builtin">number</span> <span class="token operator">=</span> <span class="token punctuation">(</span>value <span class="token keyword">as</span> <span class="token builtin">number</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 사용하려면 이렇게 타입 명시를 해줘야 함</span>
</code></pre></div><br> <h4 id="any"><a href="#any" class="header-anchor">#</a> ✔️ <code>any</code></h4> <ul><li>타입 검사를 통해 항상 만족하며 어떤 값이든 바로 대입하고 사용할 수 있는 마법과 같은 타입이다.</li> <li>타입 검사를 항상 만족하므로 의도치 않은 형 변환이나 전혀 예상하지 못한 의도되지 않은 타입의 값이 대입되는 등 여러 사이드 이펙트를 일으켜 안전성이 낮아질 수 있으므로 조심해야 한다.</li></ul> <br> <h4 id="never"><a href="#never" class="header-anchor">#</a> ✔️ <code>never</code></h4> <ul><li><code>unknown</code> 타입과 반대로 <code>never</code> 타입은 모든 타입의 하위 타입이다. 그래서 어떤 다른 값도 <code>never</code> 타입에 할당할 수 없다.</li></ul> <div class="language-typescript extra-class"><pre class="language-typescript"><code><span class="token comment">// 모두 컴파일 에러 발생</span>
<span class="token keyword">const</span> first<span class="token operator">:</span> <span class="token builtin">never</span> <span class="token operator">=</span> <span class="token number">123</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> second<span class="token operator">:</span> <span class="token builtin">never</span> <span class="token operator">=</span> <span class="token string">'wow'</span><span class="token punctuation">;</span>
</code></pre></div><ul><li><code>never</code> 타입 사용 예시</li></ul> <div class="language-typescript extra-class"><pre class="language-typescript"><code><span class="token comment">// 1) 어떤 값도 반환하지 않은 함수에서의 반환 타입</span>
<span class="token keyword">const</span> showError <span class="token operator">=</span> <span class="token punctuation">(</span>message<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">never</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">Error</span><span class="token punctuation">(</span>message<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">// 2) 특정 타입 값을 할당받지 않도록 하는 타입 예시</span>
<span class="token comment">// 아래 예시는 string 타입인 경우는 never로 추론하여 string 타입의 값이 할당되지 못하도록 할 수 있다.</span>
<span class="token keyword">type</span> <span class="token class-name">NonString<span class="token operator">&lt;</span><span class="token constant">T</span><span class="token operator">&gt;</span></span> <span class="token operator">=</span> <span class="token constant">T</span> <span class="token keyword">extends</span> <span class="token class-name"><span class="token builtin">string</span></span> <span class="token operator">?</span> <span class="token builtin">never</span> <span class="token operator">:</span> <span class="token constant">T</span><span class="token punctuation">;</span>
</code></pre></div><br> <p>📄 <b>Reference</b></p> <ul><li>https://xo.dev/typescript-unknown-any-never/</li></ul> <hr> <br> <h2 id="item35-데이터가-아닌-api와-명세를-보고-타입-만들기"><a href="#item35-데이터가-아닌-api와-명세를-보고-타입-만들기" class="header-anchor">#</a> Item35. 데이터가 아닌, API와 명세를 보고 타입 만들기</h2> <ul><li>명세를 참고해 타입을 생성하면 타입스크립트는 사용자가 실수를 줄일 수 있게 도와준다.</li> <li>반면에 예시 데이터를 참고해 타입을 생성하면 눈앞에 있는 데이터들만 고려하게 되므로 예기치 않은 곳에서 오류가 발생할 수 있다.</li></ul> <br> <h2 id="item36-해당-분야의-용어로-타입-이름-짓기"><a href="#item36-해당-분야의-용어로-타입-이름-짓기" class="header-anchor">#</a> Item36. 해당 분야의 용어로 타입 이름 짓기</h2> <ul><li>가독성을 높이고, 추상화 수준을 올리기 위해서 해당 분야의 용어를 사용해야 한다.</li> <li>동일한 의미를 나타낼 때는 같은 용어를 사용해야 한다.
<ul><li>글을 쓸 때나 말을 할 때, 같은 단어를 반복해서 사용하면 지루할 수 있기 때문에 동의어를 사용한다.</li> <li>동의어를 사용하면 글을 읽을 때는 좋을 수 있지만, 코드에서는 좋지 않다.</li> <li>정말로 의미적으로 구분이 되어야 하는 경우에만 다른 용어를 사용해야 한다.</li></ul></li> <li><code>data</code>, <code>info</code>, <code>thing</code>, <code>item</code>, <code>object</code>, <code>entity</code> 같은 모호하고 의미 없는 이름은 피해야 한다.
<ul><li>만약 <code>entity</code>라는 용어가 해당 분야에서 특별한 의미를 가진다면 괜찮다.</li> <li>그러나 귀찮다고 무심코 의미 없는 이름을 붙여서는 안 된다.</li></ul></li> <li>이름을 지을 때는 포함된 내용이나 개선 방식이 아니라 데이터 자체가 무엇인지를 고려해야 한다.
<ul><li>예를 들어 <code>INodeList</code> 보다는 <code>Directory</code>가 더 의미있는 이름이다.</li> <li><code>Directory</code>는 구현의 측면이 아니라 개념적인 측면에서 디렉터리를 생각하게 된다.</li> <li>좋은 이름은 추상화의 수준을 높이고 의도치 않은 충돌의 위험성을 줄여 준다.</li></ul></li></ul> <br> <h2 id="item37-공식-명칭에는-상표를-붙이기"><a href="#item37-공식-명칭에는-상표를-붙이기" class="header-anchor">#</a> Item37. 공식 명칭에는 상표를 붙이기</h2> <ul><li>타입스크립트는 구조적 타이핑을 사용하기 때문에, 값을 세밀하게 구분하지 못하는 경우가 있다.
<ul><li>값을 구분하기 위해 공식 명칭이 필요하다면 상표를 붙이는 것을 고려해야 한다.</li></ul></li> <li>상표 기법은 타입 시스템에서 동작하지만 런타임에 상표를 검사하는 것과 동일한 효과를 얻을 수 있다.</li></ul> <br> <h2 id="item38-any-타입은-가능한-한-좁은-범위에서만-사용하기"><a href="#item38-any-타입은-가능한-한-좁은-범위에서만-사용하기" class="header-anchor">#</a> Item38. <code>any</code> 타입은 가능한 한 좁은 범위에서만 사용하기</h2> <h3 id="_1-함수에서-any-타입-사용하기"><a href="#_1-함수에서-any-타입-사용하기" class="header-anchor">#</a> (1) 함수에서 <code>any</code> 타입 사용하기</h3> <ul><li><code>any</code>를 사용하여 타입 오류를 해결하는 방법은 두 가지가 있다.</li></ul> <div class="language-typescript extra-class"><pre class="language-typescript"><code><span class="token keyword">function</span> <span class="token function">f1</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> x<span class="token operator">:</span> <span class="token builtin">any</span> <span class="token operator">=</span> <span class="token function">expressionReturningFoo</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// Don't!</span>
  <span class="token function">processBar</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">function</span> <span class="token function">f2</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> x <span class="token operator">=</span> <span class="token function">expressionReturningFoo</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token function">processBar</span><span class="token punctuation">(</span>x <span class="token keyword">as</span> <span class="token builtin">any</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// Do!</span>
<span class="token punctuation">}</span>
</code></pre></div><ul><li>위 방법 중 두 번째 방법으로 작성해야 하는 이유는 <code>any</code> 타입이 <code>processBar</code> 함수의 매개변수에서만 사용된 표현식이므로 다른 코드에는 영향을 미치지 않기 때문이다.</li> <li><code>any</code>의 사용 범위를 좁게 제한해야 <code>any</code> 타입이 전혀 연관없는 함수 바깥으로 영향을 미치지 않게 된다.</li> <li>비슷한 관점에서, 타입스크립트가 함수의 반환 타입을 추론할 수 있는 경우에도 함수의 반환 타입을 명시하는 것이 좋다.
<ul><li>함수의 반환 타입을 명시하면 <code>any</code> 타입이 함수 바깥으로 영향이 미치는 것을 방지할 수 있다.</li></ul></li></ul> <br> <h3 id="_2-객체에서-any-타입-사용하기"><a href="#_2-객체에서-any-타입-사용하기" class="header-anchor">#</a> (2) 객체에서 <code>any</code> 타입 사용하기</h3> <div class="language-typescript extra-class"><pre class="language-typescript"><code><span class="token keyword">const</span> config<span class="token operator">:</span> Config <span class="token operator">=</span> <span class="token punctuation">{</span>
  a<span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
  b<span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span>
  c<span class="token operator">:</span> <span class="token punctuation">{</span>
    key<span class="token operator">:</span> value<span class="token punctuation">,</span>
     <span class="token comment">// ~~~ 'foo' 속성이 'Foo' 타입에 필요하지만, 'Bar' 타입에는 없습니다.</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><ul><li>객체의 경우에는 <code>config</code> 값 자체를 <code>as any</code>로 선언하여 오류를 제거할 수 있지만 객체 전체를 <code>any</code>로 단언하면 다른 속성들(<code>a</code>와 <code>b</code>) 역시 타입 체크가 되지 않는 부작용이 생긴다.</li> <li>그러므로 아래 코드처럼 최소한의 범위에만 <code>any</code>를 사용하는 것이 좋다.</li></ul> <div class="language-typescript extra-class"><pre class="language-typescript"><code><span class="token keyword">const</span> config<span class="token operator">:</span> Config <span class="token operator">=</span> <span class="token punctuation">{</span>
  a<span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
  b<span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span>
  c<span class="token operator">:</span> <span class="token punctuation">{</span>
    key<span class="token operator">:</span> value <span class="token keyword">as</span> <span class="token builtin">any</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/wally-wally-til/til/effective-typescript/item29-33.html" class="prev">
        Item29-33
      </a></span> <span class="next"><a href="/wally-wally-til/til/effective-typescript/item39-43.html">
        Item39-43
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/wally-wally-til/assets/js/app.f5246800.js" defer></script><script src="/wally-wally-til/assets/js/2.fd76ebd9.js" defer></script><script src="/wally-wally-til/assets/js/18.f1794982.js" defer></script>
  </body>
</html>
