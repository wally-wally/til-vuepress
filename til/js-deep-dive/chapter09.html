<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Chapter09. 타입 변환과 단축 평가 | wally-wally TIL</title>
    <meta name="generator" content="VuePress 1.9.7">
    
    <meta name="description" content="wally-wally&#39;s TIL">
    <meta name="theme-color" content="#3eaf7c">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    
    <link rel="preload" href="/wally-wally-til/assets/css/0.styles.5b0b7f0f.css" as="style"><link rel="preload" href="/wally-wally-til/assets/js/app.f5246800.js" as="script"><link rel="preload" href="/wally-wally-til/assets/js/2.fd76ebd9.js" as="script"><link rel="preload" href="/wally-wally-til/assets/js/41.2e0f3c4d.js" as="script"><link rel="prefetch" href="/wally-wally-til/assets/js/10.d9a95bfe.js"><link rel="prefetch" href="/wally-wally-til/assets/js/11.a2a6e0bb.js"><link rel="prefetch" href="/wally-wally-til/assets/js/12.07ea1bdf.js"><link rel="prefetch" href="/wally-wally-til/assets/js/13.1bfbaa6f.js"><link rel="prefetch" href="/wally-wally-til/assets/js/14.90ad19d6.js"><link rel="prefetch" href="/wally-wally-til/assets/js/15.f50c2694.js"><link rel="prefetch" href="/wally-wally-til/assets/js/16.85e8420c.js"><link rel="prefetch" href="/wally-wally-til/assets/js/17.872b0e5a.js"><link rel="prefetch" href="/wally-wally-til/assets/js/18.f1794982.js"><link rel="prefetch" href="/wally-wally-til/assets/js/19.786141e4.js"><link rel="prefetch" href="/wally-wally-til/assets/js/20.88ff03b1.js"><link rel="prefetch" href="/wally-wally-til/assets/js/21.fd903a51.js"><link rel="prefetch" href="/wally-wally-til/assets/js/22.d215abd1.js"><link rel="prefetch" href="/wally-wally-til/assets/js/23.44ffc4f2.js"><link rel="prefetch" href="/wally-wally-til/assets/js/24.01293f45.js"><link rel="prefetch" href="/wally-wally-til/assets/js/25.3ef63158.js"><link rel="prefetch" href="/wally-wally-til/assets/js/26.a467aa9c.js"><link rel="prefetch" href="/wally-wally-til/assets/js/27.9e7ecb66.js"><link rel="prefetch" href="/wally-wally-til/assets/js/28.2ab87b73.js"><link rel="prefetch" href="/wally-wally-til/assets/js/29.4481ba0f.js"><link rel="prefetch" href="/wally-wally-til/assets/js/3.c603572a.js"><link rel="prefetch" href="/wally-wally-til/assets/js/30.19fd5f37.js"><link rel="prefetch" href="/wally-wally-til/assets/js/31.d5bfcc5a.js"><link rel="prefetch" href="/wally-wally-til/assets/js/32.5ee24aeb.js"><link rel="prefetch" href="/wally-wally-til/assets/js/33.11913056.js"><link rel="prefetch" href="/wally-wally-til/assets/js/34.31af5972.js"><link rel="prefetch" href="/wally-wally-til/assets/js/35.9ae3b57d.js"><link rel="prefetch" href="/wally-wally-til/assets/js/36.39511f04.js"><link rel="prefetch" href="/wally-wally-til/assets/js/37.298faa13.js"><link rel="prefetch" href="/wally-wally-til/assets/js/38.04a5a190.js"><link rel="prefetch" href="/wally-wally-til/assets/js/39.02659111.js"><link rel="prefetch" href="/wally-wally-til/assets/js/4.ed8f2e2d.js"><link rel="prefetch" href="/wally-wally-til/assets/js/40.e5fe29a8.js"><link rel="prefetch" href="/wally-wally-til/assets/js/42.604fb7ae.js"><link rel="prefetch" href="/wally-wally-til/assets/js/43.7be3d9b4.js"><link rel="prefetch" href="/wally-wally-til/assets/js/44.6a25a594.js"><link rel="prefetch" href="/wally-wally-til/assets/js/45.3d5db9fb.js"><link rel="prefetch" href="/wally-wally-til/assets/js/46.f541a5fe.js"><link rel="prefetch" href="/wally-wally-til/assets/js/47.493907b1.js"><link rel="prefetch" href="/wally-wally-til/assets/js/48.8846fba8.js"><link rel="prefetch" href="/wally-wally-til/assets/js/49.180ec634.js"><link rel="prefetch" href="/wally-wally-til/assets/js/5.16508133.js"><link rel="prefetch" href="/wally-wally-til/assets/js/50.43c8c2f2.js"><link rel="prefetch" href="/wally-wally-til/assets/js/51.cf749cf9.js"><link rel="prefetch" href="/wally-wally-til/assets/js/52.99331d67.js"><link rel="prefetch" href="/wally-wally-til/assets/js/53.efc989ab.js"><link rel="prefetch" href="/wally-wally-til/assets/js/54.6d56ccbb.js"><link rel="prefetch" href="/wally-wally-til/assets/js/55.0c06e067.js"><link rel="prefetch" href="/wally-wally-til/assets/js/56.b45e191a.js"><link rel="prefetch" href="/wally-wally-til/assets/js/57.961440e9.js"><link rel="prefetch" href="/wally-wally-til/assets/js/58.a3d99037.js"><link rel="prefetch" href="/wally-wally-til/assets/js/59.55d3c672.js"><link rel="prefetch" href="/wally-wally-til/assets/js/6.c7b54f12.js"><link rel="prefetch" href="/wally-wally-til/assets/js/60.1eb9e815.js"><link rel="prefetch" href="/wally-wally-til/assets/js/61.60cf2957.js"><link rel="prefetch" href="/wally-wally-til/assets/js/62.060bd05f.js"><link rel="prefetch" href="/wally-wally-til/assets/js/63.f005f9ad.js"><link rel="prefetch" href="/wally-wally-til/assets/js/64.a7d460aa.js"><link rel="prefetch" href="/wally-wally-til/assets/js/65.083b5915.js"><link rel="prefetch" href="/wally-wally-til/assets/js/66.3f31ca88.js"><link rel="prefetch" href="/wally-wally-til/assets/js/67.affe2987.js"><link rel="prefetch" href="/wally-wally-til/assets/js/68.58b01f3c.js"><link rel="prefetch" href="/wally-wally-til/assets/js/69.c7491bbb.js"><link rel="prefetch" href="/wally-wally-til/assets/js/7.233f38d3.js"><link rel="prefetch" href="/wally-wally-til/assets/js/70.9c9e05e7.js"><link rel="prefetch" href="/wally-wally-til/assets/js/71.67c4633a.js"><link rel="prefetch" href="/wally-wally-til/assets/js/72.66a1fbf9.js"><link rel="prefetch" href="/wally-wally-til/assets/js/73.cc121e7e.js"><link rel="prefetch" href="/wally-wally-til/assets/js/74.b71f297f.js"><link rel="prefetch" href="/wally-wally-til/assets/js/75.24c397b2.js"><link rel="prefetch" href="/wally-wally-til/assets/js/8.f792d4e1.js"><link rel="prefetch" href="/wally-wally-til/assets/js/9.897445a3.js">
    <link rel="stylesheet" href="/wally-wally-til/assets/css/0.styles.5b0b7f0f.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/wally-wally-til/" class="home-link router-link-active"><img src="/wally-wally-til/logo.png" alt="wally-wally TIL" class="logo"> <span class="site-name can-hide">wally-wally TIL</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/wally-wally-til/til/" class="nav-link router-link-active">
  TIL
</a></div><div class="nav-item"><a href="/wally-wally-til/config/" class="nav-link">
  Config
</a></div><div class="nav-item"><a href="https://wally-wally.kr" target="_blank" rel="noopener noreferrer" class="nav-link external">
  wally-wally
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/wally-wally-til/til/" class="nav-link router-link-active">
  TIL
</a></div><div class="nav-item"><a href="/wally-wally-til/config/" class="nav-link">
  Config
</a></div><div class="nav-item"><a href="https://wally-wally.kr" target="_blank" rel="noopener noreferrer" class="nav-link external">
  wally-wally
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Introduction</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>JS Deep Dive</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/wally-wally-til/til/js-deep-dive/" aria-current="page" class="sidebar-link">Overview</a></li><li><a href="/wally-wally-til/til/js-deep-dive/chapter04.html" class="sidebar-link">Chapter04</a></li><li><a href="/wally-wally-til/til/js-deep-dive/chapter05.html" class="sidebar-link">Chapter05</a></li><li><a href="/wally-wally-til/til/js-deep-dive/chapter06.html" class="sidebar-link">Chapter06</a></li><li><a href="/wally-wally-til/til/js-deep-dive/chapter07.html" class="sidebar-link">Chapter07</a></li><li><a href="/wally-wally-til/til/js-deep-dive/chapter08.html" class="sidebar-link">Chapter08</a></li><li><a href="/wally-wally-til/til/js-deep-dive/chapter09.html" aria-current="page" class="active sidebar-link">Chapter09</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/wally-wally-til/til/js-deep-dive/chapter09.html#_1-타입-변환이란" class="sidebar-link">1. 타입 변환이란?</a></li><li class="sidebar-sub-header"><a href="/wally-wally-til/til/js-deep-dive/chapter09.html#_2-암묵적-타입-변환-implicit-coercion" class="sidebar-link">2. 암묵적 타입 변환(implicit coercion)</a></li><li class="sidebar-sub-header"><a href="/wally-wally-til/til/js-deep-dive/chapter09.html#_3-명시적-타입-변환-explicit-coercion" class="sidebar-link">3. 명시적 타입 변환(explicit coercion)</a></li><li class="sidebar-sub-header"><a href="/wally-wally-til/til/js-deep-dive/chapter09.html#_4-타입-변환-내부-연산-자세히-살펴보기" class="sidebar-link">4. 타입 변환 내부 연산 자세히 살펴보기</a></li><li class="sidebar-sub-header"><a href="/wally-wally-til/til/js-deep-dive/chapter09.html#_5-단축-평가-short-circuit-evaluation" class="sidebar-link">5. 단축 평가(short-circuit evaluation)</a></li></ul></li><li><a href="/wally-wally-til/til/js-deep-dive/chapter10.html" class="sidebar-link">Chapter10</a></li><li><a href="/wally-wally-til/til/js-deep-dive/chapter11.html" class="sidebar-link">Chapter11</a></li><li><a href="/wally-wally-til/til/js-deep-dive/chapter12.html" class="sidebar-link">Chapter12</a></li><li><a href="/wally-wally-til/til/js-deep-dive/chapter13.html" class="sidebar-link">Chapter13</a></li><li><a href="/wally-wally-til/til/js-deep-dive/chapter14.html" class="sidebar-link">Chapter14</a></li><li><a href="/wally-wally-til/til/js-deep-dive/chapter15.html" class="sidebar-link">Chapter15</a></li><li><a href="/wally-wally-til/til/js-deep-dive/chapter16.html" class="sidebar-link">Chapter16</a></li><li><a href="/wally-wally-til/til/js-deep-dive/chapter17.html" class="sidebar-link">Chapter17</a></li></ul></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Effective TypeScript</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Refactoring</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Functional Coding</span> <span class="arrow right"></span></p> <!----></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="chapter09-타입-변환과-단축-평가"><a href="#chapter09-타입-변환과-단축-평가" class="header-anchor">#</a> Chapter09. 타입 변환과 단축 평가</h1> <br> <h2 id="_1-타입-변환이란"><a href="#_1-타입-변환이란" class="header-anchor">#</a> 1. 타입 변환이란?</h2> <ul><li>타입 변환의 종류</li></ul> <table><thead><tr><th>종류</th> <th>설명</th></tr></thead> <tbody><tr><td>명시적 타입 변환(explicit coercion), 타입 캐스팅(type casting)</td> <td>개발자가 <strong>의도적으로</strong> 값의 타입을 변환하는 것</td></tr> <tr><td>암묵적 타입 변환(implicit coercion), 타입 강제 변환(type coercion)</td> <td>개발자의 의도와는 상관없이 표현식을 평가하는 도중에 자바스크립트 엔진에 의해 암묵적으로 타입이 <strong>자동</strong> 변환하는 것</td></tr></tbody></table> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token comment">// 명시적 타입 변환</span>

<span class="token keyword">var</span> x <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> str <span class="token operator">=</span> x<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">typeof</span> str<span class="token punctuation">,</span> str<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 'string' '10'</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">typeof</span> x<span class="token punctuation">,</span> x<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 'number' 10</span>

<span class="token comment">// 암묵적 타입 변환</span>

<span class="token keyword">var</span> y <span class="token operator">=</span> <span class="token number">20</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> str <span class="token operator">=</span> y <span class="token operator">+</span> <span class="token string">''</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">typeof</span> str<span class="token punctuation">,</span> str<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 'string' '20'</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">typeof</span> y<span class="token punctuation">,</span> y<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 'number' 20</span>
</code></pre></div><ul><li>위 예시에서 명시적 타입 변환, 암묵적 타입 변환 모두 기존 원시 값을 직접 변경하는 것은 아니다.
<ul><li>왜냐하면 원시 값은 변경 불가능한 값이기 때문이다.</li> <li>즉, 타입 변환은 기존 원시 값을 사용해 다른 타입의 새로운 원시 값을 생성하는 것이고 그 새로운 값을 원래 변수에 재할당하지 않는다.</li></ul></li></ul> <hr> <h3 id="참조-타입-중-하나인-배열을-정렬할-때는-원본-데이터가-변할-수도-있다"><a href="#참조-타입-중-하나인-배열을-정렬할-때는-원본-데이터가-변할-수도-있다" class="header-anchor">#</a> ➕ 참조 타입 중 하나인 배열을 정렬할 때는 원본 데이터가 변할 수도 있다.</h3> <blockquote><p>타입 변환과는 약간 동떨어진 내용일 수 있으나 타입 변환 중 변수에 재할당하지 않는 부분과 관련지어 함께 생각해보면 좋은 내용일 것 같아서 작성해보았다.</p></blockquote> <ul><li>원시 값을 타입 변환하게 되면 새롭게 생성된 원시 값을 원래 변수에 재할당하지 않는다.</li> <li>하지만 아래 예시처럼 배열을 정렬하는 <code>sort</code> 메서드를 수행하면 원본 배열이 정렬된 상태로 변하게 된다.</li></ul> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">const</span> arr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> sortedArr <span class="token operator">=</span> arr<span class="token punctuation">.</span><span class="token function">sort</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>arr<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// [2, 3, 4, 5]</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>sortedArr<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// [2, 3, 4, 5]</span>
</code></pre></div><ul><li>만약 원본 배열의 순서는 그대로 유지하고 싶다면 아래 예시처럼 spread operator를 이용해서 새로운 배열로 복사한 후 정렬하면된다.</li></ul> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">const</span> arr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> sortedArr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token operator">...</span>arr<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">sort</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>arr<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// [3, 4, 2, 5]</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>sortedArr<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// [2, 3, 4, 5]</span>
</code></pre></div><hr> <ul><li>자신이 작성한 코드에서 암묵적 타입 변환이 발생하는지, 발생한다면 어떤 타입의 어떤 값으로 변환되는지, 그리고 타입 변환된 값으로 표현식이 어떻게 평가될 것인지 예측 가능해야 한다.
<ul><li>만약 타입 변환 결과를 예측하지 못하거나 예측이 결과와 일치하지 않는다면 오류를 생산할 가능성이 높아진다.</li></ul></li> <li>명시적 타입 변환, 암묵적 타입 변환 중 어떤 것이 제일 좋다고 명확히 규정짓기는 어렵다.
<ul><li>중요한 것은 코드를 예측할 수 있어야 한다는 것이다.</li> <li>동료가 작성한 코드를 정확히 이해할 수 있어야 하고 자신이 작성한 코드도 동료가 쉽게 이해할 수 있어야 한다.</li></ul></li></ul> <br> <h2 id="_2-암묵적-타입-변환-implicit-coercion"><a href="#_2-암묵적-타입-변환-implicit-coercion" class="header-anchor">#</a> 2. 암묵적 타입 변환(implicit coercion)</h2> <ul><li>자바스크립트 엔진이 표현식을 평가할 때 개발자의 의도와는 상관없이 코드의 문맥을 고려해 암묵적으로 데이터 타입을 강제 변환하는 것을 암묵적 타입 변환이라고 한다.</li> <li>암묵적 타입 변환이 발생하면 문자열, 숫자, 불리언과 같은 원시 타입 중 하나로 타입을 자동 변환한다.</li></ul> <br> <h3 id="_1-문자열-타입으로-변환"><a href="#_1-문자열-타입으로-변환" class="header-anchor">#</a> (1) 문자열 타입으로 변환</h3> <ul><li><code>+</code> 연산자는 피연산자 중 <b><u>하나 이상이 문자열인 경우</u></b> 문자열 연결 연산자로 동작한다.
<ul><li>자바스크립트 엔진은 문자열 연결 연산자 표현식을 평가하기 위해 문자열 연결 연산자의 피연산자 중에서 문자열 타입이 아닌 피연산자를 문자열 타입으로 암묵적 타입 변환한다.</li></ul></li></ul> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token number">1</span> <span class="token operator">+</span> <span class="token string">'2'</span> <span class="token comment">// '12'</span>
</code></pre></div><ul><li>연산자의 표현식의 피연산자만이 암묵적 타입 변환의 대상이 되는 것은 아니다.
<ul><li>예를 들어, ES6에서 도입된 템플리 리터럴의 표현식 삽입은 표현식의 평가 결과를 문자열 타입으로 암묵적 타입 변환한다.</li></ul></li></ul> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">1 + 1 = </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token number">1</span> <span class="token operator">+</span> <span class="token number">1</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span> <span class="token comment">// &quot;1 + 1 = 2&quot;</span>
</code></pre></div><ul><li><p>문자열 타입이 아닌 값을 문자열 타입으로 암묵적 타입 변환을 수행할 때 동작하는 예시</p> <ul><li>숫자 타입</li></ul> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token number">0</span> <span class="token operator">+</span> <span class="token string">''</span> <span class="token comment">// '0'</span>
<span class="token operator">-</span><span class="token number">0</span> <span class="token operator">+</span> <span class="token string">''</span> <span class="token comment">// '0'</span>
<span class="token number">1</span> <span class="token operator">+</span> <span class="token string">''</span> <span class="token comment">// '1'</span>
<span class="token operator">-</span><span class="token number">1</span> <span class="token operator">+</span> <span class="token string">''</span> <span class="token comment">// '-1'</span>
<span class="token number">NaN</span> <span class="token operator">+</span> <span class="token string">''</span> <span class="token comment">// 'NaN'</span>
<span class="token number">Infinity</span> <span class="token operator">+</span> <span class="token string">''</span> <span class="token comment">// 'Infinity'</span>
<span class="token operator">-</span><span class="token number">Infinity</span> <span class="token operator">+</span> <span class="token string">''</span> <span class="token comment">// '-Infinity'</span>
</code></pre></div><div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token comment">// 연산자 우선순위, 결합 순서에 의해 어떤 순서로 문자열 연결 연산자를 더하느냐에 따라 결과값이 달라진다.</span>
<span class="token number">1</span> <span class="token operator">+</span> <span class="token number">4</span> <span class="token operator">+</span> <span class="token string">''</span> <span class="token comment">// '5'</span>
<span class="token number">1</span> <span class="token operator">+</span> <span class="token string">''</span> <span class="token operator">+</span> <span class="token number">4</span> <span class="token comment">// '14'</span>
<span class="token number">1</span> <span class="token operator">+</span> <span class="token string">'4'</span> <span class="token operator">+</span> <span class="token string">''</span> <span class="token comment">// 14'</span>
<span class="token string">'1'</span> <span class="token operator">+</span> <span class="token number">4</span> <span class="token operator">+</span> <span class="token string">''</span> <span class="token comment">// '14'</span>
</code></pre></div><ul><li>불리언 타입</li></ul> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token boolean">true</span> <span class="token operator">+</span> <span class="token string">''</span> <span class="token comment">// 'true'</span>
<span class="token boolean">false</span> <span class="token operator">+</span> <span class="token string">''</span> <span class="token comment">// 'false'</span>

<span class="token boolean">true</span> <span class="token operator">+</span> <span class="token number">1</span> <span class="token comment">// 2</span>
<span class="token boolean">true</span> <span class="token operator">+</span> <span class="token string">'1'</span> <span class="token comment">// 'true1'</span>
</code></pre></div><ul><li><code>null</code>, <code>undefined</code> 타입</li></ul> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">null</span> <span class="token operator">+</span> <span class="token string">''</span> <span class="token comment">// 'null'</span>
<span class="token keyword">undefined</span> <span class="token operator">+</span> <span class="token string">''</span> <span class="token comment">// 'undefined'</span>
</code></pre></div><ul><li>심벌 타입</li></ul> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token punctuation">(</span><span class="token function">Symbol</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">''</span> <span class="token comment">// TypeError: Cannot convert a Symbol value to a string</span>
</code></pre></div><ul><li>참조 타입</li></ul> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token comment">// 자바스크립트에서 객체의 대부분의 암묵적 타입 변환은 '[object Object]'로 변환된다.</span>
<span class="token comment">// 모든 자바스크립트 객체는 'toString' 메서드를 상속받는다.</span>
<span class="token comment">// 상속받은 'toString' 메서드는 객체가 문자열 타입으로 변해야 할 때 쓰인다.</span>
<span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">''</span> <span class="token comment">// '[object Object]'</span>

Math <span class="token operator">+</span> <span class="token string">''</span> <span class="token comment">// '[object Math]'</span>

<span class="token comment">// 배열에서 상속된 'toString' 메서드는 객체와 약간 다르게 동작한다.</span>
<span class="token comment">// 배열의 'join' 메서드를 호출한 것과 비슷한 방식으로 동작한다.</span>
<span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">+</span> <span class="token string">''</span> <span class="token comment">// ''</span>
<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">]</span> <span class="token operator">+</span> <span class="token string">''</span> <span class="token comment">// '1,2,3,4'</span>
<span class="token number">8</span> <span class="token operator">+</span> <span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span> <span class="token comment">// '82'</span>

<span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">''</span> <span class="token comment">// 'function(){}'</span>

Array <span class="token operator">+</span> <span class="token string">''</span> <span class="token comment">// 'function Array() { [native code] }'</span>
</code></pre></div></li></ul> <br> <h3 id="_2-숫자-타입으로-변환"><a href="#_2-숫자-타입으로-변환" class="header-anchor">#</a> (2) 숫자 타입으로 변환</h3> <ul><li>산술 연산자는 숫자 값을 만드는 역할을 한다.
<ul><li>산술 연산자의 모든 피연산자는 코드 문맥상 모두 숫자 타입이어야 한다.</li></ul></li></ul> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token number">1</span> <span class="token operator">-</span> <span class="token string">'1'</span> <span class="token comment">// 0</span>
<span class="token number">1</span> <span class="token operator">*</span> <span class="token string">'10'</span> <span class="token comment">// 10</span>
<span class="token number">1</span> <span class="token operator">/</span> <span class="token string">'one'</span> <span class="token comment">// NaN</span>
</code></pre></div><ul><li>자바스크립트 엔진은 산술 연산자 표현식을 평가하기 위해 <b>산술 연산자의 피연산자 중에서 숫자 타입이 아닌 피연산자를 숫자 타입으로</b> 암묵적 타입 변환한다.
<ul><li>이때 피연산자를 숫자 타입을 변환할 수 없는 경우는 산술 연산을 수행할 수 없으므로 표현식의 평가 결과는 <code>NaN</code>이 된다.</li></ul></li> <li>또한 피연산자를 숫자 타입으로 변환해야 할 문맥은 산술 연산자뿐만 아니라 비교 연산자도 해당된다.
<ul><li>비교 연산자는 피연산자의 크기를 비교하므로 모든 피연산자는 코드의 문맥상 모두 숫자 타입이어야 한다.</li></ul></li></ul> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token string">'1'</span> <span class="token operator">&gt;</span> <span class="token number">0</span> <span class="token comment">// true</span>
<span class="token string">'1'</span> <span class="token operator">&lt;</span> <span class="token string">'2'</span> <span class="token comment">// true</span>
</code></pre></div><ul><li><p>그리고 <code>+</code> 단항 연산자는 피연산자가 숫자 타입의 값이 아니면 숫자 타입의 값으로 암묵적 타입 변환을 수행하는 가장 간단한 방법이고 자주 사용된다.</p></li> <li><p>숫자 타입으로 암묵적 타입 변환을 수행할 때 동작하는 예시</p> <ul><li>문자열 타입</li></ul> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token operator">+</span><span class="token string">''</span> <span class="token comment">// 0</span>
<span class="token operator">+</span><span class="token string">'0'</span> <span class="token comment">// 0</span>
<span class="token operator">+</span><span class="token string">'1'</span> <span class="token comment">// 1</span>
<span class="token operator">+</span><span class="token string">'string'</span> <span class="token comment">// NaN</span>
</code></pre></div><ul><li>불리언 타입</li></ul> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token operator">+</span><span class="token boolean">true</span> <span class="token comment">// 1</span>
<span class="token operator">+</span><span class="token boolean">false</span> <span class="token comment">// 0</span>
</code></pre></div><ul><li><code>null</code>, <code>undefined</code> 타입</li></ul> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token operator">+</span><span class="token keyword">null</span> <span class="token comment">// 0</span>
<span class="token operator">+</span><span class="token keyword">undefined</span> <span class="token comment">// NaN</span>
</code></pre></div><ul><li>심벌 타입</li></ul> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token operator">+</span><span class="token function">Symbol</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">// TypeError: Cannot convert a Symbol value to a number</span>
</code></pre></div><ul><li>참조 타입</li></ul> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token operator">+</span><span class="token punctuation">{</span><span class="token punctuation">}</span> <span class="token comment">// NaN</span>
<span class="token operator">+</span><span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token comment">// 0</span>
<span class="token operator">+</span><span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span> <span class="token comment">// 2</span>
<span class="token operator">+</span><span class="token punctuation">[</span><span class="token string">'2'</span><span class="token punctuation">]</span> <span class="token comment">// 2</span>
<span class="token operator">+</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">]</span> <span class="token comment">// NaN</span>
<span class="token operator">+</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token comment">// NaN</span>
</code></pre></div></li> <li><p><b>빈 문자열, 빈 배열, <code>null</code>, <code>false</code>는 0으로, <code>true</code>는 1로 객체와 빈 배열이 아닌 배열, <code>undefined</code>는 변환되지 않아 <code>NaN</code>이 된다</b>는 것에 주의하자.</p> <ul><li>숫자 타입으로 변환되는 내부 상세 로직은 <code>3. 명시적 타입 변환(explicit coercion)</code> 절이 끝난 후에 내부 로직을 살펴보면서 자세히 더 살펴보기로 하자.</li></ul></li></ul> <br> <h3 id="_3-불리언-타입으로-변환"><a href="#_3-불리언-타입으로-변환" class="header-anchor">#</a> (3) 불리언 타입으로 변환</h3> <ul><li><code>if</code> 문이나 <code>for</code> 문과 같은 제어문 또는 삼항 조건 연산자의 조건식은 불리언 값, 즉 논리적 참/거짓으로 평가되어야 하는 표현식이다.
<ul><li>자바스크립트 엔진은 <b>조건식의 평가 결과를 불리언 타입으로</b> 암묵적 타입 변환한다.</li></ul></li> <li>이 때 자바스크립트 엔진은 불리언 타입이 아닌 <b>Truthy 값(참으로 평가되는 값) 또는 Falsy 값(거짓으로 평가되는 값)으로 구분</b>한다.
<ul><li>즉, 제어문의 조건식과 같이 불리언 값으로 평가되어야 할 문맥에서 Truthy 값은 <code>true</code>로, Falsy 값은 <code>false</code>로 암묵적 타입 변환된다.</li> <li><code>true</code>로 평가되는 Truthy 값은 무수히 많으므로 <code>false</code>로 평가되는 Falsy 값을 알아두면 나머지는 Truthy 값으로 생각하면 된다</li> <li>Falsy 값 : <code>false</code>, <code>undefined</code>, <code>null</code>, <code>0</code>, <code>-0</code>, <code>NaN</code>, <code>''</code>(빈 문자열)</li></ul></li> <li>또한 논리 부정 연산자(<code>!</code>)를 이용하여 불리언 타입으로 암묵적 타입 변환을 할 수 있다.</li></ul> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token comment">// 전달받은 인수가 Falsy 값이면 true, Truthy 값이면 false를 반환한다.</span>
<span class="token keyword">function</span> <span class="token function">isFalsy</span><span class="token punctuation">(</span><span class="token parameter">v</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token operator">!</span>v<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token punctuation">[</span><span class="token boolean">false</span><span class="token punctuation">,</span> <span class="token keyword">undefined</span><span class="token punctuation">,</span> <span class="token keyword">null</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">NaN</span><span class="token punctuation">,</span> <span class="token string">''</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">v</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">isFalsy</span><span class="token punctuation">(</span>v<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 모두 true 반환</span>
</code></pre></div><ul><li>주의해야할 점은 <b>문자열 타입의 숫자 <code>0</code>과 음수 값과 빈 배열(<code>[]</code>) 그리고 빈 객체(<code>{}</code>)는 Truthy 값</b>이라는 것이다.
<ul><li><b>보통 불리언 타입으로 변환하기 위해 아래 <code>isTruthy</code> 함수와 같이 논리 부정 연산자를 두 번 사용한다.</b></li></ul></li></ul> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token comment">// 전달받은 인수가 Truthy 값이면 true, Falsy 값이면 false를 반환한다.</span>
<span class="token keyword">function</span> <span class="token function">isTruthy</span><span class="token punctuation">(</span><span class="token parameter">v</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token operator">!</span><span class="token operator">!</span>v<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token punctuation">[</span><span class="token string">'0'</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">v</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">isTruthy</span><span class="token punctuation">(</span>v<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 모두 true 반환</span>
</code></pre></div><br> <h2 id="_3-명시적-타입-변환-explicit-coercion"><a href="#_3-명시적-타입-변환-explicit-coercion" class="header-anchor">#</a> 3. 명시적 타입 변환(explicit coercion)</h2> <ul><li>개발자의 의도에 따라 명시적으로 타입을 변환하는 것을 명시적 타입 변환이라고 한다.
<ul><li>그 방법으로 표준 빌트인 생성자 함수를 <code>new</code> 연산자 없이 호출하는 방법, 빌트인 메서드를 사용하는 방법, 암묵적 타입 변환을 이용하는 방법이 있다.</li> <li>이 때 타입 변환할 때 내부 동작은 <code>2. 암묵적 타입 변환(implicit coercion)</code> 절에서 살펴본 내용과 거의 동일하다.</li> <li>이번 절에서는 이전 절에서 등장하지 않은 방법에 대해서만 소개하고자 한다.</li></ul></li></ul> <br> <h3 id="_1-문자열-타입으로-변환-2"><a href="#_1-문자열-타입으로-변환-2" class="header-anchor">#</a> (1) 문자열 타입으로 변환</h3> <h4 id="string-생성자-함수를-new-연산자-없이-호출하는-방법"><a href="#string-생성자-함수를-new-연산자-없이-호출하는-방법" class="header-anchor">#</a> 📍 <code>String</code> 생성자 함수를 <code>new</code> 연산자 없이 호출하는 방법</h4> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token comment">// 숫자 타입 =&gt; 문자열 타입</span>
<span class="token function">String</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// '1'</span>
<span class="token function">String</span><span class="token punctuation">(</span><span class="token number">NaN</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 'NaN'</span>
<span class="token function">String</span><span class="token punctuation">(</span><span class="token number">Infinity</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 'Infinity'</span>

<span class="token comment">// 불리언 타입 =&gt; 문자열 타입</span>
<span class="token function">String</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 'true'</span>
<span class="token function">String</span><span class="token punctuation">(</span><span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 'false'</span>

<span class="token comment">// 참조 타입 =&gt; 문자열 타입</span>
<span class="token function">String</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// ''</span>
<span class="token function">String</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// '1,2,3,4'</span>
<span class="token function">String</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// '[object Object]'</span>
</code></pre></div><br> <h4 id="object-prototype-tostring-메서드를-사용하는-방법"><a href="#object-prototype-tostring-메서드를-사용하는-방법" class="header-anchor">#</a> 📍 <code>Object.prototype.toString</code> 메서드를 사용하는 방법</h4> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token comment">// 숫자 타입 =&gt; 문자열 타입</span>
<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// '1'</span>
<span class="token punctuation">(</span><span class="token number">NaN</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 'NaN'</span>
<span class="token punctuation">(</span><span class="token number">Infinity</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 'Infinity'</span>

<span class="token comment">// 불리언 타입 =&gt; 문자열 타입</span>
<span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 'true'</span>
<span class="token punctuation">(</span><span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 'false'</span>

<span class="token comment">// 참조 타입 =&gt; 문자열 타입</span>
<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// ''</span>
<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// '1,2,3,4'</span>
<span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// '[object Object]'</span>
</code></pre></div><br> <h3 id="_2-숫자-타입으로-변환-2"><a href="#_2-숫자-타입으로-변환-2" class="header-anchor">#</a> (2) 숫자 타입으로 변환</h3> <h4 id="number-생성자-함수를-new-연산자-없이-호출하는-방법"><a href="#number-생성자-함수를-new-연산자-없이-호출하는-방법" class="header-anchor">#</a> 📍 <code>Number</code> 생성자 함수를 <code>new</code> 연산자 없이 호출하는 방법</h4> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token comment">// 문자열 타입 =&gt; 숫자 타입</span>
<span class="token function">Number</span><span class="token punctuation">(</span><span class="token string">'0'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 0</span>
<span class="token function">Number</span><span class="token punctuation">(</span><span class="token string">'-123'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// -123</span>
<span class="token function">Number</span><span class="token punctuation">(</span><span class="token string">'12.34'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 12.34</span>
<span class="token function">Number</span><span class="token punctuation">(</span><span class="token string">'12.00'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 12</span>
<span class="token function">Number</span><span class="token punctuation">(</span><span class="token string">'12.30'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 12.3</span>
<span class="token function">Number</span><span class="token punctuation">(</span><span class="token string">'12.34km'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// NaN</span>

<span class="token comment">// 불리언 타입 =&gt; 숫자 타입</span>
<span class="token function">Number</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 1</span>
<span class="token function">Number</span><span class="token punctuation">(</span><span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 0</span>

<span class="token comment">// 참조 타입 =&gt; 숫자 타입</span>
<span class="token function">Number</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// NaN</span>
<span class="token function">Number</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 0</span>
<span class="token function">Number</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 2</span>
<span class="token function">Number</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">'2'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 2</span>
<span class="token function">Number</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// NaN</span>
<span class="token function">Number</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">Infinity</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// Infinity</span>
</code></pre></div><br> <h4 id="parseint-parsefloat-함수를-사용하는-방법"><a href="#parseint-parsefloat-함수를-사용하는-방법" class="header-anchor">#</a> 📍 <code>parseInt</code>, <code>parseFloat</code> 함수를 사용하는 방법</h4> <ul><li><p><code>parseInt</code> 함수는 정수 형태로, <code>parseFloat</code> 함수는 부동소수점 실수 형태로 반환한다.</p> <ul><li>단, 이 방법은 <b>문자열을 숫자 타입으로 변환할 때만</b> 가능하다.</li></ul></li> <li><p>만약, 함수의 인자로 문자열이 아닌 다른 타입을 작성하는 경우 아래와 같이 함수 인자로 <code>'string'</code> 타입만 올 수 있다는 에러 메시지를 볼 수 있다.</p> <ul><li><p><code>parseInt(1);</code> 구문에서 출력되는 error 메시지 및 <code>parseInt</code> 함수 설명</p> <p><img src="https://user-images.githubusercontent.com/52685250/149652212-5ecddb95-eeeb-4b35-8c90-7567cbaaa021.png" alt="parseInt"></p></li> <li><p><code>parseFloat(1);</code> 구문에서 출력되는 error 메시지 및 <code>parseFloat</code> 함수 설명</p> <p><img src="https://user-images.githubusercontent.com/52685250/149652213-64939a57-76d5-4695-a6d2-583de4a0f7c9.png" alt="parseFloat"></p></li></ul></li> <li><p>또한 추가적으로 <code>parseInt</code> 함수의 경우 두 번째 인자로 몇 진법으로 표시할지 결정하는 <code>radix</code> 값을 넘길 수 있다.</p> <ul><li><code>radix</code> 인자는 <code>?</code> 에 의해 optional로 넣어도 되고 안 넣어도 무방하지만 eslint의 기본 설정에서는 인자를 넘기라고 되어 있다.</li> <li>아무 값도 넘기지 않으면 기본값은 <code>10</code>이 되어 십진법으로 반환된다.</li> <li>만약 이 eslint 옵션을 해당 line에만 무효화시키고 싶은 경우 아래와 같이 eslint 전용 주석을 그 위에 추가하면 된다.</li></ul> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token comment">// eslint-disable-next-line radix</span>
<span class="token function">parseInt</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><ul><li><code>parseInt</code> 함수의 <code>radix</code> 인자에 대한 자세한 설명은 <a href="https://developer.mozilla.org/ko/docs/Web/JavaScript/Reference/Global_Objects/parseInt#%EC%84%A4%EB%AA%85" target="_blank" rel="noopener noreferrer">MDN 공식 문서<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>를 참고하자.</li></ul></li></ul> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token function">parseInt</span><span class="token punctuation">(</span><span class="token string">'0'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 0</span>
<span class="token function">parseInt</span><span class="token punctuation">(</span><span class="token string">'-123'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// -123</span>
<span class="token comment">// parseInt 함수는 정수를 반환한다는 점 주의하자.</span>
<span class="token function">parseInt</span><span class="token punctuation">(</span><span class="token string">'12.34'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 12</span>
<span class="token function">parseFloat</span><span class="token punctuation">(</span><span class="token string">'12.34'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 12.34</span>
<span class="token function">parseInt</span><span class="token punctuation">(</span><span class="token string">'hello'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// NaN</span>
<span class="token function">parseFloat</span><span class="token punctuation">(</span><span class="token string">'hello'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// NaN</span>
</code></pre></div><hr> <h3 id="number-생성자-함수-vs-parseint-함수"><a href="#number-생성자-함수-vs-parseint-함수" class="header-anchor">#</a> ➕ <code>Number</code> 생성자 함수 vs <code>parseInt</code> 함수</h3> <ul><li>숫자 타입으로 변환하는 방법 두 가지를 살펴보았다.
<ul><li>하지만 <code>Number</code> 생성자 함수와 <code>parseInt</code> 함수에는 약간의 차이가 있다.</li></ul></li> <li>우선 두 방법 모두 문자열을 인자로 받으면 해당 문자열을 숫자로 바꿔주는 부분은 동일하다.</li></ul> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token function">Number</span><span class="token punctuation">(</span><span class="token string">'1234'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 1234</span>
<span class="token function">parseInt</span><span class="token punctuation">(</span><span class="token string">'1234'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 1234</span>
</code></pre></div><ul><li>하지만 아래 예시처럼 문자열이 숫자 아닌 경우에는 출력되는 결과가 차이가 있다.
<ul><li><code>Number</code> 생성자 함수는 파싱할 수 없는 문자가 하나라도 포함된 경우 무조건 <code>NaN</code>을 반환하고 <code>parseInt</code> 함수는 문자열이 숫자로 시작하는 경우 숫자가 끝날 때까지만 파싱하여 형 변환을 한다.</li> <li><code>parseInt</code> 함수도 시작이 숫자 형태가 아니라면 <code>Number</code> 함수와 마찬가지로 <code>NaN</code>을 반환한다.</li></ul></li></ul> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token function">Number</span><span class="token punctuation">(</span><span class="token string">'1000km'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// NaN</span>
<span class="token function">parseInt</span><span class="token punctuation">(</span><span class="token string">'1000km'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 1000</span>

<span class="token function">Number</span><span class="token punctuation">(</span><span class="token string">'거리:1000km'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// NaN</span>
<span class="token function">parseInt</span><span class="token punctuation">(</span><span class="token string">'거리:1000km'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// NaN</span>

<span class="token function">Number</span><span class="token punctuation">(</span><span class="token string">'1,000'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// NaN</span>
<span class="token function">parseInt</span><span class="token punctuation">(</span><span class="token string">'1,000'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 1</span>
</code></pre></div><hr> <h4 id="산술-연산자를-이용하는-방법"><a href="#산술-연산자를-이용하는-방법" class="header-anchor">#</a> 📍 <code>*</code> 산술 연산자를 이용하는 방법</h4> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token comment">// 문자열 타입 =&gt; 숫자 타입</span>
<span class="token string">'0'</span> <span class="token operator">*</span> <span class="token number">1</span><span class="token punctuation">;</span> <span class="token comment">// 0</span>
<span class="token string">'-123'</span> <span class="token operator">*</span> <span class="token number">1</span><span class="token punctuation">;</span> <span class="token comment">// -123</span>
<span class="token string">'12.34'</span> <span class="token operator">*</span> <span class="token number">1</span><span class="token punctuation">;</span> <span class="token comment">// 12.34</span>
<span class="token string">'12.00'</span> <span class="token operator">*</span> <span class="token number">1</span><span class="token punctuation">;</span> <span class="token comment">// 12</span>

<span class="token comment">// 불리언 타입 =&gt; 숫자 타입</span>
<span class="token boolean">true</span> <span class="token operator">*</span> <span class="token number">1</span><span class="token punctuation">;</span> <span class="token comment">// 1</span>
<span class="token boolean">false</span> <span class="token operator">*</span> <span class="token number">0</span><span class="token punctuation">;</span> <span class="token comment">// 0</span>

<span class="token comment">// null, undefined 타입</span>
<span class="token keyword">null</span> <span class="token operator">*</span> <span class="token number">1</span><span class="token punctuation">;</span> <span class="token comment">// 0</span>
<span class="token keyword">undefined</span> <span class="token operator">*</span> <span class="token number">1</span><span class="token punctuation">;</span> <span class="token comment">// NaN</span>

<span class="token comment">// 참조 타입</span>
<span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">*</span> <span class="token number">1</span><span class="token punctuation">;</span> <span class="token comment">// 0</span>
<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span> <span class="token operator">*</span> <span class="token number">1</span><span class="token punctuation">;</span> <span class="token comment">// 2</span>
<span class="token punctuation">[</span><span class="token string">'34'</span><span class="token punctuation">]</span> <span class="token operator">*</span> <span class="token number">1</span>'<span class="token punctuation">;</span> <span class="token comment">// 34</span>
<span class="token punctuation">[</span><span class="token string">'3'</span><span class="token punctuation">]</span> <span class="token operator">*</span> <span class="token punctuation">[</span><span class="token string">'2'</span><span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token comment">// 6</span>
</code></pre></div><br> <h3 id="_3-불리언-타입으로-변환-2"><a href="#_3-불리언-타입으로-변환-2" class="header-anchor">#</a> (3) 불리언 타입으로 변환</h3> <h4 id="boolean-생성자-함수를-new-연산자-없이-호출하는-방법"><a href="#boolean-생성자-함수를-new-연산자-없이-호출하는-방법" class="header-anchor">#</a> 📍 <code>Boolean</code> 생성자 함수를 <code>new</code> 연산자 없이 호출하는 방법</h4> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token comment">// 문자열 타입 =&gt; 불리언 타입</span>
<span class="token function">Boolean</span><span class="token punctuation">(</span><span class="token string">'*'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// true</span>
<span class="token function">Boolean</span><span class="token punctuation">(</span><span class="token string">''</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// false</span>
<span class="token function">Boolean</span><span class="token punctuation">(</span><span class="token string">'false'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// true</span>

<span class="token comment">// 숫자 타입 =&gt; 불리언 타입</span>
<span class="token function">Boolean</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// false</span>
<span class="token function">Boolean</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// true</span>
<span class="token function">Boolean</span><span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// true</span>
<span class="token function">Boolean</span><span class="token punctuation">(</span><span class="token number">NaN</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// false</span>
<span class="token function">Boolean</span><span class="token punctuation">(</span><span class="token number">Infinity</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// true</span>

<span class="token comment">// null, undefined 타입 =&gt; 불리언 타입</span>
<span class="token function">Boolean</span><span class="token punctuation">(</span><span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// false</span>
<span class="token function">Boolean</span><span class="token punctuation">(</span><span class="token keyword">undefined</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// false</span>

<span class="token comment">// 참조 타입 =&gt; 불리언 타입</span>
<span class="token function">Boolean</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// true</span>
<span class="token function">Boolean</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// true</span>
</code></pre></div><br> <h2 id="_4-타입-변환-내부-연산-자세히-살펴보기"><a href="#_4-타입-변환-내부-연산-자세히-살펴보기" class="header-anchor">#</a> 4. 타입 변환 내부 연산 자세히 살펴보기</h2> <blockquote><p>이번 절은 책에 나와 있지 않은 내용이지만 타입 변환과 관련하여 더 공부하면서 새롭게 알게 된 내용들을 추가했다.</p> <p>그 중에서도 자바스크립트에서 숫자가 아닌 값에서 <b><u>숫자로 강제 변환</u></b>할 때 내부적으로 어떤 일이 일어나는지 살펴보도록 하자.</p></blockquote> <h3 id="_1-숫자로-타입-변환시-내부적으로-사용되는-주요-연산"><a href="#_1-숫자로-타입-변환시-내부적으로-사용되는-주요-연산" class="header-anchor">#</a> (1) 숫자로 타입 변환시 내부적으로 사용되는 주요 연산</h3> <ul><li>숫자로 강제 변환할 때 내부적으로 사용되는 연산 네 가지를 먼저 살펴보도록 하자.</li> <li>참고로 자바스크립트의 내부 로직은 원래 C++ 언어로 구성되어 있다.</li> <li>하지만 이 로직을 자바스크립트 언어로 보기 쉽게 구현해놓은 코드가 있어 자바스크립트 버전으로 올려놓았다.</li></ul> <h4 id="typeof-value"><a href="#typeof-value" class="header-anchor">#</a> 📍 <code>Typeof(value)</code></h4> <ul><li>함수의 인자 값이 <b>어떤 type인지</b> 반환하는 함수이다.</li></ul> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">TypeOf</span><span class="token punctuation">(</span><span class="token parameter">value</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> result <span class="token operator">=</span> <span class="token keyword">typeof</span> value<span class="token punctuation">;</span>
  <span class="token keyword">switch</span> <span class="token punctuation">(</span>result<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">case</span> <span class="token string">'function'</span><span class="token operator">:</span>
      <span class="token keyword">return</span> <span class="token string">'object'</span><span class="token punctuation">;</span>
    <span class="token keyword">case</span> <span class="token string">'object'</span><span class="token operator">:</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span>value <span class="token operator">===</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token string">'null'</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token string">'object'</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
    <span class="token keyword">default</span><span class="token operator">:</span>
      <span class="token keyword">return</span> result<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><br> <h4 id="tonumber-argument"><a href="#tonumber-argument" class="header-anchor">#</a> 📍 <code>ToNumber(argument)</code></h4> <ul><li>함수의 인자 값을 <b>숫자로 변환</b>하는 내부 로직이다.</li></ul> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">ToNumber</span><span class="token punctuation">(</span><span class="token parameter">argument</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>argument <span class="token operator">===</span> <span class="token keyword">undefined</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token number">NaN</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>argument <span class="token operator">===</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token operator">+</span><span class="token number">0</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>argument <span class="token operator">===</span> <span class="token boolean">true</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token number">1</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>argument <span class="token operator">===</span> <span class="token boolean">false</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token operator">+</span><span class="token number">0</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">TypeOf</span><span class="token punctuation">(</span>argument<span class="token punctuation">)</span> <span class="token operator">===</span> <span class="token string">'number'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> argument<span class="token punctuation">;</span>
  <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">TypeOf</span><span class="token punctuation">(</span>argument<span class="token punctuation">)</span> <span class="token operator">===</span> <span class="token string">'string'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token function">parseTheString</span><span class="token punctuation">(</span>argument<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// not shown here(내부 로직이 상당히 복잡하다고 함...)</span>
  <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">TypeOf</span><span class="token punctuation">(</span>argument<span class="token punctuation">)</span> <span class="token operator">===</span> <span class="token string">'symbol'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">TypeError</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">TypeOf</span><span class="token punctuation">(</span>argument<span class="token punctuation">)</span> <span class="token operator">===</span> <span class="token string">'bigint'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">TypeError</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
    <span class="token comment">// argument is an object</span>
    <span class="token keyword">const</span> primValue <span class="token operator">=</span> <span class="token function">ToPrimitive</span><span class="token punctuation">(</span>argument<span class="token punctuation">,</span> <span class="token string">'number'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> <span class="token function">ToNumber</span><span class="token punctuation">(</span>primValue<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><br> <h4 id="toprimitive-input-hint"><a href="#toprimitive-input-hint" class="header-anchor">#</a> 📍 <code>ToPrimitive(input, hint)</code></h4> <ul><li>어떤 형태든지 <b>원시값(<code>number</code>, <code>string</code>, <code>boolean</code>, <code>null</code>, <code>undefined</code> 중 하나)으로 변환</b>하는 로직이다.</li> <li>이 때 두 번째 인자인 <code>hint</code>에 의해 어떤 타입으로 변환할지 구분 기준을 세울 수 있다.
<ul><li><code>'string'</code>, <code>'number'</code>, <code>'default'</code> 세 가지 중 하나가 올 수 있는데 <code>'string'</code>, <code>'number'</code>는 말 그대로 문자열, 숫자 타입으로 변환하겠다는 의미이다.</li> <li><code>'default'</code>는 연산자가 기대하는 자료형이 확실하지 않을 때를 의미하며 아주 드물게 발생한다.</li></ul></li></ul> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">ToPrimitive</span><span class="token punctuation">(</span>input<span class="token operator">:</span> any<span class="token punctuation">,</span> <span class="token literal-property property">hint</span><span class="token operator">:</span> <span class="token string">'string'</span> <span class="token operator">|</span> <span class="token string">'number'</span> <span class="token operator">|</span> <span class="token string">'default'</span> <span class="token operator">=</span> <span class="token string">'default'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">TypeOf</span><span class="token punctuation">(</span>input<span class="token punctuation">)</span> <span class="token operator">===</span> <span class="token string">'object'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> exoticToPrim <span class="token operator">=</span> input<span class="token punctuation">[</span>Symbol<span class="token punctuation">.</span>toPrimitive<span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>exoticToPrim <span class="token operator">!==</span> <span class="token keyword">undefined</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">const</span> result <span class="token operator">=</span> <span class="token function">exoticToPrim</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span>input<span class="token punctuation">,</span> hint<span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">TypeOf</span><span class="token punctuation">(</span>result<span class="token punctuation">)</span> <span class="token operator">!==</span> <span class="token string">'object'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> result<span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
      <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">TypeError</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>hint <span class="token operator">===</span> <span class="token string">'default'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      hint <span class="token operator">=</span> <span class="token string">'number'</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">return</span> <span class="token function">OrdinaryToPrimitive</span><span class="token punctuation">(</span>input<span class="token punctuation">,</span> hint<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token comment">// input is already primitive</span>
  <span class="token keyword">return</span> input<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><ul><li>내부 로직 설명</li></ul> <table><thead><tr><th>케이스</th> <th>설명</th></tr></thead> <tbody><tr><td><code>input</code>의 타입이 <code>object</code>이고 <code>Symbol.toPrimitive</code> 메소드가 있는 경우</td> <td>결과가 <code>object</code>이면 <code>TypeError</code>를 발생시키고 아니면 그 결과를 반환한다.</td></tr> <tr><td><code>input</code>의 타입이 <code>object</code>이고 <code>Symbol.toPrimitive</code> 메소드가 없는 경우</td> <td>다음에서 설명할 <code>OrdinaryToPrimitive</code> 함수를 실행하고 이 때 <code>hint</code> 값은 별도의 세팅이 없는 경우 <code>'number'</code>로 설정된다.</td></tr> <tr><td><code>input</code> 타입이 <code>object</code>가 아닌 경우</td> <td><code>input</code>을 반환한다.</td></tr></tbody></table> <ul><li><p><code>Symbol.toPrimitive</code></p> <ul><li>목표로 하는 타입(hint)을 명명하는 데 사용된다.</li></ul> <div class="language-javascript extra-class"><pre class="language-javascript"><code>obj<span class="token punctuation">[</span>Symbol<span class="token punctuation">.</span>toPrimitive<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">hint</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// 반드시 원시값을 반환해야 한다.</span>
  <span class="token comment">// hint는 &quot;string&quot;, &quot;number&quot;, &quot;default&quot; 중 하나가 될 수 있다.</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre></div><ul><li>실제 예시 코드를 보면서 어떤 느낌이지 파악해보자.</li></ul> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">const</span> user <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">&quot;John&quot;</span><span class="token punctuation">,</span>
  <span class="token literal-property property">money</span><span class="token operator">:</span> <span class="token number">1000</span><span class="token punctuation">,</span>

  <span class="token punctuation">[</span>Symbol<span class="token punctuation">.</span>toPrimitive<span class="token punctuation">]</span><span class="token punctuation">(</span><span class="token parameter">hint</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token function">alert</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">hint: </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>hint<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> hint <span class="token operator">==</span> <span class="token string">&quot;string&quot;</span> <span class="token operator">?</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">{name: &quot;</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token keyword">this</span><span class="token punctuation">.</span>name<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">&quot;}</span><span class="token template-punctuation string">`</span></span> <span class="token operator">:</span> <span class="token keyword">this</span><span class="token punctuation">.</span>money<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token comment">// 데모:</span>
<span class="token function">alert</span><span class="token punctuation">(</span>user<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// hint: string -&gt; {name: &quot;John&quot;}</span>
<span class="token function">alert</span><span class="token punctuation">(</span><span class="token operator">+</span>user<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// hint: number -&gt; 1000</span>
<span class="token function">alert</span><span class="token punctuation">(</span>user <span class="token operator">+</span> <span class="token number">500</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// hint: default -&gt; 1500</span>
</code></pre></div><ul><li>위 코드와 같이 <code>Symbol.toPrimitive</code> 내장 심볼을 이용하여 모든 종류의 형 변환을 다룰 수 있다.</li></ul></li></ul> <br> <h4 id="ordinarytoprimitive-o-hint"><a href="#ordinarytoprimitive-o-hint" class="header-anchor">#</a> 📍 <code>OrdinaryToPrimitive(O, hint)</code></h4> <ul><li>O에 내장된 <code>toString</code> 또는 <code>valueOf</code> 메서드를 통해 타입이 <code>Object</code>인 O을 원시값으로 변환한다.</li> <li><code>toString</code>, <code>valueOf</code> 메서드를 통해 원시값으로 변환이 되지 않으면 <code>TypeError</code>를 발생한다.</li></ul> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token comment">// 특정 메서드를 호출 가능한지 판별하는 함수</span>
<span class="token keyword">function</span> <span class="token function">IsCallable</span><span class="token punctuation">(</span><span class="token parameter">x</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token keyword">typeof</span> x <span class="token operator">===</span> <span class="token string">'function'</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">function</span> <span class="token function">OrdinaryToPrimitive</span><span class="token punctuation">(</span><span class="token constant">O</span><span class="token operator">:</span> object<span class="token punctuation">,</span> <span class="token literal-property property">hint</span><span class="token operator">:</span> <span class="token string">'string'</span> <span class="token operator">|</span> <span class="token string">'number'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">let</span> methodNames<span class="token punctuation">;</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>hint <span class="token operator">===</span> <span class="token string">'string'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    methodNames <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">'toString'</span><span class="token punctuation">,</span> <span class="token string">'valueOf'</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
    methodNames <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">'valueOf'</span><span class="token punctuation">,</span> <span class="token string">'toString'</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">const</span> name <span class="token keyword">of</span> methodNames<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> method <span class="token operator">=</span> <span class="token constant">O</span><span class="token punctuation">[</span>name<span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">IsCallable</span><span class="token punctuation">(</span>method<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">const</span> result <span class="token operator">=</span> <span class="token function">method</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span><span class="token constant">O</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">TypeOf</span><span class="token punctuation">(</span>result<span class="token punctuation">)</span> <span class="token operator">!==</span> <span class="token string">'object'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> result<span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">TypeError</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><ul><li>내부 로직 설명(<code>hint</code>가 <code>'string'</code>인 경우)
<ul><li>참고로 <code>hint</code>가 <code>'number'</code>인 경우는 아래와 동일하고 <code>valueOf</code> =&gt; <code>toString</code> 순서로 메서드를 확인하면 된다.</li></ul></li></ul> <table><thead><tr><th>케이스</th> <th>설명</th></tr></thead> <tbody><tr><td><code>O.toString</code>을 호출할 수 있고 <code>O.toString.call(O)</code>의 반환 타입이 <code>'object'</code>가 아닌 경우(즉, 원시값인 경우)</td> <td>그 결과를 즉시 반환한다.</td></tr> <tr><td><code>O.toString</code>을 호출할 수 있고 <code>O.toString.call(O)</code>의 반환 타입이 <code>'object'</code>인 경우</td> <td><code>O.valueOf</code>를 호출할 수 있는지 확인 후 <code>O.valueOf.call(O)</code>의 반환 타입이 <code>'object'</code>일 때만 그 결과를 반환한다.</td></tr> <tr><td><code>O.valueOf</code>를 호출할 수 없고 <code>O.valueOf.call(O)</code>의 반환 타입이 <code>'object'</code>인 경우</td> <td>원시값이 아니므로 <code>TypeError</code>를 반환한다.</td></tr></tbody></table> <ul><li><code>toString</code>, <code>valueOf</code> 메서드</li></ul> <table><thead><tr><th>메서드</th> <th>설명</th></tr></thead> <tbody><tr><td><code>toString</code></td> <td>문자열로 변환해준다.</td></tr> <tr><td><code>valueOf</code></td> <td>객체 자신을 반환한다.</td></tr></tbody></table> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token comment">// 객체인 경우</span>
<span class="token keyword">const</span> user <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">&quot;John&quot;</span><span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token function">alert</span><span class="token punctuation">(</span>user<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// [object Object]</span>
<span class="token function">alert</span><span class="token punctuation">(</span>user<span class="token punctuation">.</span><span class="token function">valueOf</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">===</span> user<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// true</span>
</code></pre></div><ul><li>참고로 <code>ToPrimitive</code> 함수에서 <code>Symbol.toPrimitive</code> 를 직접 만든 예시 코드가 있었는데 이를 아래와 같이 <code>toString</code>, <code>valueOf</code> 메서드를 조합해서 동일하게 동작하도록 만들 수도 있다.</li></ul> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">const</span> user <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">&quot;John&quot;</span><span class="token punctuation">,</span>
  <span class="token literal-property property">money</span><span class="token operator">:</span> <span class="token number">1000</span><span class="token punctuation">,</span>

  <span class="token comment">// hint가 &quot;string&quot;인 경우</span>
  <span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">{name: &quot;</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token keyword">this</span><span class="token punctuation">.</span>name<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">&quot;}</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>

  <span class="token comment">// hint가 &quot;number&quot;나 &quot;default&quot;인 경우</span>
  <span class="token function">valueOf</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>money<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token function">alert</span><span class="token punctuation">(</span>user<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// toString -&gt; {name: &quot;John&quot;}</span>
<span class="token function">alert</span><span class="token punctuation">(</span><span class="token operator">+</span>user<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// valueOf -&gt; 1000</span>
<span class="token function">alert</span><span class="token punctuation">(</span>user <span class="token operator">+</span> <span class="token number">500</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// valueOf -&gt; 1500</span>
</code></pre></div><br> <h3 id="_2-숫자로-타입-변환-케이스-내부-연산-따라가기"><a href="#_2-숫자로-타입-변환-케이스-내부-연산-따라가기" class="header-anchor">#</a> (2) 숫자로 타입 변환 케이스 내부 연산 따라가기</h3> <h4 id="number-1"><a href="#number-1" class="header-anchor">#</a> ✔️ <code>Number('1');</code></h4> <ul><li><code>Number</code> 생성자 함수는 <code>ToNumber(argument)</code> 연산이 작동된다.</li> <li><code>'1'</code>의 type이 <code>'string'</code>이므로 <code>parseTheString</code> 내부 연산을 거쳐서 숫자 <code>1</code>이 된다.
<ul><li>참고로 <code>parseTheString</code> 프로세스는 다소 복잡하여 <a href="https://tc39.es/ecma262/#sec-runtime-semantics-mv-s" target="_blank" rel="noopener noreferrer">ECMAScript 공식 문서<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>로 대체한다.</li></ul></li></ul> <br> <h4 id="number-1-2"><a href="#number-1-2" class="header-anchor">#</a> ✔️ <code>Number([1]);</code></h4> <ul><li><code>ToNumber(argument)</code>  연산
<ul><li><code>argument</code>의 타입이 <code>object</code>이므로 <code>ToPrimitive(input, hint)</code> 연산으로 넘어간다.</li> <li>참고로 마지막에  <code>ToNumber(argument)</code> 연산 남은 부분이 있어 다시 돌아올 예정이다.</li></ul></li> <li><code>ToPrimitive(input, hint)</code> 연산
<ul><li><code>input</code> 값은 <code>[1]</code>, <code>hint</code>는 주어지지 않으면 <code>'default'</code>가 된다.</li> <li><code>[1]</code>의 타입이 <code>'object'</code>이고 <code>[1][Symbol.toPrimitive]</code>는 <code>undefined</code> 이므로 <code>OrdinaryToPrimitive(O, hint)</code> 연산으로 넘어간다.</li> <li>이 때 다음 연산으로 넘어갈 때 <code>hint</code>는 <code>'number'</code>가 된다.</li></ul></li> <li><code>OrdinaryToPrimitive(O, hint)</code> 연산
<ul><li>현재 호출되는 연산은 <code>OrdinaryToPrimitive([1], 'number')</code>이 된다.</li> <li><code>hint</code>가 <code>'number'</code>이므로 <code>valueOf</code> =&gt; <code>toString</code> 순서로 해당 메서드를 호출할 수 있는지 확인할 것이다.</li> <li><code>valueOf</code> 메서드의 결과는 <code>[1]</code>이고 이 때 타입은 <code>'object'</code>이므로 다음 메서드로 넘어간다.</li> <li><code>toString</code> 메서드의 연산 결과는 <code>Array.prototype.toString()</code>에 의해 <code>'string'</code>타입인 <code>'1'</code>이 되고 <code>'object'</code> 타입이 아니므로 <code>'1'</code>을 반환한다.</li></ul></li> <li><code>ToNumber(argument)</code>  연산
<ul><li>이제 마지막으로 <code>ToNumber('1')</code> 연산을 실행한다.</li> <li>이 과정은 처음에 살펴보면 <code>Number('1');</code>과 동일하므로 최종 결과는 숫자 <code>1</code>이 된다.</li></ul></li></ul> <br> <h4 id="number-1-2-2"><a href="#number-1-2-2" class="header-anchor">#</a> ✔️ <code>Number([1, 2]);</code></h4> <blockquote><p><code>Number([1]);</code> 예제와 거의 동일하여 <code>OrdinaryToPrimitive(O, hint)</code> 연산부터 살펴보도록하자.</p></blockquote> <ul><li><code>OrdinaryToPrimitive(O, hint)</code> 연산
<ul><li>현재 호출되는 연산은 <code>OrdinaryToPrimitive([1, 2], 'number')</code>이 된다.</li> <li><code>hint</code>가 <code>'number'</code>이므로 <code>valueOf</code> =&gt; <code>toString</code> 순서로 해당 메서드를 호출할 수 있는지 확인할 것이다.</li> <li><code>valueOf</code> 메서드의 결과는 <code>[1, 2]</code>이고 이 때 타입은 <code>'object'</code>이므로 다음 메서드로 넘어간다.</li> <li><code>toString</code> 메서드의 연산 결과는 <code>Array.prototype.toString()</code>에 의해 <code>'string'</code>타입인 <code>'1,2'</code>이 되고 <code>'object'</code> 타입이 아니므로 <code>'1,2'</code>을 반환한다.</li></ul></li> <li><code>ToNumber(argument)</code>  연산
<ul><li>이제 마지막으로 <code>ToNumber('1,2')</code> 연산을 실행한다.</li> <li><code>'1,2'</code>는 숫자로 변환 가능한 문자열이 아니므로 최종 결과는 <code>NaN</code>이 된다.</li></ul></li></ul> <br> <ul><li>Chapter7에서 아래와 같은 예시 코드를 본 적이 있을 것이다.</li></ul> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token comment">// 아래 코드는 과연 어떤 결과를 반환할까? 한번 생각해보자.</span>
<span class="token keyword">var</span> v5 <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">'34'</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token operator">+</span>v5<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// ?</span>

<span class="token keyword">var</span> v6 <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">'34'</span><span class="token punctuation">,</span> <span class="token string">'5'</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token operator">+</span>v6<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// ?</span>

<span class="token keyword">var</span> v7 <span class="token operator">=</span> <span class="token keyword">undefined</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token operator">+</span>v7<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// ?</span>

<span class="token keyword">var</span> v8 <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token operator">+</span>v8<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// ?</span>
</code></pre></div><ul><li>그 때는 어떤 결과가 나올지 생각만 해보았는데 이제는 타입 변환에 대해서 자세히 살펴보았기 때문에 어떤 결과가 나올지 예측할 수 있다.</li></ul> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">var</span> v5 <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">'34'</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token operator">+</span>v5<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 34</span>

<span class="token keyword">var</span> v6 <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">'34'</span><span class="token punctuation">,</span> <span class="token string">'5'</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token operator">+</span>v6<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// NaN</span>

<span class="token keyword">var</span> v7 <span class="token operator">=</span> <span class="token keyword">undefined</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token operator">+</span>v7<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// NaN</span>

<span class="token keyword">var</span> v8 <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token operator">+</span>v8<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 0</span>
</code></pre></div><ul><li>그렇다면 아래 코드는 어떤 결과가 나올까?</li></ul> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">var</span> v9 <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token keyword">null</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token operator">+</span>v9<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// ?</span>

<span class="token keyword">var</span> v10 <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token keyword">undefined</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token operator">+</span>v10<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// ?</span>
</code></pre></div><ul><li>정답은 둘다 숫자 <code>0</code>이 된다.
<ul><li>왜냐하면 <code>Array.prototype.toString()</code> 메소드가 <code>join</code> 메소드와 동일한 동작을 하는데 이 때 <code>join</code> 메소드를 수행할 때 배열의 원소가 <code>null</code>, <code>undefined</code>인 경우 빈 문자열로 대체된다고 한다.</li> <li>그렇기 때문에 <code>[null].toString()</code>, <code>[undefined].toString()</code> 모두 빈 문자열 <code>''</code>이 되고 최종 결과는 <code>+'' = 0</code>이 되는 것이다.</li> <li>자세한 내용은 <a href="https://developer.mozilla.org/ko/docs/Web/JavaScript/Reference/Global_Objects/Array/toString" target="_blank" rel="noopener noreferrer">Array.prototype.toString() - MDN 공식 문서<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>와 <a href="https://developer.mozilla.org/ko/docs/Web/JavaScript/Reference/Global_Objects/Array/join" target="_blank" rel="noopener noreferrer">Array.prototype.join() - MDN 공식 문서<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>를 참고하자.</li></ul></li> <li>지금까지 살펴본 내용을 토대로 <code>+v11</code>와 <code>+v12</code>가 어떤 값으로 평가될지 예측해보자.</li></ul> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">var</span> v11 <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token keyword">null</span><span class="token punctuation">,</span> <span class="token keyword">undefined</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token operator">+</span>v11<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// ?</span>

<span class="token keyword">var</span> v12 <span class="token operator">=</span> <span class="token operator">++</span><span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token operator">+</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token operator">+</span><span class="token punctuation">[</span><span class="token operator">+</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token operator">+</span>v12<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// ?</span>
</code></pre></div><hr> <p>🔖 <b>함께 보면 좋은 자료(feat. Reference)</b></p> <ul><li>지금은 숫자로 강제 타입 변환할 때만 살펴보았지만 <code>string</code>, <code>boolean</code> 등 다양한 타입으로 변환하는 경우도 있는데 이는 <a href="https://exploringjs.com/deep-js/ch_type-coercion.html" target="_blank" rel="noopener noreferrer">여기<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>(Javascript 언어로 작성한 타입 변환 내부 연산)를 참고하면 자세히 알 수 있다.</li> <li>그리고 모던 Javascript 튜토리얼에서도 객체를 원시형으로 변환하는 내용을 <a href="https://ko.javascript.info/object-toprimitive" target="_blank" rel="noopener noreferrer">여기<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>에 자세히 나와있으니 함께 참고하면 좋을 것 같다.</li></ul> <hr> <br> <h2 id="_5-단축-평가-short-circuit-evaluation"><a href="#_5-단축-평가-short-circuit-evaluation" class="header-anchor">#</a> 5. 단축 평가(short-circuit evaluation)</h2> <h3 id="_1-논리-연산자를-사용한-단축-평가"><a href="#_1-논리-연산자를-사용한-단축-평가" class="header-anchor">#</a> (1) 논리 연산자를 사용한 단축 평가</h3> <ul><li>논리 연산자 중에서 논리곱 연산자(<code>&amp;&amp;</code>)와 논리합 연산자(<code>||</code>)는 논리 연산의 결과를 결정하는 피연산자를 타입 변환하지 않고 그대로 반환하고 이를 단축 평가라고 한다.</li> <li>단축 평가는 표현식을 평가하는 도중에 평가 결과가 확정된 경우 나머지 평가 과정을 생략하는 것을 말한다.</li></ul> <table><thead><tr><th>단축 평가 표현식</th> <th>평가 결과</th></tr></thead> <tbody><tr><td>true || anything</td> <td><code>true</code></td></tr> <tr><td>false || anything</td> <td><code>anything</code></td></tr> <tr><td>true &amp;&amp; anything</td> <td><code>anything</code></td></tr> <tr><td>false &amp;&amp; anything</td> <td><code>false</code></td></tr></tbody></table> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token string">'apple'</span> <span class="token operator">||</span> <span class="token string">'banana'</span><span class="token punctuation">;</span> <span class="token comment">// 'apple'</span>
<span class="token boolean">true</span> <span class="token operator">||</span> <span class="token string">'apple'</span><span class="token punctuation">;</span> <span class="token comment">// true</span>
<span class="token string">'apple'</span> <span class="token operator">||</span> <span class="token boolean">true</span><span class="token punctuation">;</span> <span class="token comment">// 'apple'</span>
<span class="token boolean">false</span> <span class="token operator">||</span> <span class="token string">'apple'</span><span class="token punctuation">;</span> <span class="token comment">// 'apple'</span>
<span class="token string">'apple'</span> <span class="token operator">||</span> <span class="token boolean">false</span><span class="token punctuation">;</span> <span class="token comment">// 'apple'</span>

<span class="token string">'apple'</span> <span class="token operator">&amp;&amp;</span> <span class="token string">'banana'</span><span class="token punctuation">;</span> <span class="token comment">// 'banana'</span>
<span class="token boolean">true</span> <span class="token operator">&amp;&amp;</span> <span class="token string">'apple'</span><span class="token punctuation">;</span> <span class="token comment">// 'apple'</span>
<span class="token string">'apple'</span> <span class="token operator">&amp;&amp;</span> <span class="token boolean">true</span><span class="token punctuation">;</span> <span class="token comment">// true</span>
<span class="token boolean">false</span> <span class="token operator">&amp;&amp;</span> <span class="token string">'apple'</span><span class="token punctuation">;</span> <span class="token comment">// false</span>
<span class="token string">'apple'</span> <span class="token operator">&amp;&amp;</span> <span class="token boolean">false</span><span class="token punctuation">;</span> <span class="token comment">// false</span>
</code></pre></div><ul><li>단축 평가를 사용하면 <code>if</code> 문을 대체할 수 있다.
<ul><li>어떤 조건이 Truthy 값일 때 무언가를 해야 한다면 논리곱 연산자 표현식으로 <code>if</code> 문을 대체할 수 있다.</li> <li>반면 어떤 조건이 Falsy 값일 때 무언가를 해야 한다면 논리합 연산자 표현식으로 <code>if</code> 문을 대체할 수 있다.</li></ul></li></ul> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token comment">// before</span>
<span class="token keyword">const</span> done <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> message <span class="token operator">=</span> <span class="token string">''</span><span class="token punctuation">;</span>

<span class="token keyword">if</span> <span class="token punctuation">(</span>done<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  message <span class="token operator">=</span> <span class="token string">'완료'</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">// after</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>done <span class="token operator">&amp;&amp;</span> <span class="token string">'완료'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// '완료'</span>
</code></pre></div><div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token comment">// before</span>
<span class="token keyword">const</span> done <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> message <span class="token operator">=</span> <span class="token string">''</span><span class="token punctuation">;</span>

<span class="token keyword">if</span> <span class="token punctuation">(</span>done<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  message <span class="token operator">=</span> <span class="token string">'미완료'</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">// after</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>done <span class="token operator">||</span> <span class="token string">'미완료'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// '미완료'</span>
</code></pre></div><br> <h3 id="_2-객체와-함수에서-단축-평가-적용-예시"><a href="#_2-객체와-함수에서-단축-평가-적용-예시" class="header-anchor">#</a> (2) 객체와 함수에서 단축 평가 적용 예시</h3> <h4 id="객체를-가리키기를-기대하는-변수가-null-또는-undefined가-아닌지-확인하고-프로퍼티를-참조할-때"><a href="#객체를-가리키기를-기대하는-변수가-null-또는-undefined가-아닌지-확인하고-프로퍼티를-참조할-때" class="header-anchor">#</a> 📍 객체를 가리키기를 기대하는 변수가 <code>null</code> 또는 <code>undefined</code>가 아닌지 확인하고 프로퍼티를 참조할 때</h4> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token comment">// error 발생</span>
<span class="token keyword">const</span> elem <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> value <span class="token operator">=</span> elem<span class="token punctuation">.</span>value<span class="token punctuation">;</span> <span class="token comment">// TypeError: Cannot read property 'value' of null</span>
</code></pre></div><div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token comment">// 단축 평가로 에러 해결</span>
<span class="token keyword">const</span> elem <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> value <span class="token operator">=</span> elem <span class="token operator">&amp;&amp;</span> elem<span class="token punctuation">.</span>value<span class="token punctuation">;</span> <span class="token comment">// null</span>
</code></pre></div><br> <h4 id="함수-매개변수에-기본값을-설정할-때"><a href="#함수-매개변수에-기본값을-설정할-때" class="header-anchor">#</a> 📍 함수 매개변수에 기본값을 설정할 때</h4> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token comment">// 단축 평가를 사용한 매개변수의 기본값 설정</span>
<span class="token keyword">function</span> <span class="token function">getStringLength</span><span class="token punctuation">(</span><span class="token parameter">str</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token punctuation">(</span>str <span class="token operator">||</span> <span class="token string">''</span><span class="token punctuation">)</span><span class="token punctuation">.</span>length<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token function">getStringLength</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 0</span>
<span class="token function">getStringLength</span><span class="token punctuation">(</span><span class="token string">'hello'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 5</span>

<span class="token comment">// ES6의 매개변수의 기본값 설정</span>
<span class="token keyword">function</span> <span class="token function">getStringLength</span><span class="token punctuation">(</span>str <span class="token operator">=</span> <span class="token string">''</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> str<span class="token punctuation">.</span>length<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token function">getStringLength</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 0</span>
<span class="token function">getStringLength</span><span class="token punctuation">(</span><span class="token string">'hello'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 5</span>
</code></pre></div><hr> <h3 id="eslint-no-param-reassign"><a href="#eslint-no-param-reassign" class="header-anchor">#</a> ➕ ESLint - <code>no-param-reassign</code></h3> <p><img src="https://user-images.githubusercontent.com/52685250/149661079-cfce8929-9b07-4c45-abec-f6fd8eef2ab3.JPG" alt="no-param-reassign"></p> <ul><li>참고로 책에 나와 있는 예시 코드는 위 이미지와 같다.</li> <li>하지만 이렇게 작성하는 경우 함수 매개 변수로 들어온 값을 임의로 변경하는 동작을 수행하는 것이다.</li> <li>비록 지금은 값이 없는 경우 빈 문자열로 처리하는 것 밖에 없지만 다른 코드에서 함수 매개 변수를 받아서 수정 또는 재할당하는 동작을 수행하게 되면 의도하지 않은 동작을 할 수 있기 때문에 이러한 코드 패턴은 권장하지 않는다.</li> <li>그래서 이러한 패턴을 피해서 <code>(str || '').length</code>와 같이 인라인화하여 코드를 수정했다.</li> <li>또는 두 번째 <code>getStringLength</code> 함수와 같이 매개 변수의 기본값을 지정하는 방법으로 작성해도 좋다.</li> <li>ESLint의 <code>no-param-reassign</code> 옵션에 대한 상세 내용은 <a href="https://eslint.org/docs/rules/no-param-reassign" target="_blank" rel="noopener noreferrer">여기<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>를 참고해보자.</li></ul> <hr> <br> <h3 id="_3-옵셔널-체이닝-연산자-optional-chaining-operator"><a href="#_3-옵셔널-체이닝-연산자-optional-chaining-operator" class="header-anchor">#</a> (3) 옵셔널 체이닝 연산자(optional chaining operator)</h3> <ul><li>ES2020에서 도입된 옵셔널 체이닝 연산자(<code>?.</code>)는 <b>좌항의 피연산자가 <code>null</code> 또는 <code>undefined</code>인 경우 <code>undefined</code>를 반환</b>하고, <b>그렇지 않으면 우항의 프로퍼티 참조를 이어간다.</b></li></ul> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">const</span> elem <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> value <span class="token operator">=</span> elem<span class="token operator">?.</span>value<span class="token punctuation">;</span> <span class="token comment">// undefined</span>
</code></pre></div><ul><li>논리곱 연산자(<code>&amp;&amp;</code>)는 좌항 피연산자가 <code>false</code>로 평가되는 Falsy 값이면 좌항 피연산자를 그대로 반환한다.
<ul><li>좌항 피연산자가 Falsy 값인 <code>0</code>이나 빈 문자열인 경우도 마찬가지다.</li></ul></li> <li>반면 옵셔널 체이닝 연산자는 좌항 피연산자가 <code>false</code>로 평가되는 Falsy 값이라도 <code>null</code> 또는 <code>undefined</code>가 아니면 우항의 프로퍼티 참조를 이어간다.</li></ul> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">const</span> str <span class="token operator">=</span> <span class="token string">''</span><span class="token punctuation">;</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>str <span class="token operator">&amp;&amp;</span> str<span class="token punctuation">.</span>length<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// ''</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>str<span class="token operator">?.</span>length<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 0</span>
</code></pre></div><br> <h3 id="_4-null-병합-연산자-nullish-coalescing-operator"><a href="#_4-null-병합-연산자-nullish-coalescing-operator" class="header-anchor">#</a> (4) null 병합 연산자(nullish coalescing operator)</h3> <ul><li>ES2020에서 도입된 null 병합 연산자(<code>??</code>)는 <b>좌항의 피연산자가 <code>null</code> 또는 <code>undefined</code>인 경우 우항의 피연산자를 반환</b>하고, <b>그렇지 않으면 좌항의 피연산자를 반환한다.</b></li> <li>null 병합 연산자는 변수에 기본값을 설정할 때 유용하다.</li></ul> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">const</span> foo <span class="token operator">=</span> <span class="token keyword">null</span> <span class="token operator">??</span> <span class="token string">'default'</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>foo<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 'default';</span>
</code></pre></div><ul><li>논리합 연산자(<code>||</code>)는 좌항 피연산자가 <code>false</code>로 평가되는 Falsy 값이면 우항의 피연산자를 반환한다.
<ul><li>만약 Falsy 값인 <code>0</code>이나 빈 문자열도 기본값으로 유효하다면 예기치 않은 동작이 발생할 수 있다.</li></ul></li></ul> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">const</span> foo <span class="token operator">=</span> <span class="token string">''</span> <span class="token operator">||</span> <span class="token string">'default'</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>foo<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 'default'</span>
</code></pre></div><ul><li>반면 null 병합 연산자는 좌항 피연산자가 <code>false</code>로 평가되는 Falsy 값이라도 <code>null</code> 또는 <code>undefined</code>가 아니면 좌항의 피연산자를 그대로 반환한다.</li></ul> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">const</span> foo <span class="token operator">=</span> <span class="token string">''</span> <span class="token operator">??</span> <span class="token string">'default'</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>foo<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// ''</span>
</code></pre></div></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/wally-wally-til/til/js-deep-dive/chapter08.html" class="prev">
        Chapter08
      </a></span> <span class="next"><a href="/wally-wally-til/til/js-deep-dive/chapter10.html">
        Chapter10
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/wally-wally-til/assets/js/app.f5246800.js" defer></script><script src="/wally-wally-til/assets/js/2.fd76ebd9.js" defer></script><script src="/wally-wally-til/assets/js/41.2e0f3c4d.js" defer></script>
  </body>
</html>
