<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Chapter16. 프로퍼티 어트리뷰트 | wally-wally TIL</title>
    <meta name="generator" content="VuePress 1.9.7">
    
    <meta name="description" content="wally-wally&#39;s TIL">
    <meta name="theme-color" content="#3eaf7c">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    
    <link rel="preload" href="/wally-wally-til/assets/css/0.styles.5b0b7f0f.css" as="style"><link rel="preload" href="/wally-wally-til/assets/js/app.f5246800.js" as="script"><link rel="preload" href="/wally-wally-til/assets/js/2.fd76ebd9.js" as="script"><link rel="preload" href="/wally-wally-til/assets/js/48.8846fba8.js" as="script"><link rel="prefetch" href="/wally-wally-til/assets/js/10.d9a95bfe.js"><link rel="prefetch" href="/wally-wally-til/assets/js/11.a2a6e0bb.js"><link rel="prefetch" href="/wally-wally-til/assets/js/12.07ea1bdf.js"><link rel="prefetch" href="/wally-wally-til/assets/js/13.1bfbaa6f.js"><link rel="prefetch" href="/wally-wally-til/assets/js/14.90ad19d6.js"><link rel="prefetch" href="/wally-wally-til/assets/js/15.f50c2694.js"><link rel="prefetch" href="/wally-wally-til/assets/js/16.85e8420c.js"><link rel="prefetch" href="/wally-wally-til/assets/js/17.872b0e5a.js"><link rel="prefetch" href="/wally-wally-til/assets/js/18.f1794982.js"><link rel="prefetch" href="/wally-wally-til/assets/js/19.786141e4.js"><link rel="prefetch" href="/wally-wally-til/assets/js/20.88ff03b1.js"><link rel="prefetch" href="/wally-wally-til/assets/js/21.fd903a51.js"><link rel="prefetch" href="/wally-wally-til/assets/js/22.d215abd1.js"><link rel="prefetch" href="/wally-wally-til/assets/js/23.44ffc4f2.js"><link rel="prefetch" href="/wally-wally-til/assets/js/24.01293f45.js"><link rel="prefetch" href="/wally-wally-til/assets/js/25.3ef63158.js"><link rel="prefetch" href="/wally-wally-til/assets/js/26.a467aa9c.js"><link rel="prefetch" href="/wally-wally-til/assets/js/27.9e7ecb66.js"><link rel="prefetch" href="/wally-wally-til/assets/js/28.2ab87b73.js"><link rel="prefetch" href="/wally-wally-til/assets/js/29.4481ba0f.js"><link rel="prefetch" href="/wally-wally-til/assets/js/3.c603572a.js"><link rel="prefetch" href="/wally-wally-til/assets/js/30.19fd5f37.js"><link rel="prefetch" href="/wally-wally-til/assets/js/31.d5bfcc5a.js"><link rel="prefetch" href="/wally-wally-til/assets/js/32.5ee24aeb.js"><link rel="prefetch" href="/wally-wally-til/assets/js/33.11913056.js"><link rel="prefetch" href="/wally-wally-til/assets/js/34.31af5972.js"><link rel="prefetch" href="/wally-wally-til/assets/js/35.9ae3b57d.js"><link rel="prefetch" href="/wally-wally-til/assets/js/36.39511f04.js"><link rel="prefetch" href="/wally-wally-til/assets/js/37.298faa13.js"><link rel="prefetch" href="/wally-wally-til/assets/js/38.04a5a190.js"><link rel="prefetch" href="/wally-wally-til/assets/js/39.02659111.js"><link rel="prefetch" href="/wally-wally-til/assets/js/4.ed8f2e2d.js"><link rel="prefetch" href="/wally-wally-til/assets/js/40.e5fe29a8.js"><link rel="prefetch" href="/wally-wally-til/assets/js/41.2e0f3c4d.js"><link rel="prefetch" href="/wally-wally-til/assets/js/42.604fb7ae.js"><link rel="prefetch" href="/wally-wally-til/assets/js/43.7be3d9b4.js"><link rel="prefetch" href="/wally-wally-til/assets/js/44.6a25a594.js"><link rel="prefetch" href="/wally-wally-til/assets/js/45.3d5db9fb.js"><link rel="prefetch" href="/wally-wally-til/assets/js/46.f541a5fe.js"><link rel="prefetch" href="/wally-wally-til/assets/js/47.493907b1.js"><link rel="prefetch" href="/wally-wally-til/assets/js/49.180ec634.js"><link rel="prefetch" href="/wally-wally-til/assets/js/5.16508133.js"><link rel="prefetch" href="/wally-wally-til/assets/js/50.43c8c2f2.js"><link rel="prefetch" href="/wally-wally-til/assets/js/51.cf749cf9.js"><link rel="prefetch" href="/wally-wally-til/assets/js/52.99331d67.js"><link rel="prefetch" href="/wally-wally-til/assets/js/53.efc989ab.js"><link rel="prefetch" href="/wally-wally-til/assets/js/54.6d56ccbb.js"><link rel="prefetch" href="/wally-wally-til/assets/js/55.0c06e067.js"><link rel="prefetch" href="/wally-wally-til/assets/js/56.b45e191a.js"><link rel="prefetch" href="/wally-wally-til/assets/js/57.961440e9.js"><link rel="prefetch" href="/wally-wally-til/assets/js/58.a3d99037.js"><link rel="prefetch" href="/wally-wally-til/assets/js/59.55d3c672.js"><link rel="prefetch" href="/wally-wally-til/assets/js/6.c7b54f12.js"><link rel="prefetch" href="/wally-wally-til/assets/js/60.1eb9e815.js"><link rel="prefetch" href="/wally-wally-til/assets/js/61.60cf2957.js"><link rel="prefetch" href="/wally-wally-til/assets/js/62.060bd05f.js"><link rel="prefetch" href="/wally-wally-til/assets/js/63.f005f9ad.js"><link rel="prefetch" href="/wally-wally-til/assets/js/64.a7d460aa.js"><link rel="prefetch" href="/wally-wally-til/assets/js/65.083b5915.js"><link rel="prefetch" href="/wally-wally-til/assets/js/66.3f31ca88.js"><link rel="prefetch" href="/wally-wally-til/assets/js/67.affe2987.js"><link rel="prefetch" href="/wally-wally-til/assets/js/68.58b01f3c.js"><link rel="prefetch" href="/wally-wally-til/assets/js/69.c7491bbb.js"><link rel="prefetch" href="/wally-wally-til/assets/js/7.233f38d3.js"><link rel="prefetch" href="/wally-wally-til/assets/js/70.9c9e05e7.js"><link rel="prefetch" href="/wally-wally-til/assets/js/71.67c4633a.js"><link rel="prefetch" href="/wally-wally-til/assets/js/72.66a1fbf9.js"><link rel="prefetch" href="/wally-wally-til/assets/js/73.cc121e7e.js"><link rel="prefetch" href="/wally-wally-til/assets/js/74.b71f297f.js"><link rel="prefetch" href="/wally-wally-til/assets/js/75.24c397b2.js"><link rel="prefetch" href="/wally-wally-til/assets/js/8.f792d4e1.js"><link rel="prefetch" href="/wally-wally-til/assets/js/9.897445a3.js">
    <link rel="stylesheet" href="/wally-wally-til/assets/css/0.styles.5b0b7f0f.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/wally-wally-til/" class="home-link router-link-active"><img src="/wally-wally-til/logo.png" alt="wally-wally TIL" class="logo"> <span class="site-name can-hide">wally-wally TIL</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/wally-wally-til/til/" class="nav-link router-link-active">
  TIL
</a></div><div class="nav-item"><a href="/wally-wally-til/config/" class="nav-link">
  Config
</a></div><div class="nav-item"><a href="https://wally-wally.kr" target="_blank" rel="noopener noreferrer" class="nav-link external">
  wally-wally
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/wally-wally-til/til/" class="nav-link router-link-active">
  TIL
</a></div><div class="nav-item"><a href="/wally-wally-til/config/" class="nav-link">
  Config
</a></div><div class="nav-item"><a href="https://wally-wally.kr" target="_blank" rel="noopener noreferrer" class="nav-link external">
  wally-wally
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Introduction</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>JS Deep Dive</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/wally-wally-til/til/js-deep-dive/" aria-current="page" class="sidebar-link">Overview</a></li><li><a href="/wally-wally-til/til/js-deep-dive/chapter04.html" class="sidebar-link">Chapter04</a></li><li><a href="/wally-wally-til/til/js-deep-dive/chapter05.html" class="sidebar-link">Chapter05</a></li><li><a href="/wally-wally-til/til/js-deep-dive/chapter06.html" class="sidebar-link">Chapter06</a></li><li><a href="/wally-wally-til/til/js-deep-dive/chapter07.html" class="sidebar-link">Chapter07</a></li><li><a href="/wally-wally-til/til/js-deep-dive/chapter08.html" class="sidebar-link">Chapter08</a></li><li><a href="/wally-wally-til/til/js-deep-dive/chapter09.html" class="sidebar-link">Chapter09</a></li><li><a href="/wally-wally-til/til/js-deep-dive/chapter10.html" class="sidebar-link">Chapter10</a></li><li><a href="/wally-wally-til/til/js-deep-dive/chapter11.html" class="sidebar-link">Chapter11</a></li><li><a href="/wally-wally-til/til/js-deep-dive/chapter12.html" class="sidebar-link">Chapter12</a></li><li><a href="/wally-wally-til/til/js-deep-dive/chapter13.html" class="sidebar-link">Chapter13</a></li><li><a href="/wally-wally-til/til/js-deep-dive/chapter14.html" class="sidebar-link">Chapter14</a></li><li><a href="/wally-wally-til/til/js-deep-dive/chapter15.html" class="sidebar-link">Chapter15</a></li><li><a href="/wally-wally-til/til/js-deep-dive/chapter16.html" aria-current="page" class="active sidebar-link">Chapter16</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/wally-wally-til/til/js-deep-dive/chapter16.html#_1-내부-슬롯과-내부-메서드" class="sidebar-link">1. 내부 슬롯과 내부 메서드</a></li><li class="sidebar-sub-header"><a href="/wally-wally-til/til/js-deep-dive/chapter16.html#_2-프로퍼티-어트리뷰트와-프로퍼티-디스크립터-객체" class="sidebar-link">2. 프로퍼티 어트리뷰트와 프로퍼티 디스크립터 객체</a></li><li class="sidebar-sub-header"><a href="/wally-wally-til/til/js-deep-dive/chapter16.html#_3-데이터-프로퍼티와-접근자-프로퍼티" class="sidebar-link">3. 데이터 프로퍼티와 접근자 프로퍼티</a></li><li class="sidebar-sub-header"><a href="/wally-wally-til/til/js-deep-dive/chapter16.html#_4-프로퍼티-정의" class="sidebar-link">4. 프로퍼티 정의</a></li><li class="sidebar-sub-header"><a href="/wally-wally-til/til/js-deep-dive/chapter16.html#_5-객체-변경-방지" class="sidebar-link">5. 객체 변경 방지</a></li></ul></li><li><a href="/wally-wally-til/til/js-deep-dive/chapter17.html" class="sidebar-link">Chapter17</a></li></ul></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Effective TypeScript</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Refactoring</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Functional Coding</span> <span class="arrow right"></span></p> <!----></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="chapter16-프로퍼티-어트리뷰트"><a href="#chapter16-프로퍼티-어트리뷰트" class="header-anchor">#</a> Chapter16. 프로퍼티 어트리뷰트</h1> <br> <h2 id="_1-내부-슬롯과-내부-메서드"><a href="#_1-내부-슬롯과-내부-메서드" class="header-anchor">#</a> 1. 내부 슬롯과 내부 메서드</h2> <ul><li>ECMAScript 사양에 등장하는 이중 대괄호(<code>[[...]]</code>)로 감싼 이름들이 내부 슬롯(internal slot)과 내부 메서드(internal method)다.</li> <li>이 둘은 ECMAScript 사양에 정의된 대로 구현되어 자바스크립트 엔진에서 실제로 동작하지만 개발자가 직접 접근할 수 있도록 외부에 공개된 객체의 프로퍼티는 아니다.
<ul><li>원칙적으로 직접적으로 접근하거나 호출할 수 있는 방법을 제공하지 않지만 일부는 간접적으로 접근할 수 있는 수단을 제공하기는 한다.</li> <li>예를 들어, <code>[[Prototype]]</code> 내부 슬롯의 경우, <code>__proto__</code>를 통해 간접적으로 접근할 수 있다.</li></ul></li></ul> <br> <h2 id="_2-프로퍼티-어트리뷰트와-프로퍼티-디스크립터-객체"><a href="#_2-프로퍼티-어트리뷰트와-프로퍼티-디스크립터-객체" class="header-anchor">#</a> 2. 프로퍼티 어트리뷰트와 프로퍼티 디스크립터 객체</h2> <ul><li>자바스크립트 엔진은 프로퍼티를 생성할 때 프로퍼티의 상태를 나타내는 <b>프로퍼티 어트리뷰트</b>를 기본값으로 자동 정의한다.
<ul><li>프로퍼티 상태: <u>프로퍼티의 값(value)</u>, <u>값의 갱신 가능 여부(writable)</u>, <u>열거 가능 여부(enumerable)</u>, <u>재정의 가능 여부(configurable)</u></li></ul></li> <li>프로퍼티 어트리뷰트는 자바스크립트 엔진이 관리하는 내부 상태 값인 내부 슬롯이다.</li> <li>따라서 직접 접근할 수 없지만 <code>Object.getOwnPropertyDescriptor</code> 메서드를 사용하여 간접적으로 확인할 수는 있다.</li> <li><code>Object.getOwnPropertyDescriptor</code> 메서드는 프로퍼티 어트리뷰트 정보를 제공하는 <b>프로퍼티 디스크립터 객체</b>를 반환한다.
<ul><li>이 메서드는 하나의 프로퍼티에 대해 프로퍼티 디스크립터 객체를 반환하지만 ES8에서 도입된 <code>Object.getOwnPropertyDescriptors</code> 메서드는 모든 프로퍼티의 프로퍼티 어트리뷰트 정보를 제공하는 프로퍼티 디스크립터 객체들을 반환한다.</li></ul></li></ul> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">const</span> obj1 <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> obj2 <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">a</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> obj3 <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">x</span><span class="token operator">:</span> <span class="token number">100</span><span class="token punctuation">,</span>
  <span class="token literal-property property">y</span><span class="token operator">:</span> <span class="token number">200</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token comment">// 존재하지 않는 프로퍼티나 상속받은 프로퍼티에 대해서는 undefined가 반환됨</span>
Object<span class="token punctuation">.</span><span class="token function">getOwnPropertyDescriptor</span><span class="token punctuation">(</span>obj1<span class="token punctuation">,</span> <span class="token string">'a'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// undefined</span>
Object<span class="token punctuation">.</span><span class="token function">getOwnPropertyDescriptor</span><span class="token punctuation">(</span>obj2<span class="token punctuation">,</span> <span class="token string">'a'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// {value: 1, writable: true, enumerable: true, configurable: true}</span>
Object<span class="token punctuation">.</span><span class="token function">getOwnPropertyDescriptors</span><span class="token punctuation">(</span>obj3<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// {</span>
<span class="token comment">//   x: {value: 100, writable: true, enumerable: true, configurable: true},</span>
<span class="token comment">//   y: {value: 200, writable: true, enumerable: true, configurable: true}</span>
<span class="token comment">// }</span>
Object<span class="token punctuation">.</span><span class="token function">getOwnPropertyDescriptors</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// {}</span>
</code></pre></div><br> <h2 id="_3-데이터-프로퍼티와-접근자-프로퍼티"><a href="#_3-데이터-프로퍼티와-접근자-프로퍼티" class="header-anchor">#</a> 3. 데이터 프로퍼티와 접근자 프로퍼티</h2> <h3 id="_1-데이터-프로퍼티-data-property"><a href="#_1-데이터-프로퍼티-data-property" class="header-anchor">#</a> (1) 데이터 프로퍼티(data property)</h3> <ul><li><b>키와 값으로 구성된 일반적인 프로퍼티</b>로 지금까지 살펴본 모든 프로퍼티는 데이터 프로퍼티다.</li> <li>데이터 프로퍼티는 <code>[[Value]]</code>, <code>[[Writable]]</code>, <code>[[Enumerable]]</code>, <code>[[Configurable]]</code>와 같은 프로퍼티 어트리뷰트를 갖는다.
<ul><li>이 어트리뷰트들은 자바스크립트 엔진이 프로퍼티를 생성할 때 기본값으로 자동 정의된다.</li></ul></li></ul> <table><thead><tr><th>프로퍼티 어트리뷰트</th> <th>설명</th></tr></thead> <tbody><tr><td><code>[[Value]]</code></td> <td><ul><li>프로퍼티 키를 통해 <b>프로퍼티 값</b>에 접근하면 반환되는 값이다. </li><li>프로퍼티 키를 통해 프로퍼티 값을 변경하면 <code>[[Value]]</code>에 값을 재할당한다. 이때 프로퍼티가 없으면 프로퍼티를 동적 생성하고 생성된 프로퍼티의 <code>[[Value]]</code>에 값을 저장한다.</li></ul></td></tr> <tr><td><code>[[Writable]]</code></td> <td><ul><li>프로퍼티 값의 <b>변경 가능 여부</b>를 나타내며 <b>boolean 값</b>을 갖는다.</li><li><code>[[Writable]]</code>의 값이 <code>false</code>인 경우 해당 프로퍼티의 <code>[[Value]]</code>의 값을 변경할 수 없는 읽기 전용 프로퍼티가 된다.</li></ul></td></tr> <tr><td><code>[[Enumerable]]</code></td> <td><ul><li>프로퍼티의 <b>열거 가능 여부</b>를 나타내며 <b>boolean 값</b>을 갖는다.</li><li><code>[[Enumerable]]</code>의 값이 <code>false</code>인 경우 해당 프로퍼티는 <code>for ... in</code> 문이나 <code>Object.keys</code> 메서드 등으로 열거할 수 없다.</li></ul></td></tr> <tr><td><code>[[Configurable]]</code></td> <td><ul><li>프로퍼티의 <b>재정의 가능 여부</b>를 나타내며 <b>boolean 값</b>을 갖는다.</li><li><code>[[Configurable]]</code>의 값이 <code>false</code>인 경우 해당 프로퍼티의 삭제, 프로퍼티 어트리뷰트 값의 변경이 금지된다.</li><li>(단, <code>[[Writable]]</code>이 <code>true</code>인 경우 <code>[[Value]]</code>의 변경과 <code>[[Writable]]</code>을 <code>false</code>로 변경하는 것은 허용된다.</li></ul></td></tr></tbody></table> <br> <h3 id="_2-접근자-프로퍼티-accessor-property"><a href="#_2-접근자-프로퍼티-accessor-property" class="header-anchor">#</a> (2) 접근자 프로퍼티(accessor property)</h3> <ul><li>자체적으로는 값을 갖지 않고 <b>다른 데이터 프로퍼티의 값을 읽거나 저장</b>할 때 호출되는 <b>접근자 함수</b>로 구성된 프로퍼티다.</li></ul> <table><thead><tr><th>프로퍼티 어트리뷰트</th> <th>설명</th></tr></thead> <tbody><tr><td><code>[[Get]]</code></td> <td><ul><li>접근자 프로퍼티를 통해 데이터 프로퍼티의 값을 <b>읽을 때</b> 호출되는 접근자 함수다. </li><li>즉, 접근자 프로퍼티 키로 프로퍼티 값에 접근하면 프로퍼티 어트리뷰트 <code>[[Get]]</code>의 값, 즉 <code>getter</code> 함수가 호출되고 그 결과 프로퍼티 값으로 반환된다.</li></ul></td></tr> <tr><td><code>[[Set]]</code></td> <td><ul><li>접근자 프로퍼티를 통해 데이터 프로퍼티의 값을 <b>저장할 때</b> 호출되는 접근자 함수다.</li><li>즉, 접근자 프로퍼티 키로 프로퍼티 값을 저장하면 프로퍼티 어트리뷰트 <code>[[Set]]</code>의 값, 즉 <code>setter</code> 함수가 호출되고 그 결과 프로퍼티 값으로 저장된다.</li></ul></td></tr> <tr><td><code>[[Enumerable]]</code></td> <td><ul><li>데이터 프로퍼티의 <code>[[Enumerable]]</code>과 같다.</li></ul></td></tr> <tr><td><code>[[Configurable]]</code></td> <td><ul><li>데이터 프로퍼티의 <code>[[Configurable]]</code>과 같다.</li></ul></td></tr></tbody></table> <br> <h3 id="_3-getter-setter-함수"><a href="#_3-getter-setter-함수" class="header-anchor">#</a> (3) <code>getter</code>, <code>setter</code> 함수</h3> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">const</span> user <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">// 데이터 프로퍼티</span>
  <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">'wally'</span><span class="token punctuation">,</span>
  <span class="token literal-property property">age</span><span class="token operator">:</span> <span class="token number">28</span><span class="token punctuation">,</span>
    
  <span class="token comment">// userInfo는 접근자 함수로 구성된 접근자 프로퍼티다.</span>
  <span class="token comment">// getter 함수</span>
  <span class="token keyword">get</span> <span class="token function">userInfo</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token keyword">this</span><span class="token punctuation">.</span>name<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">(</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token keyword">this</span><span class="token punctuation">.</span>age<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">)</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
    
  <span class="token comment">// setter 함수</span>
  <span class="token keyword">set</span> <span class="token function">userInfo</span><span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{</span>name<span class="token punctuation">,</span> age<span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name<span class="token punctuation">;</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>age <span class="token operator">=</span> age<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>user<span class="token punctuation">.</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 'wally'</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>user<span class="token punctuation">.</span>age<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 28</span>

user<span class="token punctuation">.</span>userInfo <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">'wally-wally'</span><span class="token punctuation">,</span>
  <span class="token literal-property property">age</span><span class="token operator">:</span> <span class="token number">29</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>user<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// { name: 'wally-wally', age: 29 }</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>user<span class="token punctuation">.</span>userInfo<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 'wally-wally(29)'</span>

<span class="token comment">// Object.getOwnPropertyDescriptor 메서드를 통해 반환하는 프로퍼티 디스크립터 객체의 프로퍼티들을 보고 어떤 유형의 프로퍼티인지 구분할 수 있다.</span>
Object<span class="token punctuation">.</span><span class="token function">getOwnPropertyDescriptor</span><span class="token punctuation">(</span>user<span class="token punctuation">,</span> <span class="token string">'name'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// {value: 'wally-wally', writable: true, enumerable: true, configurable: true}</span>
Object<span class="token punctuation">.</span><span class="token function">getOwnPropertyDescriptor</span><span class="token punctuation">(</span>user<span class="token punctuation">,</span> <span class="token string">'userInfo'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// {enumerable: true, configurable: true, get: ƒ, set: ƒ}</span>
</code></pre></div><ul><li>접근자 프로퍼티 <code>userInfo</code>로 프로퍼티 값에 접근시 내부적으로 <code>[[Get]]</code> 내부 메서드가 호출될 때 내부에서 일어나는 일</li></ul> <table><thead><tr><th>단계</th> <th>설명</th> <th>적용</th></tr></thead> <tbody><tr><td>1</td> <td>프로퍼티 키가 유효한지 확인하는데 이 때 프로퍼티 키는 문자열 또는 심벌이어야 한다.</td> <td>프로퍼티 키 <code>userInfo</code>는 문자열이므로 유효한 프로퍼티 키다.</td></tr> <tr><td>2</td> <td>프토토타입 체인에서 프로퍼티를 검색한다.</td> <td><code>user</code> 객체에 <code>userInfo</code> 프로퍼티가 존재한다.</td></tr> <tr><td>3</td> <td>검색된 프로퍼티가 어떤 유형의 프로퍼티인지 확인한다.</td> <td><code>userInfo</code> 프로퍼티는 접근자 프로퍼티다.</td></tr> <tr><td>4</td> <td>접근자 프로퍼티의 <code>[[Get]]</code>의 값, 즉 <code>getter</code> 함수를 호출하여 그 결과를 반영한다.</td> <td><code>userInfo</code> 프로퍼티의 <code>[[Get]]</code>의 값은 <code>Object.getOwnPropertyDescriptor</code>  메서드가 반환하는 프로퍼티 디스크립터 객체의 <code>get</code> 프로퍼티 값과 같다.</td></tr></tbody></table> <br> <h2 id="_4-프로퍼티-정의"><a href="#_4-프로퍼티-정의" class="header-anchor">#</a> 4. 프로퍼티 정의</h2> <ul><li>프로퍼티 정의란 새로운 프로퍼티를 추가하면서 프로퍼티 어트리뷰트를 명시적으로 정의하거나, 기존 프로퍼티의 프로퍼티 어트리뷰트를 재정의하는 것을 말한다.</li> <li><code>Object.defineProperty</code> 메서드를 사용하면 프로퍼티 어트리뷰트를 정의할 수 있다.
<ul><li>인수로는 객체의 참조와 데이터 프로퍼티의 키인 문자열, 프로퍼티 디스크립터 객체를 전달한다.</li></ul></li></ul> <table><thead><tr><th>프로퍼티 디스크립터 객체의 프로퍼티</th> <th>대응하는 프로퍼티 어트리뷰트</th> <th>생략했을 때의 기본값</th></tr></thead> <tbody><tr><td><code>value</code></td> <td><code>[[Value]]</code></td> <td><code>undefined</code></td></tr> <tr><td><code>get</code></td> <td><code>[[Get]]</code></td> <td><code>undefined</code></td></tr> <tr><td><code>set</code></td> <td><code>[[Set]]</code></td> <td><code>undefined</code></td></tr> <tr><td><code>writable</code></td> <td><code>[[Writable]]</code></td> <td><code>false</code></td></tr> <tr><td><code>enumerable</code></td> <td><code>[[Enumerable]]</code></td> <td><code>false</code></td></tr> <tr><td><code>configurable</code></td> <td><code>[[Configurable]]</code></td> <td><code>false</code></td></tr></tbody></table> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">const</span> obj <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token comment">// 데이터 프로퍼티 정의</span>
Object<span class="token punctuation">.</span><span class="token function">defineProperty</span><span class="token punctuation">(</span>obj<span class="token punctuation">,</span> <span class="token string">'id'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">value</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
  <span class="token literal-property property">writable</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
  <span class="token literal-property property">enumerable</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
  <span class="token literal-property property">configurable</span><span class="token operator">:</span> <span class="token boolean">true</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
Object<span class="token punctuation">.</span><span class="token function">defineProperty</span><span class="token punctuation">(</span>obj<span class="token punctuation">,</span> <span class="token string">'name'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">value</span><span class="token operator">:</span> <span class="token string">'Macbook'</span><span class="token punctuation">,</span>
  <span class="token literal-property property">writable</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
  <span class="token literal-property property">enumerable</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
  <span class="token literal-property property">configurable</span><span class="token operator">:</span> <span class="token boolean">false</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// writable이 false인 경우 해당 프로퍼티의 value의 값을 변경할 수 없다.</span>
<span class="token comment">// 이때 값을 변경하면 에러는 발생하지 않고 무시된다.</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>obj<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// {name: &quot;Macbook&quot;, id: 1}</span>
obj<span class="token punctuation">.</span>name <span class="token operator">=</span> <span class="token string">'Macbook2'</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>obj<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// {name: &quot;Macbook&quot;, id: 1}</span>

<span class="token comment">// enumerable이 false인 경우 해당 프로퍼티는 for ... in 문이나 Object.keys 등으로 열거할 수 없다.</span>
<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">const</span> p <span class="token keyword">in</span> obj<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>p<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 'name'</span>
<span class="token punctuation">}</span>

<span class="token comment">// configurable이 false인 경우 해당 프로퍼티를 삭제할 수 없다.</span>
<span class="token comment">// 이때 프로퍼티를 삭제하면 에러는 발생하지 않고 무시된다.</span>
<span class="token keyword">delete</span> obj<span class="token punctuation">.</span>name<span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>obj<span class="token punctuation">.</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 'Macbook'</span>
<span class="token comment">// 그리고 configurable이 false인 경우 해당 프로퍼티를 재정의할 수 없다.</span>
Object<span class="token punctuation">.</span><span class="token function">defineProperty</span><span class="token punctuation">(</span>obj<span class="token punctuation">,</span> <span class="token string">'name'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span><span class="token literal-property property">writable</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// Uncaught TypeError: Cannot redefine property: name</span>

<span class="token comment">// 접근자 프로퍼티 정의</span>
Object<span class="token punctuation">.</span><span class="token function">defineProperty</span><span class="token punctuation">(</span>obj<span class="token punctuation">,</span> <span class="token string">'c'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
  <span class="token function">get</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token keyword">this</span><span class="token punctuation">.</span>a<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">-</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token keyword">this</span><span class="token punctuation">.</span>b<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token function">set</span><span class="token punctuation">(</span><span class="token punctuation">{</span>a<span class="token punctuation">,</span> b<span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>a <span class="token operator">=</span> a<span class="token punctuation">;</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>b <span class="token operator">=</span> b<span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token literal-property property">enumerable</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
  <span class="token literal-property property">configurable</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><ul><li><code>Object.defineProperty</code> 메서드는 한 번에 하나의 프로퍼티만 정의할 수 있다.</li> <li><code>Object.defineProperties</code> 메서드를 사용하면 여러 개의 프로퍼티를 한 번에 정의할 수 있다.</li></ul> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">const</span> newObj <span class="token operator">=</span> Object<span class="token punctuation">.</span><span class="token function">defineProperties</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">id</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">value</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
    <span class="token literal-property property">writable</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    <span class="token literal-property property">enumerable</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
    <span class="token literal-property property">configurable</span><span class="token operator">:</span> <span class="token boolean">true</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">value</span><span class="token operator">:</span> <span class="token string">'Macbook'</span><span class="token punctuation">,</span>
    <span class="token literal-property property">writable</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
    <span class="token literal-property property">enumerable</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    <span class="token literal-property property">configurable</span><span class="token operator">:</span> <span class="token boolean">false</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>newObj<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// {name: &quot;Macbook&quot;, id: 1}</span>
</code></pre></div><br> <h2 id="_5-객체-변경-방지"><a href="#_5-객체-변경-방지" class="header-anchor">#</a> 5. 객체 변경 방지</h2> <h3 id="_1-객체-확장-금지"><a href="#_1-객체-확장-금지" class="header-anchor">#</a> (1) 객체 확장 금지</h3> <ul><li><b><code>Object.preventExtensions</code> 메서드</b>는 객체의 <b>확장을 금지</b>한다.
<ul><li>기존 프로퍼티는 그대로 두고 추가하는 동작만 할 수 없도록 막는 기능을 한다.(즉, 할당, 삭제, 속성 변경은 모두 가능)</li> <li>프로퍼티 동적 추가와 <code>Object.defineProperty</code> 메서드로 추가하는 두 방법 모두 금지된다.</li></ul></li> <li>확장 금지 여부는 <b><code>Object.isExtensible</code> 메서드</b>로 알 수 있다.</li></ul> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">var</span> myObj <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">a</span><span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

Object<span class="token punctuation">.</span><span class="token function">preventExtensions</span><span class="token punctuation">(</span>myObj<span class="token punctuation">)</span><span class="token punctuation">;</span>
myObj<span class="token punctuation">.</span>b <span class="token operator">=</span> <span class="token number">3</span><span class="token punctuation">;</span> <span class="token comment">// (기본적으로 무시되나 strict mode에서는 에러)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>myObj<span class="token punctuation">.</span>b<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 에러는 발생하지 않으나 해당 프로퍼티가 없으므로 undefined가 출력된다.(단, strict mode에서는 TypeError)</span>
</code></pre></div><br> <h3 id="_2-객체-밀봉"><a href="#_2-객체-밀봉" class="header-anchor">#</a> (2) 객체 밀봉</h3> <ul><li><b><code>Object.seal</code> 메서드</b>는 객체를 <b>밀봉(봉인)</b>한다.
<ul><li>즉, 프로퍼티 추가 및 삭제와 프로퍼티 어트리뷰트 재정의가 금지된다.</li> <li>밀봉된 객체는 읽기와 쓰기만 가능하다.</li></ul></li> <li><code>Object.preventExtensions</code> 메서드를 적용하고 데이터 프로퍼티를 모두 <code>configurable: false</code>로 처리하는 액션과 동일한 효과를 가진다.</li> <li>밀봉 여부는 <b><code>Object.isSealed</code> 메서드</b>로 알 수 있다.</li></ul> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">var</span> myObj <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
Object<span class="token punctuation">.</span><span class="token function">defineProperty</span><span class="token punctuation">(</span>myObj<span class="token punctuation">,</span> <span class="token string">'num'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">value</span><span class="token operator">:</span> <span class="token number">10</span><span class="token punctuation">,</span>
  <span class="token literal-property property">writable</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
  <span class="token literal-property property">enumerable</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
  <span class="token literal-property property">configurable</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

Object<span class="token punctuation">.</span><span class="token function">seal</span><span class="token punctuation">(</span>myObj<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// 프로퍼티 읽기 가능</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>myObj<span class="token punctuation">.</span>num<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 10</span>

<span class="token comment">// 프로퍼티 값 변경 가능</span>
myObj<span class="token punctuation">.</span>num <span class="token operator">=</span> <span class="token number">20</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>myObj<span class="token punctuation">.</span>num<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 20</span>

<span class="token comment">// 새로운 프로퍼티 추가 불가능(기본적으로 무시되나 strict mode에서는 에러)</span>
myObj<span class="token punctuation">.</span>num2 <span class="token operator">=</span> <span class="token number">30</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>myObj<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// {num: 20}</span>

<span class="token comment">// 프로퍼티 속성 변경 불가능(Object.seal()로 봉인하지 않았으면 가능)</span>
Object<span class="token punctuation">.</span><span class="token function">defineProperty</span><span class="token punctuation">(</span>myObj<span class="token punctuation">,</span> <span class="token string">'num'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> <span class="token literal-property property">enumerable</span><span class="token operator">:</span> <span class="token boolean">false</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// Uncaught TypeError: Cannot redefine property: num</span>

<span class="token comment">// 프로퍼티 삭제 불가능(기본적으로 무시되나 strict mode에서는 에러)</span>
<span class="token keyword">delete</span> myObj<span class="token punctuation">.</span>num<span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>myObj<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// {num: 20}</span>
</code></pre></div><br> <h3 id="_3-객체-동결"><a href="#_3-객체-동결" class="header-anchor">#</a> (3) 객체 동결</h3> <ul><li><b><code>Object.freeze</code> 메서드</b>를 이용해서 프로퍼티 <b>읽기만 가능</b>한 동결 객체를 만들 수 있다.</li> <li><code>Object.seal</code> 메서드를 적용하고 데이터 프로퍼티를 모두 <code>writable: false</code>로 처리하는 액션과 동일한 효과를 가진다.</li> <li>동결 여부는 <b><code>Object.isFrozen</code> 메서드</b>로 알 수 있다.</li></ul> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">var</span> obj <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">a</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">x</span><span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token literal-property property">b</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">y</span> <span class="token operator">:</span> <span class="token number">3</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token literal-property property">c</span><span class="token operator">:</span> <span class="token number">10</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

Object<span class="token punctuation">.</span><span class="token function">freeze</span><span class="token punctuation">(</span>obj<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// 프로퍼티 추가 금지(기본적으로 무시되나 strict mode에서는 에러)</span>
obj<span class="token punctuation">.</span>d <span class="token operator">=</span> <span class="token number">20</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>obj<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// { a: {x: 2}, b: {y: 3}, c: 10 }</span>

<span class="token comment">// 프로퍼티 삭제 금지(기본적으로 무시되나 strict mode에서는 에러)</span>
<span class="token keyword">delete</span> obj<span class="token punctuation">.</span>c<span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>obj<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// { a: {x: 2}, b: {y: 3}, c: 10 }</span>

<span class="token comment">// 프로퍼티 값 갱신 금지(기본적으로 무시되나 strict mode에서는 에러)</span>
obj<span class="token punctuation">.</span>c <span class="token operator">=</span> <span class="token number">20</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>obj<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// { a: {x: 2}, b: {y: 3}, c: 10 }</span>

<span class="token comment">// 프로퍼티 어트리뷰트 재정의 금지</span>
Object<span class="token punctuation">.</span><span class="token function">defineProperty</span><span class="token punctuation">(</span>obj<span class="token punctuation">,</span> <span class="token string">'c'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> <span class="token literal-property property">configurable</span><span class="token operator">:</span> <span class="token boolean">true</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// Uncaught TypeError: Cannot redefine property: c</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>obj<span class="token punctuation">.</span>a<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// {x: 2}</span>

obj<span class="token punctuation">.</span>a <span class="token operator">=</span> <span class="token number">5</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>obj<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// { a: {x: 2}, b: {y: 3}, c: 10 }</span>

<span class="token comment">// [주의!] 얕은 불변성만 지원하므로 그 안의 다른 참조 타입의 값이 있다면 재귀적으로 반복하면서 객체를 완전히 동결해야 한다.</span>
obj<span class="token punctuation">.</span>a<span class="token punctuation">.</span>x <span class="token operator">=</span> <span class="token number">3</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>obj<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// { a: {x: 3}, b: {y: 3}, c: 10 }</span>
</code></pre></div><ul><li>이 메서드와 <code>const</code> 변수 선언 키워드를 사용하여 주로 값이 변하지 않는 상수를 관리하는 객체를 만들 수 있다.</li></ul> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token comment">/** 메일 쓰기 페이지 모드 상수 값 */</span>
<span class="token keyword">const</span> <span class="token constant">MAIL_WRITE_MODE</span> <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">/** 신규 작성 */</span>
  <span class="token keyword">new</span><span class="token operator">:</span> <span class="token string">'new'</span><span class="token punctuation">,</span>
  <span class="token comment">/** 답장 */</span>
  <span class="token literal-property property">reply</span><span class="token operator">:</span> <span class="token string">'reply'</span><span class="token punctuation">,</span>
  <span class="token comment">/** 전체 답장 */</span>
  <span class="token literal-property property">reply_all</span><span class="token operator">:</span> <span class="token string">'reply_all'</span><span class="token punctuation">,</span>
  <span class="token comment">/** 전달 */</span>
  <span class="token literal-property property">forward</span><span class="token operator">:</span> <span class="token string">'forward'</span><span class="token punctuation">,</span>
  <span class="token comment">/** 임시 보관함에서 가져온 메일 */</span>
  <span class="token literal-property property">temp</span><span class="token operator">:</span> <span class="token string">'temp'</span><span class="token punctuation">,</span>
  <span class="token comment">/** 재발송 */</span>
  <span class="token literal-property property">resend</span><span class="token operator">:</span> <span class="token string">'resend'</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

Object<span class="token punctuation">.</span><span class="token function">freeze</span><span class="token punctuation">(</span><span class="token constant">MAIL_WRITE_MODE</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">export</span> <span class="token punctuation">{</span>
  <span class="token constant">MAIL_WRITE_MODE</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>
</code></pre></div><br> <h3 id="_4-불변-객체"><a href="#_4-불변-객체" class="header-anchor">#</a> (4) 불변 객체</h3> <ul><li>위 예제에서 마지막 부분에서 봤다시피 지금까지 살펴본 객체 변경 방지 메서드들은 <b>얕은 불변성</b>만 지원한다.</li> <li>따라서 <code>Object.freeze</code> 메서드로 객체를 동결하여도 중첩 객체까지 동결할 수 없다.</li> <li>이를 해결하기 위해 중첩 객체의 모든 프로퍼티에 <b>재귀적으로 <code>Object.freeze</code> 메서드를 호출</b>해야 한다.</li></ul> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">deepFreeze</span><span class="token punctuation">(</span><span class="token parameter">target</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// 객체가 아니거나 동결된 객체는 무시하고 객체이고 동결되지 않은 객체만 동결한다.</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>target <span class="token operator">&amp;&amp;</span> <span class="token keyword">typeof</span> target <span class="token operator">===</span> <span class="token string">'object'</span> <span class="token operator">&amp;&amp;</span> <span class="token operator">!</span>Object<span class="token punctuation">.</span><span class="token function">isFrozen</span><span class="token punctuation">(</span>target<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    Object<span class="token punctuation">.</span><span class="token function">freeze</span><span class="token punctuation">(</span>target<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// 모든 프로퍼티를 순회하며 재귀적으로 동결한다.</span>
    Object<span class="token punctuation">.</span><span class="token function">keys</span><span class="token punctuation">(</span>target<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token parameter">key</span> <span class="token operator">=&gt;</span> <span class="token function">deepFreeze</span><span class="token punctuation">(</span>target<span class="token punctuation">[</span>key<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">return</span> target<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">const</span> obj <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">a</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">x</span><span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token literal-property property">b</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">y</span> <span class="token operator">:</span> <span class="token number">3</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token function">deepFreeze</span><span class="token punctuation">(</span>obj<span class="token punctuation">)</span><span class="token punctuation">;</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>Object<span class="token punctuation">.</span><span class="token function">isFrozen</span><span class="token punctuation">(</span>obj<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// true</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>Object<span class="token punctuation">.</span><span class="token function">isFrozen</span><span class="token punctuation">(</span>obj<span class="token punctuation">.</span>a<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// true</span>

obj<span class="token punctuation">.</span>a<span class="token punctuation">.</span>x <span class="token operator">=</span> <span class="token number">4</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>obj<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// { a: {x: 2}, b: {y: 3} }</span>
</code></pre></div><br> <h3 id="객체-변경-방지-메서드-정리"><a href="#객체-변경-방지-메서드-정리" class="header-anchor">#</a> 📌 객체 변경 방지 메서드 정리</h3> <table><thead><tr><th>동작</th> <th>일반 객체</th> <th>동결 객체(freeze)</th> <th>봉인 객체(seal)</th> <th>확장 금지 객체(preventExtensions)</th></tr></thead> <tbody><tr><td>프로퍼티 추가</td> <td>O</td> <td>X</td> <td>X</td> <td>X</td></tr> <tr><td>프로퍼티 값 읽기</td> <td>O</td> <td>O</td> <td>O</td> <td>O</td></tr> <tr><td>프로퍼티 값 설정(쓰기)</td> <td>O</td> <td>X</td> <td>O</td> <td>O</td></tr> <tr><td>프로퍼티 어트리뷰트 변경</td> <td>O</td> <td>X</td> <td>X</td> <td>O</td></tr> <tr><td>프로퍼티 삭제</td> <td>O</td> <td>X</td> <td>X</td> <td>O</td></tr></tbody></table></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/wally-wally-til/til/js-deep-dive/chapter15.html" class="prev">
        Chapter15
      </a></span> <span class="next"><a href="/wally-wally-til/til/js-deep-dive/chapter17.html">
        Chapter17
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/wally-wally-til/assets/js/app.f5246800.js" defer></script><script src="/wally-wally-til/assets/js/2.fd76ebd9.js" defer></script><script src="/wally-wally-til/assets/js/48.8846fba8.js" defer></script>
  </body>
</html>
